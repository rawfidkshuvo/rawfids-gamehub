import{c as F,i as Oe,g as Ve,a as We,r as l,e as Ye,o as pe,d as g,j as e,H as Ue,S as ye,R as O,n as Xe,s as Ke,h as Qe,p as Ze,u as C,q as V,t as Je,v as et,X as Ie,m as tt}from"./x-vdu6PxPT.js";import{L as Ce,S as st,B as se,C as A,a as at,b as ae,R as ne,P as nt}from"./step-back-ah_wnjl-.js";import{D as H,M as it}from"./megaphone-CtFoEeL1.js";import{C as je}from"./crown-DhFWzZA3.js";import{U as we}from"./user-hi-jrCL7.js";import{T as rt}from"./trash-2-CC3Hg-Aa.js";import{H as Se}from"./history-r3RmdCN7.js";import{D as lt}from"./dice-5-kys5QpJR.js";import{S as ot}from"./skull--JE29QMg.js";import{G as dt}from"./ghost-Ddz50Svz.js";import{H as _e}from"./house-BdFnrmDF.js";import{G as ct}from"./gavel-CJ-N0LgK.js";import{T as xt}from"./trophy-CV5zFLFQ.js";const mt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],ut=F("dice-1",mt);const ht=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M15 9h.01",key:"x1ddxp"}],["path",{d:"M9 15h.01",key:"fzyn71"}]],bt=F("dice-2",ht);const gt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ft=F("dice-3",gt);const pt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}]],yt=F("dice-4",pt);const jt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],wt=F("dice-6",jt),ve="/rawfids-gamehub/assets/ghost_cover-BsTZZ7Fb.png",vt={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:91da4fa4ace038d16aa637"},De=Oe(vt),ee=Ve(De),h=We(De),y=typeof __app_id<"u"?__app_id:"ghost-dice",Nt="7",D={1:ut,2:bt,3:ft,4:yt,5:lt,6:wt},B=[{name:"Green",color:"text-green-400",border:"border-green-500",bg:"bg-green-900/20",shadow:"shadow-green-500/20",ring:"ring-green-500"},{name:"Orange",color:"text-orange-400",border:"border-orange-500",bg:"bg-orange-900/20",shadow:"shadow-orange-500/20",ring:"ring-orange-500"},{name:"Cyan",color:"text-cyan-400",border:"border-cyan-500",bg:"bg-cyan-900/20",shadow:"shadow-cyan-500/20",ring:"ring-cyan-500"},{name:"Yellow",color:"text-yellow-400",border:"border-yellow-500",bg:"bg-yellow-900/20",shadow:"shadow-yellow-500/20",ring:"ring-yellow-500"},{name:"Purple",color:"text-purple-400",border:"border-purple-500",bg:"bg-purple-900/20",shadow:"shadow-purple-500/20",ring:"ring-purple-500"},{name:"Rose",color:"text-rose-400",border:"border-rose-500",bg:"bg-rose-900/20",shadow:"shadow-rose-500/20",ring:"ring-rose-500"}],W=({isShaking:i})=>e.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${i?"animate-shake bg-red-900/20":""}`,children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-slate-900/40 via-gray-950 to-black"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((u,c)=>{const d=Object.keys(D),o=d[c%d.length],m=D[o];return e.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:e.jsx(m,{size:32})},c)})}),e.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),te=()=>e.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[e.jsx(H,{size:12,className:"text-indigo-400"}),e.jsx("span",{className:"text-[10px] font-black tracking-widest text-indigo-400 uppercase",children:"GHOST DICE"})]}),Ne=()=>e.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[e.jsx(H,{size:22,className:"text-indigo-400"}),e.jsx("span",{className:"text-[20px] font-black tracking-widest text-indigo-400 uppercase",children:"GHOST DICE"})]}),ze=({onConfirmLeave:i,onConfirmLobby:u,onCancel:c,isHost:d,inGame:o})=>e.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 animate-in fade-in",children:e.jsxs("div",{className:"bg-zinc-900 rounded-xl border border-zinc-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon the Haunt?"}),e.jsx("p",{className:"text-zinc-400 mb-6 text-sm",children:o?"Leaving now will forfeit your soul (and the game).":"Leaving the lobby will disconnect you."}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:c,className:"bg-zinc-700 hover:bg-zinc-600 text-white py-3 rounded font-bold transition-colors",children:"Stay"}),o&&d&&e.jsxs("button",{onClick:u,className:"py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 bg-indigo-600 hover:bg-indigo-500 text-white",children:[e.jsx(_e,{size:18})," Return Group to Lobby"]}),e.jsxs("button",{onClick:i,className:"bg-red-900/80 hover:bg-red-800 text-red-200 py-3 rounded font-bold transition-colors flex items-center justify-center gap-2 border border-red-900",children:[e.jsx(ae,{size:18})," Leave Game"]})]})]})}),zt=({logs:i,onClose:u})=>e.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:e.jsxs("div",{className:"bg-zinc-900 w-full md:max-w-md h-full md:h-[70vh] rounded-none md:rounded-xl flex flex-col border-none md:border border-zinc-700 shadow-2xl",children:[e.jsxs("div",{className:"p-4 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[e.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[e.jsx(Se,{size:18,className:"text-indigo-400"})," Séance Logs"]}),e.jsx("button",{onClick:u,className:"p-2 bg-zinc-800 rounded-full hover:bg-zinc-700",children:e.jsx(Ie,{className:"text-zinc-400"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...i].reverse().map((c,d)=>e.jsxs("div",{className:`text-xs md:text-sm p-3 rounded border-l-2 ${c.type==="danger"?"bg-red-900/10 border-red-500 text-red-300":c.type==="success"?"bg-green-900/10 border-green-500 text-green-300":c.type==="warning"?"bg-indigo-900/10 border-indigo-500 text-indigo-300":"bg-zinc-800/50 border-zinc-600 text-zinc-400"}`,children:[e.jsxs("span",{className:"opacity-50 mr-2 font-mono",children:["[",new Date(parseInt(c.id)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),"]"]}),c.text]},d))})]})}),ke=({onClose:i})=>e.jsx("div",{className:"fixed inset-0 bg-black/95 z-100 flex items-center justify-center p-0 md:p-4 animate-in fade-in",children:e.jsxs("div",{className:"bg-zinc-900 md:rounded-2xl w-full max-w-4xl h-full md:h-auto md:max-h-[90vh] overflow-hidden border-none md:border border-indigo-500/30 flex flex-col",children:[e.jsxs("div",{className:"p-6 border-b border-zinc-800 flex justify-between items-center bg-zinc-950",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 tracking-wider",children:[e.jsx(se,{className:"text-indigo-400"})," The Grimoire"]}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-zinc-800 rounded-full text-zinc-400",children:e.jsx(Ie,{})})]}),e.jsx("div",{className:"p-6 overflow-y-auto text-zinc-300 space-y-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-lg border border-zinc-700",children:[e.jsx("h3",{className:"text-xl font-bold text-indigo-400 mb-2",children:"The Basics"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[e.jsxs("li",{children:["Everyone starts with ",e.jsx("strong",{children:"5 Dice"}),"."]}),e.jsxs("li",{children:["Only ",e.jsx("strong",{children:"you"})," can see your own dice."]}),e.jsx("li",{children:"Goal: Be the last player with dice remaining."}),e.jsxs("li",{children:[e.jsx("strong",{children:"1s (Aces) are Wild!"})," They count as any number, unless the bid is on 1s."]})]})]}),e.jsxs("div",{className:"bg-zinc-800/50 p-4 rounded-lg border border-zinc-700",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Bidding & Challenging"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Bid:"})," Claim a quantity of a specific face value on the ",e.jsx("em",{children:"entire table"}),' (e.g., "Five 4s").']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Raise:"})," You must bid a higher quantity OR the same quantity with a higher face value."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Liar!:"})," If you don't believe the previous bid, challenge it!"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Result:"})," If the bid was valid, Challenger loses a die. If invalid, Bidder loses a die."]})]})]})]})})]})}),kt=({data:i,currentUserId:u,onClose:c})=>{if(!i)return null;const d=u===i.loserId,o=u===i.winnerId;let m="bg-zinc-800/95 border-zinc-500 text-white",j="animate-in fade-in zoom-in slide-in-from-bottom-10",S="bg-zinc-700 hover:bg-zinc-600 text-white border-zinc-500";o?(m="bg-green-900/95 border-green-500 text-green-100 shadow-[0_0_100px_rgba(34,197,94,0.5)]",S="bg-green-600 hover:bg-green-500 text-white border-green-400"):d&&(m="bg-red-900/95 border-red-500 text-red-100 shadow-[0_0_100px_rgba(239,68,68,0.5)]",j+=" animate-shake",S="bg-red-800 hover:bg-red-700 text-white border-red-400");const t=D[i.bidFace]||H;return e.jsxs("div",{className:"fixed inset-0 z-160 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:[d&&e.jsx("div",{className:"absolute inset-0 bg-red-500/10 z-0"}),o&&e.jsx("div",{className:"absolute inset-0 bg-green-500/10 z-0"}),e.jsxs("div",{className:`
      relative z-10 flex flex-col items-center justify-center p-8 rounded-3xl border-4 
      max-w-xl w-full text-center shadow-2xl duration-300
      ${m} ${j}
    `,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-3xl font-black uppercase tracking-widest mb-2",children:"LIAR CALLED!"}),e.jsxs("p",{className:"text-lg opacity-80",children:[e.jsx("span",{className:"font-bold border-b border-white/30 pb-0.5",children:i.challengerName})," ","called out"," ",e.jsx("span",{className:"font-bold border-b border-white/30 pb-0.5",children:i.bidderName})]})]}),e.jsxs("div",{className:"bg-black/30 p-6 rounded-xl w-full mb-8 border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-center gap-8 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider opacity-70 mb-1",children:"Bid"}),e.jsxs("div",{className:"text-4xl font-black flex items-center gap-2 justify-center",children:[i.bidQuantity," ",e.jsx("span",{className:"text-sm opacity-50",children:"x"})," ",e.jsx(t,{size:32})]})]}),e.jsx("div",{className:"h-12 w-px bg-white/20"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xs uppercase tracking-wider opacity-70 mb-1",children:"Found"}),e.jsx("div",{className:`text-4xl font-black ${i.actualCount>=i.bidQuantity?"text-green-400":"text-red-400"}`,children:i.actualCount})]})]}),e.jsx("p",{className:"text-sm italic opacity-75",children:i.actualCount>=i.bidQuantity?"The bid was truthful!":"The bid was a lie!"})]}),e.jsxs("div",{className:"text-2xl font-bold uppercase tracking-wide bg-black/40 px-6 py-3 rounded-full border border-white/20 mb-8",children:[i.loserName," loses a die!"]}),e.jsx("button",{onClick:c,className:`
            w-full py-4 rounded-xl font-bold text-lg uppercase tracking-widest border-2 shadow-lg
            transition-all transform hover:scale-[1.02] active:scale-[0.98]
            ${S}
          `,children:"Continue"})]})]})},It=e.jsx("style",{children:`
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }
    .animate-shake {
      animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
    }
  `}),Ct=({winnerName:i,onReturnToLobby:u,isHost:c})=>e.jsxs("div",{className:"fixed inset-0 z-155 bg-black/95 flex flex-col items-center justify-center animate-in fade-in duration-500",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,var(--tw-gradient-stops))] from-indigo-900/40 via-black to-black pointer-events-none"}),e.jsxs("div",{className:"z-10 text-center space-y-8 p-8",children:[e.jsx("div",{className:"mb-4",children:e.jsx(xt,{size:80,className:"text-yellow-400 mx-auto animate-bounce drop-shadow-[0_0_35px_rgba(250,204,21,0.6)]"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl text-zinc-400 font-serif tracking-widest uppercase",children:"The Deadliest Ghost"}),e.jsx("h1",{className:"text-6xl md:text-8xl font-black text-transparent bg-clip-text bg-linear-to-b from-yellow-300 to-yellow-600 drop-shadow-2xl",children:i})]}),e.jsx("div",{className:"pt-12",children:c?e.jsx("button",{onClick:u,className:"group relative px-8 py-4 bg-zinc-100 text-black font-black text-xl rounded-full hover:bg-white hover:scale-105 transition-all shadow-[0_0_30px_rgba(255,255,255,0.3)]",children:e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx(ne,{className:"group-hover:-rotate-180 transition-transform duration-500"}),"RETURN TO LOBBY"]})}):e.jsx("div",{className:"text-zinc-500 animate-pulse font-mono",children:"Waiting for Host to reset..."})})]})]}),St=({onStart:i})=>{const[u,c]=l.useState(!1),[d,o]=l.useState(!1),[m,j]=l.useState(!1);return l.useEffect(()=>{const S=localStorage.getItem("ghost_dice_roomId");c(!!S);const t=new Image;t.src=ve,t.onload=()=>{o(!0),setTimeout(()=>{j(!0)},2e3)}},[]),e.jsxs("div",{className:"fixed inset-0 z-[200] bg-black flex flex-col items-center justify-end pb-20 md:justify-center md:pb-0 font-sans overflow-hidden",children:[!d&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center z-50 text-indigo-500/50",children:[e.jsx(Ce,{size:48,className:"animate-spin mb-4"}),e.jsx("div",{className:"font-mono text-xs tracking-[0.3em] animate-pulse",children:"INITIALIZING SYSTEM..."})]}),e.jsxs("div",{className:`absolute inset-0 z-0 overflow-hidden transition-opacity duration-1000 ${d?"opacity-100":"opacity-0"}`,children:[e.jsx("div",{className:`w-full h-full bg-cover bg-center transition-transform duration-[2000ms] ease-out ${d?"scale-100":"scale-130"}`,style:{backgroundImage:`url(${ve})`}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-black/40"})]}),e.jsx("div",{className:"relative z-10 flex flex-col items-center gap-8 animate-in fade-in slide-in-from-bottom-10 duration-1000",children:e.jsx("div",{className:`transform transition-all duration-1000 ease-out ${m?"translate-y-0 opacity-100":"translate-y-32 opacity-0"}`,children:e.jsxs("button",{onClick:i,className:"group relative px-12 py-5 bg-indigo-600/20 hover:bg-indigo-600/40 border border-indigo-500/50 hover:border-indigo-400 text-indigo-300 font-black text-2xl tracking-widest rounded-none transform transition-all hover:scale-105 hover:shadow-[0_0_30px_rgba(34,211,238,0.4)] backdrop-blur-md overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-indigo-400/10 to-transparent translate-y-[-100%] animate-[scan_2s_infinite_linear]"}),e.jsx("span",{className:"relative z-10 flex items-center gap-3 animate-pulse",children:u?e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"animate-spin-slow"})," RESUME"]}):e.jsxs(e.Fragment,{children:[e.jsx(nt,{})," PLAY"]})})]})})}),e.jsx("style",{children:`
        @keyframes scan {
          0% { transform: translateY(-100%); }
          100% { transform: translateY(200%); }
        }
      `})]})};function _t(){const[i,u]=l.useState(null),[c,d]=l.useState("splash"),[o,m]=l.useState(""),[j,S]=l.useState(""),[t,$e]=l.useState(null),[ie,E]=l.useState(!1),[Y,_]=l.useState(""),[re,le]=l.useState(!1),[Re,oe]=l.useState(!1),[de,P]=l.useState(!1),[ce,$]=l.useState(!1),[U,xe]=l.useState(!1),[me,X]=l.useState(null),[w,K]=l.useState(1),[L,ue]=l.useState(2),[k,Be]=l.useState(()=>localStorage.getItem("gameHub_playerName")||"");l.useEffect(()=>{k&&localStorage.setItem("gameHub_playerName",k)},[k]),l.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await Xe(ee,__initial_auth_token):await Ke(ee))();const s=Ye(ee,u);return()=>s()},[]);const Ee=()=>{const n=localStorage.getItem("ghost_dice_roomId");n&&(E(!0),m(n)),d("menu")};l.useEffect(()=>{if(!o||!i)return;const n=pe(g(h,"artifacts",y,"public","data","rooms",o),s=>{if(s.exists()){const a=s.data();if(!a.players.some(r=>r.id===i.uid)){m(""),localStorage.removeItem("ghost_dice_roomId"),d("menu"),_("Connection Terminated.");return}$e(a),a.status==="lobby"?d("lobby"):d("game"),a.feedbackTrigger?a.feedbackTrigger.id!==t?.feedbackTrigger?.id&&X(a.feedbackTrigger):X(null),a.currentBid&&!t?.currentBid&&(K(a.currentBid.quantity),ue(a.currentBid.face))}else m(""),localStorage.removeItem("ghost_dice_roomId"),d("menu"),_("Room vanished into the ether.")});return()=>n()},[o,i,t?.feedbackTrigger?.id]),l.useEffect(()=>{const n=pe(g(h,"game_hub_settings","config"),s=>{s.exists()&&s.data()[Nt]?.maintenance?oe(!0):oe(!1)});return()=>n()},[]);const Le=async()=>{if(!k.trim())return _("Name required.");E(!0);const n="123456789ABCDEFGHIJKLMNPQRSTUVWXYZ";let s="";for(let r=0;r<6;r++)s+=n.charAt(Math.floor(Math.random()*n.length));const a={roomId:s,hostId:i.uid,status:"lobby",players:[{id:i.uid,name:k,dice:[],diceCount:5,eliminated:!1,ready:!0}],logs:[],turnIndex:0,currentBid:null,turnState:"IDLE",feedbackTrigger:null,winner:null,roundLoserId:null,revealReadyIds:[]};try{await Qe(g(h,"artifacts",y,"public","data","rooms",s),a),m(s),localStorage.setItem("ghost_dice_roomId",s),d("lobby")}catch{_("Network error.")}E(!1)},Te=async()=>{if(!j||!k)return _("Code and Name required.");E(!0);try{const n=g(h,"artifacts",y,"public","data","rooms",j),s=await Ze(n);if(!s.exists())throw new Error("Room not found.");const a=s.data();if(a.status!=="lobby")throw new Error("Game already in progress.");if(a.players.length>=6)throw new Error("Table full.");a.players.find(r=>r.id===i.uid)||await C(n,{players:V({id:i.uid,name:k,dice:[],diceCount:5,eliminated:!1,ready:!0})}),m(j),localStorage.setItem("ghost_dice_roomId",j)}catch(n){_(n.message)}E(!1)},he=async()=>{if(!o)return;const n=g(h,"artifacts",y,"public","data","rooms",o);if(t.hostId===i.uid)await Je(n);else{const a=t.players.filter(r=>r.id!==i.uid);await C(n,{players:a})}m(""),localStorage.removeItem("ghost_dice_roomId"),d("menu"),$(!1)},Me=async n=>{if(t.hostId!==i.uid)return;const s=t.players.filter(a=>a.id!==n);await C(g(h,"artifacts",y,"public","data","rooms",o),{players:s})},be=async()=>{if(!t)return;const n=t.players.map(s=>s.id===i.uid?{...s,ready:!s.ready}:s);await C(g(h,"artifacts",y,"public","data","rooms",o),{players:n})},ge=n=>{const s=[];for(let a=0;a<n;a++)s.push(Math.floor(Math.random()*6)+1);return s.sort()},Ge=()=>{const n=t.roomId,s=()=>{le(!0),setTimeout(()=>le(!1),2e3),triggerFeedback&&triggerFeedback("neutral","COPIED!","",A)};try{navigator.clipboard.writeText(n),s()}catch{const r=document.createElement("textarea");r.value=n,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),s()}},fe=async()=>{if(t.players.length<2)return _("Need 2+ Players.");const n=t.players.map(a=>({...a,diceCount:5,dice:ge(5),eliminated:!1,ready:!1})),s=Math.floor(Math.random()*n.length);await C(g(h,"artifacts",y,"public","data","rooms",o),{status:"playing",players:n,turnIndex:s,currentBid:null,turnState:"BIDDING",feedbackTrigger:null,winner:null,revealReadyIds:[],roundLoserId:null,logs:[{id:Date.now().toString(),text:"The Haunt Begins. 5 Dice each.",type:"neutral"}]})},Ae=async()=>{const n=t.currentBid,s=t.players.find(r=>r.id===i.uid);if(n&&(w<n.quantity||w===n.quantity&&L<=n.face))return;let a=(t.turnIndex+1)%t.players.length;for(;t.players[a].eliminated;)a=(a+1)%t.players.length;await C(g(h,"artifacts",y,"public","data","rooms",o),{currentBid:{quantity:w,face:L,playerId:i.uid,playerName:s.name},turnIndex:a,logs:V({id:Date.now().toString(),text:`${s.name} bids: ${w}x ${L}s`,type:"neutral"})})},He=async()=>{const n=t.currentBid,s=t.players.find(p=>p.id===i.uid),a=t.players.find(p=>p.id===n.playerId);let r=0,f=[];t.players.forEach(p=>{p.eliminated||(f=[...f,...p.dice],p.dice.forEach(T=>{(T===n.face||T===1&&n.face!==1)&&r++}))});const b=r>=n.quantity,N=b?s.id:a.id,R=b?a.id:s.id,q=b?s.name:a.name,x={id:Date.now(),type:"challenge_result",challengerName:s.name,bidderName:a.name,bidQuantity:n.quantity,bidFace:n.face,actualCount:r,loserId:N,winnerId:R,loserName:q};let z=[{id:Date.now().toString(),text:`${s.name} called LIAR on ${a.name}!`,type:"warning"},{id:Date.now()+1,text:`Result: ${r} matching dice found (Bid: ${n.quantity}).`,type:b?"success":"danger"},{id:Date.now()+2,text:`${q} loses a die.`,type:"danger"}];await C(g(h,"artifacts",y,"public","data","rooms",o),{turnState:"REVEAL",feedbackTrigger:x,logs:V(...z),roundLoserId:N,revealReadyIds:[]})},Fe=async()=>{if(!t||!i)return;const n=g(h,"artifacts",y,"public","data","rooms",o);try{await et(h,async s=>{const a=await s.get(n);if(!a.exists())return;const r=a.data();if(r.revealReadyIds?.includes(i.uid))return;const f=[...r.revealReadyIds||[],i.uid],b=r.players.find(x=>x.id===r.roundLoserId),N=b&&b.diceCount<=1,q=r.players.filter(x=>!(x.eliminated||x.id===r.roundLoserId&&N)).length;if(f.length>=q){const x=[...r.players],z=x.findIndex(I=>I.id===r.roundLoserId);x[z].diceCount-=1;let p="",T="BIDDING",Z=null,qe=null;x[z].diceCount<=0&&(x[z].eliminated=!0,p=`${x[z].name} has run out of soul. Eliminated.`);const J=x.filter(I=>!I.eliminated);J.length===1?(T="FINISHED",Z=J[0].name,qe=null):x.forEach(I=>{I.eliminated?I.dice=[]:I.dice=ge(I.diceCount)});let M=z;if(x[z].eliminated)for(M=(z+1)%x.length;x[M].eliminated&&J.length>1;)M=(M+1)%x.length;const G={players:x,turnState:T==="FINISHED"?"IDLE":"BIDDING",currentBid:null,turnIndex:M,revealReadyIds:[],roundLoserId:null};p&&(G.logs=V({id:Date.now().toString(),text:p,type:"danger"})),Z&&(G.status="finished",G.winner=Z,G.feedbackTrigger=null),s.update(n,G)}else s.update(n,{revealReadyIds:f})})}catch(s){console.error("Transaction failed: ",s)}},Q=async()=>{const n=t.players.map(s=>({...s,dice:[],diceCount:5,eliminated:!1,ready:!0}));await C(g(h,"artifacts",y,"public","data","rooms",o),{status:"lobby",players:n,logs:[],currentBid:null,turnState:"IDLE",winner:null,feedbackTrigger:null,revealReadyIds:[],roundLoserId:null})},v=t?.players.find(n=>n.id===i?.uid),Pe=t?.players[t?.turnIndex]?.id===i?.uid;if(Re)return e.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[e.jsx(Ne,{}),e.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[e.jsx(Ue,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),e.jsx("p",{className:"text-gray-400",children:"The spirits are resting. The tavern is closed until dusk."})]}),e.jsx("div",{className:"h-8"}),e.jsx("a",{href:"/rawfids-gamehub/",children:e.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:e.jsx("div",{className:"text-center pb-12 animate-pulse",children:e.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[e.jsx(ye,{size:16})," Visit Gamehub...Try our other releases..."," ",e.jsx(ye,{size:16})]})})})}),e.jsx(te,{})]});if(!i)return e.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center text-indigo-500 animate-pulse",children:"Summoning souls..."});if(o&&!t&&!Y)return e.jsxs("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center text-white p-4",children:[e.jsx(W,{}),e.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur p-8 rounded-2xl border border-zinc-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[e.jsx(Ce,{size:48,className:"text-indigo-500 animate-spin"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Resuming your session"})]})]})]});if(c==="splash")return e.jsx(St,{onStart:Ee});if(c==="menu")return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[e.jsx(W,{}),e.jsx("nav",{className:"absolute top-0 left-0 w-full p-4 z-50",children:e.jsxs("a",{href:"/rawfids-gamehub/",className:"flex items-center gap-2 text-indigo-800 rounded-lg font-bold shadow-md hover:text-indigo-400 transition-colors w-fit animate-pulse",children:[e.jsx(st,{}),e.jsx("span",{children:"Back to Gamehub"})]})}),de&&e.jsx(ke,{onClose:()=>P(!1)}),e.jsxs("div",{className:"z-10 text-center mb-10",children:[e.jsx(H,{size:64,className:"text-indigo-400 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(129,140,248,0.5)]"}),e.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-linear-to-b from-indigo-300 to-zinc-500 font-serif tracking-widest drop-shadow-md",children:"GHOST DICE"}),e.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Dead Men Tell No Tales"})]}),e.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur border border-indigo-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[Y&&e.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:Y}),e.jsx("input",{className:"w-full bg-black/50 border border-zinc-600 p-3 rounded mb-4 text-white placeholder-zinc-500 focus:border-indigo-500 outline-none transition-colors",placeholder:"Soul Name",value:k,onChange:n=>Be(n.target.value)}),e.jsxs("button",{onClick:Le,disabled:ie,className:"w-full bg-linear-to-r from-indigo-700 to-zinc-600 hover:from-indigo-600 hover:to-zinc-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-indigo-500/30 shadow-[0_0_15px_rgba(99,102,241,0.2)] transition-all",children:[e.jsx(je,{size:20})," Host Séance"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[e.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-zinc-600 p-3 rounded text-white placeholder-zinc-500 uppercase font-mono tracking-wider focus:border-indigo-500 outline-none",placeholder:"CODE",value:j,onChange:n=>S(n.target.value.toUpperCase())}),e.jsx("button",{onClick:Te,disabled:ie,className:"w-full sm:w-auto bg-zinc-800 hover:bg-zinc-700 border border-zinc-600 px-6 py-3 rounded font-bold transition-colors",children:"Join"})]}),e.jsxs("button",{onClick:()=>P(!0),className:"w-full text-sm text-zinc-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[e.jsx(se,{size:16})," The Grimoire"]})]}),e.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Liar's Dice. A tribute game.",e.jsx("br",{}),"Developed by ",e.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",e.jsx("a",{href:"/rawfids-gamehub/",rel:"noopener noreferrer",className:"text-indigo-500 underline hover:text-indigo-600",children:"GAMEHUB"})," ","for more games."]})]});if(c==="lobby"&&t){const n=t.hostId===i.uid;return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col items-center justify-center p-6 relative",children:[e.jsx(W,{}),e.jsx(Ne,{}),ce&&e.jsx(ze,{onConfirmLeave:he,onCancel:()=>$(!1),isHost:n,inGame:!1}),e.jsxs("div",{className:"z-10 w-full max-w-lg bg-zinc-900/90 backdrop-blur p-8 rounded-2xl border border-indigo-900/50 shadow-2xl mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-zinc-700 pb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg md:text-xl text-indigo-400 font-bold uppercase",children:"Crypt"}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white",children:o}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:Ge,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:re?e.jsx(A,{size:16,className:"text-green-500"}):e.jsx(at,{size:16})}),re&&e.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-indigo-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]}),e.jsx("button",{onClick:()=>$(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",children:e.jsx(ae,{size:16})})]}),e.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-zinc-800",children:[e.jsx("h3",{className:"text-zinc-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:e.jsxs("span",{children:["Souls (",t.players.length,")"]})}),e.jsxs("div",{className:"space-y-2",children:[t.players.map((s,a)=>{const r=B[a%B.length];return e.jsxs("div",{className:`flex items-center justify-between p-3 rounded border ${r.bg} ${r.border}`,children:[e.jsxs("span",{className:`font-bold flex items-center gap-2 ${r.color}`,children:[e.jsx(we,{size:14})," ",s.name," ",s.id===t.hostId&&e.jsx(je,{size:14,className:"text-yellow-500"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[e.jsx(A,{size:12})," Present"]}),n&&s.id!==i.uid&&e.jsx("button",{onClick:()=>Me(s.id),className:"p-1.5 text-zinc-500 hover:text-red-400 hover:bg-red-900/20 rounded-full transition-colors",title:"Kick Soul",children:e.jsx(rt,{size:14})})]})]},s.id)}),t.players.length<2&&e.jsx("div",{className:"text-center text-zinc-500 italic text-sm py-2",children:"Waiting for more souls..."})]})]}),n?e.jsx("button",{onClick:fe,disabled:t.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${t.players.length>=2?"bg-indigo-700 hover:bg-indigo-600 text-white shadow-indigo-900/20":"bg-zinc-800 cursor-not-allowed text-zinc-500"}`,children:t.players.length<2?"Need 2+ Players...":"Begin Haunt"}):e.jsx("div",{className:"text-center text-indigo-400/60 animate-pulse font-serif italic",children:"Waiting for Host..."})]}),e.jsx(te,{})]})}if(c==="game"&&t){const n=t.players.findIndex(a=>a.id===i.uid),s=B[n%B.length];return e.jsxs("div",{className:"min-h-screen bg-zinc-950 text-white flex flex-col relative overflow-hidden font-sans",children:[It," ",e.jsx(W,{}),t.status==="finished"&&e.jsx(Ct,{winnerName:t.winner,isHost:t.hostId===i.uid,onReturnToLobby:Q}),me&&t.status!=="finished"&&e.jsx(kt,{data:me,currentUserId:i.uid,onClose:()=>X(null)}),de&&e.jsx(ke,{onClose:()=>P(!1)}),U&&e.jsx(zt,{logs:t.logs,onClose:()=>xe(!1)}),ce&&e.jsx(ze,{onConfirmLeave:he,onCancel:()=>$(!1),isHost:t.hostId===i.uid,onConfirmLobby:()=>{Q(),$(!1)},inGame:!0}),e.jsxs("div",{className:"h-14 bg-zinc-900/80 border-b border-zinc-800 flex items-center justify-between px-4 z-160 backdrop-blur-md sticky top-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-serif text-indigo-500 font-bold tracking-wider hidden md:block",children:"GHOST DICE"}),e.jsx("span",{className:"text-xs text-zinc-500 bg-black/50 px-2 py-1 rounded",children:"Graveyard"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>P(!0),className:"p-2 hover:bg-zinc-800 rounded text-zinc-400",children:e.jsx(se,{size:18})}),e.jsx("button",{onClick:()=>xe(!U),className:`p-2 rounded-full ${U?"bg-indigo-900 text-indigo-400":"text-gray-400 hover:bg-gray-800"}`,children:e.jsx(Se,{size:18})}),e.jsx("button",{onClick:()=>$(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",children:e.jsx(ae,{size:18})})]})]}),e.jsxs("div",{className:"flex-1 p-4 flex flex-col items-center relative z-10 max-w-6xl mx-auto w-full gap-4",children:[e.jsxs("div",{className:`w-full max-w-md ${s.bg} p-6 rounded-2xl border border-indigo-500/20 flex flex-col items-center justify-center min-h-[160px] animate-in fade-in zoom-in`,children:[e.jsx("div",{className:`text-xs ${s.color} uppercase tracking-widest mb-2`,children:"Current Bid"}),t.currentBid?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-6xl font-black text-white drop-shadow-lg",children:t.currentBid.quantity}),e.jsx("span",{className:"text-4xl text-zinc-500",children:"x"}),O.createElement(D[t.currentBid.face],{size:64,className:`${s.color} drop-shadow-[0_0_10px_rgba(129,140,248,0.5)]`})]}),e.jsxs("div",{className:"mt-2 text-zinc-400 text-sm",children:["by"," ",e.jsx("span",{className:"text-white font-bold",children:t.currentBid.playerName})]})]}):e.jsx("div",{className:"text-zinc-600 italic",children:"No bids placed..."})]}),e.jsx("div",{className:"flex gap-4 justify-center flex-wrap w-full my-4",children:t.players.map((a,r)=>{if(a.id===i.uid)return null;const f=t.turnIndex===r,b=B[r%B.length];return e.jsxs("div",{className:`
                                relative bg-zinc-900/90 p-4 rounded-xl border-2 w-32 md:w-40 transition-all flex flex-col items-center
                                ${f?`${b.border} ${b.shadow} scale-105`:"border-zinc-700"}
                                ${a.eliminated?"opacity-40 grayscale":""}
                            `,children:[t.turnState==="REVEAL"&&!a.eliminated&&t.revealReadyIds?.includes(a.id)&&e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx(A,{size:16,className:"text-green-500"})}),e.jsx("div",{className:"absolute top-2 right-2 flex gap-0.5",children:[...Array(a.diceCount)].map((N,R)=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${f?"bg-white":"bg-zinc-600"}`},R))}),a.eliminated?e.jsx(ot,{size:32,className:"text-red-500 mb-2"}):e.jsx(dt,{size:32,className:`${f?b.color+" animate-bounce":"text-zinc-600"}`}),e.jsx("span",{className:`font-bold text-sm truncate w-full text-center ${f?b.color:"text-zinc-400"}`,children:a.name}),t.turnState==="REVEAL"&&!a.eliminated&&e.jsx("div",{className:"absolute inset-0 bg-black/90 rounded-xl flex items-center justify-center z-10 p-2 flex-wrap gap-1",children:a.dice.map((N,R)=>O.createElement(D[N],{key:R,size:16,className:N===t.currentBid?.face||N===1?"text-white":"text-zinc-700"}))})]},a.id)})}),e.jsxs("div",{className:`w-full max-w-2xl bg-zinc-900/95 p-4 rounded-t-3xl border-t-4 ${s.border} backdrop-blur-md mt-auto shadow-2xl z-20 transition-all ${v.eliminated&&t.status!=="finished"?"grayscale opacity-50 pointer-events-none":""}`,children:[(()=>{const r=t.roundLoserId===i.uid&&v.diceCount<=1;return t.turnState==="REVEAL"&&!v.eliminated&&!r&&t.status!=="finished"?e.jsx("div",{className:"absolute -top-16 left-0 right-0 flex justify-center z-30",children:t.revealReadyIds?.includes(i.uid)?e.jsxs("div",{className:"bg-zinc-900 px-6 py-2 rounded-full border border-green-500 text-green-500 font-bold flex items-center gap-2",children:[e.jsx(A,{size:18})," Ready"]}):e.jsxs("button",{onClick:Fe,className:`
                        px-8 py-3 rounded-full font-black text-lg shadow-xl uppercase tracking-widest flex items-center gap-2 animate-bounce
                        ${s.bg} ${s.text} ${s.border} border-2
                      `,children:[e.jsx(H,{size:24})," Roll Dice"]})}):null})(),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(we,{className:s.color}),e.jsx("span",{className:`font-bold text-xl ${s.color}`,children:v.name}),e.jsxs("div",{className:`px-3 py-1 rounded-full text-xs border ${s.bg} ${s.color} ${s.border}`,children:[v.diceCount," Dice Left"]})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 bg-black/40 p-2 rounded-xl",children:v.dice.map((a,r)=>e.jsx("div",{className:`
                                    ${s.bg} rounded-lg p-1 shadow-inner
                                     ${t.currentBid&&(a===t.currentBid.face||a===1)?`ring-2 ${s.ring}`:""}
                                 `,children:O.createElement(D[a],{size:32,className:s.color})},r))})]}),e.jsx("div",{className:"min-h-[100px]",children:t.status==="finished"?e.jsxs("div",{className:"text-center",children:[e.jsxs("h3",{className:"text-3xl font-black text-indigo-400 mb-4",children:[t.winner," Wins!"]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:t.players.map(a=>e.jsxs("div",{className:`px-3 py-1 rounded-full text-[10px] uppercase font-bold border ${a.ready?"bg-green-900/30 border-green-500 text-green-400":"bg-zinc-800 border-zinc-600 text-zinc-500"}`,children:[a.name," ",a.ready&&"✓"]},a.id))}),t.hostId===i.uid?e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsxs("button",{onClick:fe,disabled:!t.players.every(a=>a.ready),className:"bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-3 rounded-xl font-bold text-white flex gap-2 items-center",children:[e.jsx(ne,{size:18})," Restart"]}),e.jsxs("button",{onClick:Q,disabled:!t.players.every(a=>a.ready),className:"bg-zinc-700 hover:bg-zinc-600 disabled:opacity-50 disabled:cursor-not-allowed px-6 py-3 rounded-xl font-bold text-white flex gap-2 items-center",children:[e.jsx(_e,{size:18})," Lobby"]})]}),!t.players.every(a=>a.ready)&&e.jsx("div",{className:"text-zinc-500 text-xs animate-pulse mt-2",children:"Waiting for all souls to be ready..."}),!v.ready&&e.jsx("button",{onClick:be,className:"text-xs text-indigo-400 hover:text-indigo-300 underline mt-2",children:"Mark Self Ready"})]}):e.jsxs("div",{className:"w-full max-w-xs mx-auto",children:[e.jsx("button",{onClick:be,className:`w-full py-3 rounded-xl font-bold text-lg shadow-lg transition-all mb-2 ${v.ready?"bg-green-900/30 border border-green-500 text-green-400":"bg-indigo-600 hover:bg-indigo-500 text-white"}`,children:v.ready?"READY":"MARK READY"}),e.jsx("div",{className:"text-zinc-500 text-xs italic",children:"Waiting for Host..."})]})]}):Pe&&t.turnState==="BIDDING"?e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex gap-4 items-center justify-center",children:[e.jsxs("div",{className:"flex items-center bg-zinc-800 rounded-lg border border-zinc-700",children:[e.jsx("button",{onClick:()=>K(Math.max(1,w-1)),className:"p-3 hover:bg-zinc-700 text-zinc-400",children:"-"}),e.jsx("span",{className:"w-12 text-center font-bold text-xl",children:w}),e.jsx("button",{onClick:()=>K(w+1),className:"p-3 hover:bg-zinc-700 text-white",children:"+"})]}),e.jsx("span",{className:"text-zinc-500",children:"x"}),e.jsx("div",{className:"flex gap-1 bg-zinc-800 p-1 rounded-lg border border-zinc-700 overflow-x-auto",children:[1,2,3,4,5,6].map(a=>e.jsx("button",{onClick:()=>ue(a),className:`p-2 rounded-md transition-all ${L===a?`${s.bg} ${s.color} shadow-lg`:"hover:bg-zinc-700 text-zinc-500"}`,children:O.createElement(D[a],{size:24})},a))})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:He,disabled:!t.currentBid,className:"bg-red-900/80 hover:bg-red-800 disabled:opacity-50 disabled:bg-zinc-800 text-red-200 py-4 rounded-xl font-bold text-lg shadow-lg border border-red-700 flex items-center justify-center gap-2",children:[e.jsx(ct,{size:20})," LIAR!"]}),e.jsxs("button",{onClick:Ae,disabled:t.currentBid&&(w<t.currentBid.quantity||w===t.currentBid.quantity&&L<=t.currentBid.face),className:`col-span-2 ${s.bg} border ${s.border} ${s.text} hover:opacity-80 disabled:opacity-50 disabled:bg-zinc-800 disabled:border-zinc-700 disabled:text-zinc-500 py-4 rounded-xl font-bold text-lg shadow-lg flex items-center justify-center gap-2`,children:[e.jsx(it,{size:20})," Place Bid"]})]})]}):e.jsx("div",{className:"text-center text-zinc-500 animate-pulse py-8",children:t.turnState==="REVEAL"?"Waiting for all players to roll the dice...":`Waiting for ${t.players[t.turnIndex]?.name}...`})})]})]}),e.jsx(te,{})]})}return null}tt.createRoot(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(_t,{})}));
