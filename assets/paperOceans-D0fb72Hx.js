import{c as V,i as dt,g as xt,a as mt,r as u,e as ht,o as _e,d as y,j as e,H as pt,S as K,X as He,n as ut,s as ft,u as v,q as C,h as bt,p as gt,f as yt,t as jt,m as Nt}from"./x-vdu6PxPT.js";import{L as wt,S as vt,B as Le,C as le,a as kt,b as ze,P as Ne}from"./step-back-D7uqsBfy.js";import{O as te}from"./origami-D-ARQHGX.js";import{T as $}from"./triangle-alert-CO8fZ1I9.js";import{A as oe}from"./anchor-8bXp3bnj.js";import{C as be}from"./crown-DhFWzZA3.js";import{T as St}from"./trash-2-CC3Hg-Aa.js";import{H as Ct}from"./history-r3RmdCN7.js";import{S as Z}from"./sword-B_tdzrAl.js";import{R as $e}from"./rotate-ccw-B8nxxfV1.js";import{T as we}from"./trophy-CV5zFLFQ.js";import{C as It,S as At,a as Be}from"./snowflake-B7bpvDS2.js";import{S as Et}from"./ship-Cm-6kyKK.js";import{B as Tt,F as We}from"./fish-BrLJ-uc1.js";import{H as Pt}from"./hand-D9d9Q_H-.js";const Dt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m14.31 8 5.74 9.94",key:"1y6ab4"}],["path",{d:"M9.69 8h11.48",key:"1wxppr"}],["path",{d:"m7.38 12 5.74-9.94",key:"1grp0k"}],["path",{d:"M9.69 16 3.95 6.06",key:"libnyf"}],["path",{d:"M14.31 16H2.83",key:"x5fava"}],["path",{d:"m16.62 12-5.74 9.94",key:"1vwawt"}]],Rt=V("aperture",Dt);const Ot=[["path",{d:"m17.586 11.414-5.93 5.93a1 1 0 0 1-8-8l3.137-3.137a.707.707 0 0 1 1.207.5V10",key:"157y8s"}],["path",{d:"M20.414 8.586 22 7",key:"5g2s34"}],["circle",{cx:"19",cy:"10",r:"2",key:"7363ft"}]],_t=V("fishing-hook",Ot);const Lt=[["path",{d:"M18 17a1 1 0 0 0-1 1v1a2 2 0 1 0 2-2z",key:"skzb1g"}],["path",{d:"M20.97 3.61a.45.45 0 0 0-.58-.58C10.2 6.6 6.6 10.2 3.03 20.39a.45.45 0 0 0 .58.58C13.8 17.4 17.4 13.8 20.97 3.61",key:"cv9jm7"}],["path",{d:"m6.707 6.707 10.586 10.586",key:"d2l993"}],["path",{d:"M7 5a2 2 0 1 0-2 2h1a1 1 0 0 0 1-1z",key:"i0et4n"}]],zt=V("kayak",Lt);const Mt=[["path",{d:"M10 2v15",key:"1qf71f"}],["path",{d:"M7 22a4 4 0 0 1-4-4 1 1 0 0 1 1-1h16a1 1 0 0 1 1 1 4 4 0 0 1-4 4z",key:"1pxcvx"}],["path",{d:"M9.159 2.46a1 1 0 0 1 1.521-.193l9.977 8.98A1 1 0 0 1 20 13H4a1 1 0 0 1-.824-1.567z",key:"5oog16"}]],Ue=V("sailboat",Mt);const Ht=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],ve=V("scissors",Ht);const $t=[["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}],["path",{d:"M12 2v7.5",key:"1e5rl5"}],["path",{d:"m19 5-5.23 5.23",key:"1ezxxf"}],["path",{d:"M22 12h-7.5",key:"le1719"}],["path",{d:"m19 19-5.23-5.23",key:"p3fmgn"}],["path",{d:"M12 14.5V22",key:"dgcmos"}],["path",{d:"M10.23 13.77 5 19",key:"qwopd4"}],["path",{d:"M9.5 12H2",key:"r7bup8"}],["path",{d:"M10.23 10.23 5 5",key:"k2y7lj"}],["circle",{cx:"12",cy:"12",r:"2.5",key:"ix0uyj"}]],Bt=V("ship-wheel",$t),Wt="/rawfids-gamehub/assets/paper_cover-DAI8yzy2.png",Ut={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:91da4fa4ace038d16aa637"},Fe=dt(Ut),ge=xt(Fe),j=mt(Fe),w=typeof __app_id<"u"?__app_id:"paper-oceans-game",Ft="18",ee=7,G=i=>i===4?30:i===3?35:40,P={CRAB:{id:"CRAB",name:"Paper Crab",type:"DUO",points:0,icon:ve,color:"text-red-400",bg:"bg-red-950",border:"border-red-700",desc:"Pair: Look through discard pile and pick 1 card.",count:9,cardColor:"RED"},BOAT:{id:"BOAT",name:"Origami Boat",type:"DUO",points:0,icon:Ue,color:"text-blue-400",bg:"bg-blue-950",border:"border-blue-700",desc:"Pair: Take another turn immediately.",count:8,cardColor:"BLUE"},FISH:{id:"FISH",name:"Flying Fish",type:"DUO",points:0,icon:We,color:"text-emerald-400",bg:"bg-emerald-950",border:"border-emerald-700",desc:"Pair: Draw the top card of the deck.",count:5,cardColor:"GREEN"},SHARK:{id:"SHARK",name:"Shadow Shark",type:"DUO",points:0,icon:Z,color:"text-slate-400",bg:"bg-slate-800",border:"border-slate-600",desc:"Pair: Steal a random card from an opponent.",count:4,cardColor:"BLACK"},SHELL:{id:"SHELL",name:"Spiral Shell",type:"COLLECT",points:0,icon:Be,color:"text-yellow-200",bg:"bg-yellow-950",border:"border-yellow-700",desc:"Set: 0 for 1st, 2pts for each additional.",count:6,cardColor:"YELLOW"},OCTOPUS:{id:"OCTOPUS",name:"Ink Octopus",type:"COLLECT",points:0,icon:Rt,color:"text-purple-400",bg:"bg-purple-950",border:"border-purple-700",desc:"Set: 0 for 1st, 3pts for each additional.",count:5,cardColor:"PURPLE"},PENGUIN:{id:"PENGUIN",name:"Ice Penguin",type:"COLLECT",points:0,icon:Tt,color:"text-cyan-200",bg:"bg-cyan-950",border:"border-cyan-700",desc:"Set: 1=1pt, 2=3pts, 3=5pts.",count:3,cardColor:"CYAN"},SAILOR:{id:"SAILOR",name:"Lost Sailor",type:"COLLECT",points:0,icon:zt,color:"text-orange-300",bg:"bg-orange-950",border:"border-orange-700",desc:"Set: 1=0pts, 2=5pts.",count:2,cardColor:"ORANGE"},MERMAID:{id:"MERMAID",name:"Mystic Mermaid",type:"MULTIPLIER",points:0,icon:K,color:"text-fuchsia-400",bg:"bg-fuchsia-950",border:"border-fuchsia-700",desc:"Scores your 1st, 2nd, 3rd highest color groups respectively.",count:4,cardColor:"MULTI"},SHIP:{id:"SHIP",name:"Ship",type:"MULTIPLIER",points:0,icon:Et,color:"text-blue-200",bg:"bg-blue-900",border:"border-blue-500",desc:"+1 Point for each Boat.",count:1,cardColor:"BLUE"},SHOAL:{id:"SHOAL",name:"Shoal of Fish",type:"MULTIPLIER",points:0,icon:_t,color:"text-emerald-200",bg:"bg-emerald-900",border:"border-emerald-500",desc:"+1 Point for each Fish.",count:1,cardColor:"GREEN"},SNOWMAN:{id:"SNOWMAN",name:"Snowman",type:"MULTIPLIER",points:0,icon:At,color:"text-cyan-100",bg:"bg-cyan-900",border:"border-cyan-500",desc:"+2 Points for each Penguin.",count:1,cardColor:"CYAN"},CAPTAIN:{id:"CAPTAIN",name:"Captain",type:"MULTIPLIER",points:0,icon:Bt,color:"text-orange-200",bg:"bg-orange-900",border:"border-orange-500",desc:"+3 Points for each Sailor.",count:1,cardColor:"ORANGE"},HORSESHOE_CRAB:{id:"HORSESHOE_CRAB",name:"Horse Crab",type:"MULTIPLIER",points:0,icon:It,color:"text-red-300",bg:"bg-red-900",border:"border-red-500",desc:"+1 Point for each Crab.",count:1,cardColor:"RED"}},Gt=()=>{let i=[];Object.values(P).forEach(N=>{for(let f=0;f<N.count;f++)i.push({id:`${N.id}-${Math.random().toString(36).substr(2,9)}`,type:N.id})});for(let N=i.length-1;N>0;N--){const f=Math.floor(Math.random()*(N+1));[i[N],i[f]]=[i[f],i[N]]}return i},R=(i,N,f=!1)=>{const c=[...i,...N];let p=0;["CRAB","BOAT","FISH","SHARK"].forEach(h=>{const k=c.filter(U=>U.type===h).length;p+=Math.floor(k/2)});const _=c.filter(h=>h.type==="SHELL").length;_>1&&(p+=(_-1)*2);const z=c.filter(h=>h.type==="OCTOPUS").length;z>1&&(p+=(z-1)*3);const o=c.filter(h=>h.type==="PENGUIN").length;o===1?p+=1:o===2?p+=3:o>=3&&(p+=5);const I=c.filter(h=>h.type==="SAILOR").length;if(I===2&&(p+=5),c.some(h=>h.type==="SHIP")){const h=c.filter(k=>k.type==="BOAT").length;p+=h}if(c.some(h=>h.type==="SHOAL")){const h=c.filter(k=>k.type==="FISH").length;p+=h}if(c.some(h=>h.type==="SNOWMAN")&&(p+=o*2),c.some(h=>h.type==="CAPTAIN")&&(p+=I*3),c.some(h=>h.type==="HORSESHOE_CRAB")){const h=c.filter(k=>k.type==="CRAB").length;p+=h}const A=c.filter(h=>h.type==="MERMAID").length,X={};c.forEach(h=>{const k=P[h.type],U=k?k.cardColor:null;U&&(X[U]=(X[U]||0)+1)});const W=Object.values(X).sort((h,k)=>k-h),ae=W.length>0?W[0]:0;if(A>0)for(let h=0;h<A;h++)W[h]&&(p+=W[h]);else f&&(p+=ae);return p},ne=({isShaking:i})=>e.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none z-0 ${i?"animate-shake bg-red-900/20":""}`,children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,var(--tw-gradient-stops))] from-yellow-900/20 via-gray-950 to-black"}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10",children:[...Array(20)].map((N,f)=>{const c=Object.keys(P),p=P[c[f%c.length]].icon;return e.jsx("div",{className:"absolute animate-float text-white/60",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${10+Math.random()*20}s`,transform:`scale(${.5+Math.random()})`},children:e.jsx(p,{size:32})},f)})}),e.jsx("style",{children:`
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(10deg); }
      }
      .animate-float { animation: float infinite ease-in-out; }
      
      @keyframes shake {
        0%, 100% { transform: translateX(0); }
        10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
        20%, 40%, 60%, 80% { transform: translateX(5px); }
      }
      .animate-shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
    `})]}),ye=()=>e.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-40 mt-auto pb-4 pt-2 relative z-10 pointer-events-none select-none",children:[e.jsx(te,{size:14,className:"text-cyan-500"}),e.jsx("span",{className:"text-[10px] font-black tracking-[0.2em] text-cyan-500 uppercase",children:"PAPER OCEANS"})]}),Me=()=>e.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-40 mt-auto pb-4 pt-2 relative z-10 pointer-events-none select-none",children:[e.jsx(te,{size:22,className:"text-cyan-500"}),e.jsx("span",{className:"text-[20px] font-black tracking-[0.2em] text-cyan-500 uppercase",children:"PAPER OCEANS"})]}),Yt=({type:i,message:N,subtext:f,icon:c})=>e.jsx("div",{className:"fixed inset-0 z-160 flex items-center justify-center pointer-events-none animate-in fade-in zoom-in duration-300",children:e.jsxs("div",{className:`
      flex flex-col items-center justify-center p-8 md:p-12 rounded-3xl border-4 shadow-2xl backdrop-blur-xl max-w-sm md:max-w-xl mx-4 text-center
      ${i==="success"?"bg-emerald-900/90 border-emerald-500 text-emerald-100":i==="failure"?"bg-red-900/90 border-red-500 text-red-100":i==="warning"?"bg-amber-900/90 border-amber-500 text-amber-100":"bg-blue-900/90 border-blue-500 text-blue-100"}
    `,children:[c&&e.jsx("div",{className:"mb-4 p-4 bg-black/20 rounded-full",children:e.jsx(c,{size:64,className:"animate-bounce"})}),e.jsx("h2",{className:"text-3xl md:text-5xl font-black uppercase tracking-widest drop-shadow-md mb-2",children:N}),f&&e.jsx("p",{className:"text-lg md:text-xl font-bold opacity-90 tracking-wide",children:f})]})}),O=({cardType:i,onClick:N,disabled:f,highlight:c,small:p,tiny:B,mini:_,count:z})=>{const o=P[i];if(!o)return e.jsx("div",{className:"w-16 h-24 bg-gray-800 rounded"});if(B)return e.jsx("div",{className:`w-6 h-8 rounded flex items-center justify-center ${o.bg} border ${o.border} shadow-sm shrink-0`,title:o.name,children:e.jsx(o.icon,{size:12,className:o.color})});if(_)return e.jsx("div",{className:`w-10 h-14 rounded-lg flex items-center justify-center ${o.bg} border-2 ${o.border} shadow-md shrink-0 cursor-help transition-transform hover:scale-105`,title:o.name,children:e.jsx(o.icon,{size:20,className:o.color})});const I="relative rounded-xl border-2 shadow-lg transition-all flex flex-col items-center justify-between cursor-pointer active:scale-95 select-none",t=p?"w-14 h-20 md:w-16 md:h-24 p-1":"w-20 h-28 sm:w-24 sm:h-36 md:w-28 md:h-44 lg:w-32 lg:h-48 p-2 md:p-3";return e.jsxs("div",{onClick:f?void 0:N,className:`
        ${I} ${t} ${o.bg} ${c?"ring-4 ring-yellow-400 z-10 scale-105":o.border}
        ${f?"opacity-50 grayscale cursor-not-allowed":"hover:brightness-110 hover:-translate-y-1"}
      `,children:[e.jsxs("div",{className:"w-full flex justify-between items-center text-[8px] md:text-[10px] font-bold text-white/70",children:[e.jsx("span",{children:o.type==="DUO"?"DUO":o.type==="COLLECT"?"SET":o.type==="MULTIPLIER"?"MULT":"X"}),z>1&&e.jsxs("span",{className:"bg-black/50 px-1 rounded text-white",children:["x",z]})]}),e.jsx(o.icon,{className:`${o.color}`,size:p?16:28}),e.jsxs("div",{className:"w-full text-center",children:[e.jsx("div",{className:"font-bold text-white text-[8px] sm:text-[9px] md:text-xs lg:text-sm leading-tight mb-1 truncate px-1",children:o.name}),!p&&e.jsx("div",{className:"text-[7px] sm:text-[8px] md:text-[9px] text-white/60 leading-tight bg-black/40 p-1 rounded h-8 flex items-center justify-center overflow-hidden",children:o.desc})]})]})},je=({onClose:i,winPoints:N})=>{const f=c=>Object.values(P).filter(p=>p.type===c);return e.jsx("div",{className:"fixed inset-0 z-200 bg-slate-950/95 backdrop-blur-md flex items-center justify-center p-4 animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 w-full max-w-5xl rounded-3xl shadow-2xl p-6 md:p-8 relative my-8 max-h-[90vh] flex flex-col",children:[e.jsx("button",{onClick:i,className:"absolute top-4 right-4 p-2 bg-slate-800 rounded-full hover:bg-red-500/20 hover:text-red-400 transition-colors z-10",children:e.jsx(He,{size:24})}),e.jsxs("div",{className:"text-center mb-6 shrink-0",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-black text-transparent bg-clip-text bg-linear-to-r from-cyan-400 to-blue-500 tracking-widest uppercase mb-2",children:"Captain's Guide"}),e.jsxs("p",{className:"text-slate-400 text-sm",children:["Reach ",e.jsxs("strong",{children:[N," points"]})," to win. 4 Mermaids wins instantly."]})]}),e.jsxs("div",{className:"overflow-y-auto pr-2 custom-scrollbar flex-1",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[e.jsx(K,{className:"text-cyan-500",size:18}),"Duos (Action Pairs)",e.jsx("span",{className:"text-xs font-normal text-slate-400 ml-auto",children:"1 Point per pair â€¢ Play pair to activate effect"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:f("DUO").map(c=>e.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-xl border border-slate-700/50 flex items-start gap-3",children:[e.jsx(O,{cardType:c.id,tiny:!0}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-slate-200 text-sm flex items-center gap-2",children:[c.name,e.jsxs("span",{className:"text-[10px] bg-black/40 px-1.5 py-0.5 rounded text-slate-500",children:[c.count," in deck"]})]}),e.jsx("p",{className:"text-xs text-slate-400 leading-relaxed mt-1",children:c.desc})]})]},c.id))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[e.jsx(Be,{className:"text-amber-500",size:18}),"Collectors (Sets)",e.jsx("span",{className:"text-xs font-normal text-slate-400 ml-auto",children:"Score increases with quantity"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:f("COLLECT").map(c=>e.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-xl border border-slate-700/50 flex items-start gap-3",children:[e.jsx(O,{cardType:c.id,tiny:!0}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"font-bold text-slate-200 text-sm flex items-center gap-2",children:[c.name,e.jsxs("span",{className:"text-[10px] bg-black/40 px-1.5 py-0.5 rounded text-slate-500",children:[c.count," in deck"]})]}),e.jsx("div",{className:"mt-2 bg-black/20 rounded p-2 text-xs font-mono text-cyan-300",children:c.desc})]})]},c.id))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[e.jsx(we,{className:"text-purple-500",size:18}),"Multipliers & Bonuses",e.jsx("span",{className:"text-xs font-normal text-slate-400 ml-auto",children:"Boosts score based on other cards"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:f("MULTIPLIER").map(c=>e.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-xl border border-slate-700/50 flex items-start gap-3",children:[e.jsx(O,{cardType:c.id,tiny:!0}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-slate-200 text-sm flex items-center gap-2",children:[c.name,e.jsxs("span",{className:"text-[10px] bg-black/40 px-1.5 py-0.5 rounded text-slate-500",children:[c.count," in deck"]})]}),e.jsx("p",{className:`text-xs leading-relaxed mt-1 ${c.id==="MERMAID"?"text-fuchsia-300 font-bold":"text-slate-400"}`,children:c.desc}),c.id==="MERMAID"&&e.jsx("p",{className:"text-[10px] text-fuchsia-500/80 mt-1 italic",children:"Win instantly if you collect 4!"})]})]},c.id))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2 border-b border-slate-700 pb-2",children:[e.jsx(oe,{className:"text-emerald-500",size:18}),"Game Flow"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-xs",children:[e.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl",children:[e.jsx("strong",{className:"text-cyan-400 block text-sm mb-1",children:"1. DRAW"}),"Draw 2, Keep 1 ",e.jsx("br",{})," OR ",e.jsx("br",{})," Take 1 from Discard."]}),e.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl",children:[e.jsx("strong",{className:"text-purple-400 block text-sm mb-1",children:"2. PLAY (Optional)"}),"Play Duo pairs to trigger effects. They score points even if you keep them in hand, but effects only happen if played."]}),e.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl",children:[e.jsx("strong",{className:"text-yellow-400 block text-sm mb-1",children:"3. END ROUND"}),"Reach ",ee," pts to call ",e.jsx("strong",{children:"STOP"})," (Safe) or ",e.jsx("strong",{children:"LAST CHANCE"})," (Bet)."]})]})]})]}),e.jsx("div",{className:"text-center pt-4 border-t border-slate-800 shrink-0 mt-4",children:e.jsx("button",{onClick:i,className:"bg-cyan-600 hover:bg-cyan-500 text-white px-10 py-3 rounded-full font-bold shadow-lg transition-transform active:scale-95",children:"Set Sail"})})]})})},Kt=({onStart:i})=>{const[N,f]=u.useState(!1),[c,p]=u.useState(!1),[B,_]=u.useState(!1);return u.useEffect(()=>{_(!0);const z=localStorage.getItem("paperoceans_roomId");f(!!z);const o=setTimeout(()=>{p(!0)},2e3);return()=>clearTimeout(o)},[]),e.jsxs("div",{className:"fixed inset-0 z-[200] bg-black flex flex-col items-center justify-end pb-20 md:justify-center md:pb-0 font-sans overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden",children:[e.jsx("div",{className:`w-full h-full bg-cover bg-center transition-transform duration-[2000ms] ease-out ${B?"scale-100":"scale-130"}`,style:{backgroundImage:`url(${Wt})`}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-black/40"})]}),e.jsx("div",{className:"relative z-10 flex flex-col items-center gap-8 animate-in fade-in slide-in-from-bottom-10 duration-1000",children:e.jsx("div",{className:`transform transition-all duration-1000 ease-out ${c?"translate-y-0 opacity-100":"translate-y-20 opacity-0"}`,children:e.jsxs("button",{onClick:i,className:"group relative px-12 py-5 bg-cyan-600/20 hover:bg-cyan-600/40 border border-cyan-500/50 hover:border-cyan-400 text-cyan-300 font-black text-2xl tracking-widest rounded-none transform transition-all hover:scale-105 hover:shadow-[0_0_30px_rgba(34,211,238,0.4)] backdrop-blur-md overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-cyan-400/10 to-transparent translate-y-[-100%] animate-[scan_2s_infinite_linear]"}),e.jsx("span",{className:"relative z-10 flex items-center gap-3 animate-pulse",children:N?e.jsxs(e.Fragment,{children:[e.jsx($e,{className:"animate-spin-slow"})," RESUME"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ne,{})," PLAY"]})})]})})}),e.jsx("style",{children:`
        @keyframes scan {
          0% { transform: translateY(-100%); }
          100% { transform: translateY(200%); }
        }
      `})]})};function Vt(){const[i,N]=u.useState(null),[f,c]=u.useState("splash"),[p,B]=u.useState(""),[_,z]=u.useState(""),[o,I]=u.useState(""),[t,ie]=u.useState(null),[se,D]=u.useState(""),[ce,A]=u.useState(!1),[X,W]=u.useState(!1),[ae,h]=u.useState(!1),[k,U]=u.useState(!1),[de,q]=u.useState(!1),[ke,Y]=u.useState(!1),[L,re]=u.useState([]),[J,Se]=u.useState(null),[Ge,xe]=u.useState(!1),[Ye,me]=u.useState(!1),Q=u.useRef(null);u.useEffect(()=>{(async()=>typeof __initial_auth_token<"u"&&__initial_auth_token?await ut(ge,__initial_auth_token):await ft(ge))();const s=ht(ge,r=>{if(N(r),r){const l=localStorage.getItem("gameHub_playerName");l&&B(l)}});return()=>s()},[]);const Ke=()=>{const a=localStorage.getItem("paperoceans_roomId");a&&(A(!0),I(a)),c("menu")};u.useEffect(()=>{if(!o||!i)return;const a=_e(y(j,"artifacts",w,"public","data","rooms",o),s=>{if(s.exists()){const r=s.data();if(!r.players.some(l=>l.id===i.uid)){I(""),c("menu"),localStorage.removeItem("paperoceans_roomId"),D("You have been kicked from the room.");return}ie(r),r.status==="lobby"?c("lobby"):(r.status==="playing"||r.status==="last_chance"||r.status==="finished"||r.status==="round_end")&&c("game")}else c("menu"),I(""),localStorage.removeItem("paperoceans_roomId"),D("Session dissolved or room does not exist.")},s=>{console.error("Sync error:",s),D("Connection lost.")});return()=>a()},[o,i]),u.useEffect(()=>{const a=_e(y(j,"game_hub_settings","config"),s=>{s.exists()&&s.data()[Ft]?.maintenance?W(!0):W(!1)});return()=>a()},[]),u.useEffect(()=>{if(!t||!t.players||t.status==="finished")return;(async()=>{const s=t.players.find(r=>[...r.hand,...r.tableau].filter(m=>m.type==="MERMAID").length===4);s&&t.status!=="finished"&&t.hostId===i.uid&&await v(y(j,"artifacts",w,"public","data","rooms",o),{status:"finished",winnerId:s.id,logs:C({text:`INSTANT WIN! ${s.name} found all 4 Mermaids!`,type:"success",id:Date.now()})})})()},[t?.players,t?.status,t?.hostId,o,i?.uid]),u.useEffect(()=>{o||(Q.current=null)},[o]),u.useEffect(()=>{if(!t?.logs||t.logs.length===0)return;const a=t.logs[t.logs.length-1];if(Q.current===null){Q.current=a.id;return}if(a.id<=Q.current)return;Q.current=a.id;const s=a.text;if(s.includes("stole a card from"))return;let r="",l="",d=le,m=!1;s.includes("played a pair")?(m=!0,r="ACTION PLAYED",l=s,d=K,s.includes("Shark")?d=Z:s.includes("Crab")?d=ve:s.includes("Boat")?d=Ue:s.includes("Fish")&&(d=We)):s.includes("STOP")?(m=!0,r="ROUND STOPPED!",l=s,d=Pt):s.includes("LAST CHANCE")?(m=!0,r="LAST CHANCE!",l="All other players get 1 final turn.",d=$):s.includes("Bet Succeeded")?(m=!0,r="BET WON!",l=s,d=we):s.includes("Bet Failed")?(m=!0,r="BET LOST!",l=s,d=$):s.includes("INSTANT WIN")&&(m=!0,r="INSTANT WIN!",l="4 Mermaids Found!",d=be),m&&F(a.type,r,l,d)},[t?.logs]),u.useEffect(()=>{if(!t?.feedbackTrigger)return;const a=t.feedbackTrigger;Date.now()-a.id>4e3||a.type==="STEAL"&&(i.uid===a.actorId?F("success","YOU STOLE!",`You took the ${a.cardName} from ${a.targetName}`,Z):i.uid===a.targetId?F("failure","THIEVERY!",`${a.actorName} stole your ${a.cardName}!`,$):F("neutral","THEFT",`${a.actorName} stole a card from ${a.targetName}.`,Z))},[t?.feedbackTrigger,i?.uid]);const F=(a,s,r,l)=>{Se({type:a,message:s,subtext:r,icon:l}),setTimeout(()=>Se(null),2500)},Ve=async()=>{if(!p)return D("Enter Name.");localStorage.setItem("gameHub_playerName",p),A(!0);const a="123456789ABCDEFGHIJKLMNPQRSTUVWXYZ";let s="";for(let l=0;l<6;l++)s+=a.charAt(Math.floor(Math.random()*a.length));const r={roomId:s,hostId:i.uid,status:"lobby",players:[{id:i.uid,name:p,score:0,hand:[],tableau:[],ready:!0}],deck:[],discardPile:[],turnIndex:0,turnState:"DRAW",logs:[],winnerId:null,bettingPlayerId:null,tempDraw:[],feedbackTrigger:null,round:1};try{await bt(y(j,"artifacts",w,"public","data","rooms",s),r),localStorage.setItem("paperoceans_roomId",s),I(s)}catch(l){console.error(l),D("Could not create room.")}A(!1)},Xe=async()=>{if(!_||!p)return D("Input credentials.");localStorage.setItem("gameHub_playerName",p),A(!0);const a=_.toUpperCase().trim(),s=y(j,"artifacts",w,"public","data","rooms",a);try{const r=await gt(s);if(!r.exists()){D("Room not found."),A(!1);return}const l=r.data();if(l.status!=="lobby"){D("Game in progress."),A(!1);return}if(l.players.length>=4){D("Room full (Max 4)."),A(!1);return}if(l.players.some(m=>m.id===i.uid)){localStorage.setItem("paperoceans_roomId",a),I(a),A(!1);return}const d=[...l.players,{id:i.uid,name:p,score:0,hand:[],tableau:[],ready:!1}];await v(s,{players:d}),localStorage.setItem("paperoceans_roomId",a),I(a)}catch(r){console.error(r),D("Error joining room.")}A(!1)},qe=async()=>{const a=[...t.players],s=a.findIndex(r=>r.id===i.uid);s>-1&&(a[s].ready=!a[s].ready,await v(y(j,"artifacts",w,"public","data","rooms",o),{players:a}))},Je=async a=>{if(t.hostId!==i.uid)return;const s=t.players.filter(r=>r.id!==a);await v(y(j,"artifacts",w,"public","data","rooms",o),{players:s})},Ce=async(a=!1)=>{if(t.hostId!==i.uid)return;let s=Gt();const r=t.players.map(l=>({...l,hand:[],tableau:[],score:a?l.score:0}));a?(t.turnIndex+1)%t.players.length:Math.floor(Math.random()*t.players.length),await v(y(j,"artifacts",w,"public","data","rooms",o),{status:"playing",deck:s,discardPile:[s.pop(),s.pop()],players:r,turnIndex:a?(t.turnIndex+1)%r.length:0,turnState:"DRAW",logs:C({text:a?`--- Round ${t.round+1} Start ---`:"--- Game Start ---",type:"neutral",id:Date.now()}),bettingPlayerId:null,tempDraw:[],round:a?yt(1):1})},Ie=async()=>{if(o){try{const a=y(j,"artifacts",w,"public","data","rooms",o);if(t.hostId===i.uid)await jt(a);else{const s=t.players.filter(r=>r.id!==i.uid);await v(a,{players:s})}}catch{console.log("Room might already be deleted")}localStorage.removeItem("paperoceans_roomId"),I(""),c("menu"),Y(!1),ie(null)}},Ae=async()=>{if(t.hostId!==i.uid)return;const a=t.players.map(r=>({...r,hand:[],tableau:[],score:0,ready:!1})),s=a.find(r=>r.id===t.hostId);s&&(s.ready=!0),await v(y(j,"artifacts",w,"public","data","rooms",o),{status:"lobby",players:a,deck:[],discardPile:[],logs:[],round:1,turnIndex:0,winnerId:null,bettingPlayerId:null,tempDraw:[],feedbackTrigger:null}),Y(!1)},Qe=()=>{const a=t.roomId,s=()=>{h(!0),setTimeout(()=>h(!1),2e3),F&&F("neutral","COPIED!","",le)};try{navigator.clipboard.writeText(a),s()}catch{const l=document.createElement("textarea");l.value=a,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l),s()}},Ze=async()=>{const a=[...t.players],s=[...t.deck],r=[...t.discardPile];if(s.length+r.length<2){s.length>0?a[t.turnIndex].hand.push(s.pop()):r.length>0&&a[t.turnIndex].hand.push(r.pop()),a.forEach(d=>{const m=R(d.hand,d.tableau);d.score+=m,d.ready=d.id===t.hostId}),await v(y(j,"artifacts",w,"public","data","rooms",o),{status:"round_end",players:a,deck:s,discardPile:r,logs:C({text:"ðŸŒŠ The Ocean is empty! Round ends immediately.",type:"warning",id:Date.now()})}),setTimeout(()=>he(a,o),3e3);return}if(s.length<2&&t.discardPile.length>0){const d=r.pop(),m=[...s,...r];for(let g=m.length-1;g>0;g--){const x=Math.floor(Math.random()*(g+1));[m[g],m[x]]=[m[x],m[g]]}await v(y(j,"artifacts",w,"public","data","rooms",o),{deck:m,discardPile:[d],logs:C({text:"Deck reshuffled from discard.",type:"neutral",id:Date.now()})});return}const l=[s.pop(),s.pop()].filter(Boolean);await v(y(j,"artifacts",w,"public","data","rooms",o),{turnState:"DRAW_DECISION",tempDraw:l,deck:s,logs:C({text:`${a[t.turnIndex].name} draws 2...`,type:"neutral",id:Date.now()})})},et=async a=>{const s=[...t.players],r=[...t.discardPile],l=[...t.tempDraw],d=t.turnIndex,m=l[a],g=l[a===0?1:0];s[d].hand.push(m),g&&r.push(g),await v(y(j,"artifacts",w,"public","data","rooms",o),{turnState:"ACTION_PHASE",players:s,discardPile:r,tempDraw:[],logs:C({text:"...kept 1 and discarded 1.",type:"neutral",id:Date.now()})})},tt=async()=>{const a=[...t.players],s=[...t.discardPile],r=t.turnIndex,l=s.pop();a[r].hand.push(l),await v(y(j,"artifacts",w,"public","data","rooms",o),{turnState:"ACTION_PHASE",players:a,discardPile:s,logs:C({text:`${a[r].name} took ${P[l.type].name} from discard.`,type:"neutral",id:Date.now()})})},st=async()=>{if(L.length!==2)return;const a=t.turnIndex,s=[...t.players],r=s[a],l=r.hand[L[0]],d=r.hand[L[1]];let m=[...t.deck];if(l.type!==d.type||P[l.type].type!=="DUO"){F("failure","INVALID DUO","Must pick 2 matching Duo cards.",$),re([]);return}const g=[...L].sort((b,E)=>E-b);r.hand.splice(g[0],1),r.hand.splice(g[1],1),r.tableau.push(l,d);let x="ACTION_PHASE",n=`${r.name} played a pair of ${P[l.type].name}s!`;l.type==="CRAB"?t.discardPile.length>0&&xe(!0):l.type==="SHARK"?s.some((E,T)=>T!==a&&E.hand.length>0)&&me(!0):l.type==="BOAT"?x="DRAW":l.type==="FISH"&&m.length>0&&r.hand.push(m.pop()),re([]),await v(y(j,"artifacts",w,"public","data","rooms",o),{players:s,turnState:x,deck:m,logs:C({text:n,type:"success",id:Date.now()})})},at=async a=>{const s=[...t.players],r=[...t.discardPile],l=r.findIndex(d=>d.id===a.id);l>-1&&(r.splice(l,1),s[t.turnIndex].hand.push(a)),xe(!1),await v(y(j,"artifacts",w,"public","data","rooms",o),{players:s,discardPile:r,logs:C({text:"Effect: Picked a card from discard.",type:"neutral",id:Date.now()})})},rt=async a=>{const s=[...t.players],r=t.turnIndex,l=s[r],d=s.findIndex(g=>g.id===a),m=s[d];if(s[d].hand.length>0){const g=Math.floor(Math.random()*s[d].hand.length),x=s[d].hand.splice(g,1)[0],n=P[x.type].name;s[r].hand.push(x),me(!1),await v(y(j,"artifacts",w,"public","data","rooms",o),{players:s,logs:C({text:`${l.name} stole a card from ${m.name}.`,type:"neutral",id:Date.now()}),feedbackTrigger:{id:Date.now(),type:"STEAL",actorId:l.id,actorName:l.name,targetId:m.id,targetName:m.name,cardName:n}})}else me(!1)},lt=async()=>{const a=[...t.players],s=(t.turnIndex+1)%a.length;if(t.status==="last_chance"&&a[s].id===t.bettingPlayerId){await it(a);return}await v(y(j,"artifacts",w,"public","data","rooms",o),{turnIndex:s,turnState:"DRAW",logs:C({text:`Turn: ${a[s].name}`,type:"neutral",id:Date.now()})})},nt=async()=>{const a=t.players.map(r=>({...r})),s=a[t.turnIndex];a.forEach(r=>{const l=R(r.hand,r.tableau);r.score+=l,r.ready=r.id===t.hostId}),await v(y(j,"artifacts",w,"public","data","rooms",o),{status:"round_end",players:a,logs:C({text:`${s.name} called STOP! Round ended safely.`,type:"success",id:Date.now()})}),setTimeout(()=>he(a,o),3e3)},ot=async()=>{const a=[...t.players],s=a[t.turnIndex];await v(y(j,"artifacts",w,"public","data","rooms",o),{status:"last_chance",bettingPlayerId:s.id,turnIndex:(t.turnIndex+1)%a.length,turnState:"DRAW",logs:C({text:`âš ï¸ ${s.name} called LAST CHANCE! Everyone gets 1 turn to beat them.`,type:"warning",id:Date.now()})})},it=async a=>{const s=a.map(x=>({...x})),r=t.bettingPlayerId,l=s.find(x=>x.id===r),d=R(l.hand,l.tableau,!1);let m=!0;s.forEach(x=>{x.id!==r&&R(x.hand,x.tableau,!1)>=d&&(m=!1)});const g=x=>{const n=[...x.hand,...x.tableau],b={};return n.forEach(E=>{const T=P[E.type],S=T?T.cardColor:null;S&&(b[S]=(b[S]||0)+1)}),Math.max(0,...Object.values(b))};m?(l.score+=d+g(l),s.forEach(x=>{x.id!==r&&(x.score+=g(x))})):(l.score+=g(l),s.forEach(x=>{x.id!==r&&(x.score+=R(x.hand,x.tableau,!1))})),s.forEach(x=>x.ready=x.id===t.hostId),await v(y(j,"artifacts",w,"public","data","rooms",o),{status:"round_end",players:s,logs:C({text:m?`Bet Succeeded! ${l.name} gets Bonus.`:`Bet Failed! ${l.name} pays the price.`,type:m?"success":"failure",id:Date.now()})}),setTimeout(()=>he(s,o),4e3)},he=async(a,s)=>{const l=[...a].sort((m,g)=>g.score-m.score)[0],d=G(a.length);l.score>=d&&await v(y(j,"artifacts",w,"public","data","rooms",s),{status:"finished",winnerId:l.id})};if(X)return e.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[e.jsx(Me,{}),e.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[e.jsx(pt,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),e.jsx("p",{className:"text-gray-400",children:"Tide is low. Folding operations paused."})]}),e.jsx("div",{className:"h-8"}),e.jsx("a",{href:"/rawfids-gamehub/",children:e.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:e.jsx("div",{className:"text-center pb-12 animate-pulse",children:e.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[e.jsx(K,{size:16})," Visit Gamehub...Try our other releases..."," ",e.jsx(K,{size:16})]})})})}),e.jsx(ye,{})]});if(!i)return e.jsx("div",{className:"min-h-screen bg-zinc-950 flex items-center justify-center text-cyan-500 animate-pulse",children:"Approaching horizon..."});if(o&&!t&&!se)return e.jsxs("div",{className:"min-h-screen bg-zinc-950 flex flex-col items-center justify-center text-white p-4",children:[e.jsx(ne,{}),e.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur p-8 rounded-2xl border border-zinc-700 shadow-2xl flex flex-col items-center gap-4 animate-in fade-in zoom-in duration-300",children:[e.jsx(wt,{size:48,className:"text-cyan-500 animate-spin"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Reconnecting..."}),e.jsx("p",{className:"text-zinc-400 text-sm",children:"Resuming your session"})]})]})]});if(f==="splash")return e.jsx(Kt,{onStart:Ke});if(f==="menu")return e.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans select-none",children:[e.jsx(ne,{}),e.jsx("nav",{className:"absolute top-0 left-0 w-full p-4 z-50",children:e.jsxs("a",{href:"/rawfids-gamehub/",className:`flex items-center gap-2 text-cyan-800 rounded-lg 
			font-bold shadow-md hover:text-cyan-400 transition-colors w-fit animate-pulse`,children:[e.jsx(vt,{}),e.jsx("span",{children:"Back to Gamehub"})]})}),de&&e.jsx(je,{onClose:()=>q(!1),winPoints:G(2)}),e.jsxs("div",{className:"z-10 text-center mb-10",children:[e.jsx(te,{size:64,className:"text-cyan-400 mx-auto mb-4 animate-bounce"}),e.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-linear-to-b from-cyan-400 to-blue-600 tracking-widest drop-shadow-md",children:"PAPER OCEANS"}),e.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"Fold. Collect. Bet."})]}),e.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-md border border-cyan-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 relative",children:[se&&e.jsxs("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-3 mb-4 rounded text-center text-sm font-bold flex items-center justify-center gap-2",children:[e.jsx($,{size:16})," ",se]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-bold text-cyan-500 uppercase ml-1",children:"Captain Name"}),e.jsx("input",{className:"w-full bg-black/50 border border-slate-700 focus:border-cyan-500 p-4 rounded-xl text-white outline-none transition-all text-lg font-bold",placeholder:"Enter Name...",value:p,onChange:a=>B(a.target.value),maxLength:12})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[e.jsxs("button",{onClick:Ve,disabled:ce,className:"bg-linear-to-br from-cyan-600 to-blue-700 hover:from-cyan-500 hover:to-blue-600 p-4 rounded-xl font-bold flex flex-col items-center justify-center gap-1 transition-all active:scale-95 shadow-lg shadow-cyan-900/50",children:[e.jsx(oe,{size:24}),e.jsx("span",{children:"New Voyage"})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("input",{className:"bg-black/50 border border-slate-700 focus:border-cyan-500 p-2 rounded-xl text-white text-center uppercase font-mono font-bold tracking-widest outline-none h-12",placeholder:"CODE",value:_,onChange:a=>z(a.target.value.toUpperCase()),maxLength:6}),e.jsx("button",{onClick:Xe,disabled:ce,className:"bg-slate-800 hover:bg-slate-700 p-2 rounded-xl font-bold text-slate-300 transition-all active:scale-95 h-full",children:"Join Fleet"})]})]})]}),e.jsxs("button",{onClick:()=>q(!0),className:"w-full mt-4 text-slate-400 hover:text-cyan-400 text-sm font-bold flex items-center justify-center gap-2 transition-colors py-2",children:[e.jsx(Le,{size:16})," Captains Guide Book"]})]}),e.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Sea, Salt and Paper. A tribute game.",e.jsx("br",{}),"Developed by ",e.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",e.jsx("a",{href:"/rawfids-gamehub/",rel:"noopener noreferrer",className:"text-cyan-500 underline hover:text-cyan-600",children:"GAMEHUB"})," ","for more games."]})]});if(f==="lobby"&&t){const a=t.hostId===i.uid,s=t.players.findIndex(x=>x.id===i.uid),r=t.players[s],l=t.turnIndex===s,d=R(r.hand,r.tableau),m=G(t.players.length);return r.score+d>=m&&d>=ee&&t.status,d>=ee&&l&&t.turnState==="ACTION_PHASE"&&t.status,e.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center p-6 relative",children:[e.jsx(ne,{}),e.jsx(Me,{}),de&&e.jsx(je,{onClose:()=>q(!1),winPoints:G(t.players.length)}),e.jsxs("div",{className:"z-10 w-full max-w-lg bg-slate-900/90 backdrop-blur p-8 rounded-2xl border border-cyan-500/30 shadow-2xl animate-in slide-in-from-bottom-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg md:text-xl text-cyan-500 font-bold uppercase",children:"Voyage Code"}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-mono text-white font-black",children:o}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:Qe,className:"p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:ae?e.jsx(le,{size:16,className:"text-green-500"}):e.jsx(kt,{size:16})}),ae&&e.jsx("div",{className:"absolute left-full ml-2 top-1/2 -translate-y-1/2 bg-cyan-500 text-black text-xs font-bold px-2 py-1 rounded shadow-lg animate-fade-in-up whitespace-nowrap",children:"Copied!"})]})]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{onClick:()=>Y(!0),className:"p-2 bg-red-900/50 hover:bg-red-900 rounded text-red-300",title:"Leave Room",children:e.jsx(ze,{size:16})})})]}),e.jsxs("div",{className:"space-y-3 mb-8",children:[e.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:["Crew Manifest (",t.players.length,"/4)"]}),t.players.map(x=>e.jsxs("div",{className:"flex justify-between items-center bg-slate-800 p-4 rounded-xl border border-slate-700",children:[e.jsxs("span",{className:"font-bold flex items-center gap-3 text-lg",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-linear-to-br from-cyan-500 to-blue-600 flex items-center justify-center text-xs font-black",children:x.name.charAt(0)}),x.name,x.id===t.hostId&&e.jsx(be,{size:16,className:"text-yellow-500"})]}),e.jsx("div",{className:"flex items-center gap-2",children:a&&x.id!==i.uid&&e.jsx("button",{onClick:()=>Je(x.id),className:"p-1.5 hover:bg-red-900/50 rounded text-slate-500 hover:text-red-400 transition-colors",title:"Kick Player",children:e.jsx(St,{size:16})})})]},x.id)),Array.from({length:4-t.players.length}).map((x,n)=>e.jsx("div",{className:"border-2 border-dashed border-slate-800 rounded-xl p-4 flex items-center justify-center text-slate-700 font-bold uppercase text-sm",children:"Empty Slot"},n))]}),a?e.jsx("button",{onClick:()=>Ce(!1),disabled:t.players.length<2,className:"w-full bg-linear-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 py-4 rounded-xl font-bold text-xl disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-emerald-900/50 transition-all active:scale-95 flex items-center justify-center gap-2",children:t.players.length<2?"Waiting for Crew...":e.jsxs(e.Fragment,{children:[e.jsx(Ne,{size:24,fill:"currentColor"})," Set Sail"]})}):e.jsx("div",{className:"w-full py-4 rounded-xl bg-slate-800 border border-slate-700 text-slate-400 text-center font-bold",children:"Waiting for Captain..."})]}),ke&&e.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2 uppercase tracking-wider",children:"Abandon Ship?"}),e.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:a?"As Captain, leaving will disband the entire fleet (delete room).":"You will leave this voyage and return to the menu."}),e.jsx("div",{className:"flex flex-col gap-2",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Y(!1),className:"flex-1 bg-slate-800 py-3 rounded-lg font-bold text-slate-300 hover:bg-slate-700 transition-colors",children:"Stay"}),e.jsx("button",{onClick:Ie,className:"flex-1 bg-red-600 py-3 rounded-lg font-bold text-white hover:bg-red-500 transition-colors",children:"Leave"})]})})]})}),e.jsx(ye,{})]})}if(f==="game"&&t){const a=t.players.findIndex(n=>n.id===i.uid),s=t.players[a],r=t.turnIndex===a,l=R(s.hand,s.tableau),d=G(t.players.length),g=s.score+l>=d&&l>=ee&&t.status!=="last_chance",x=l>=ee&&r&&t.turnState==="ACTION_PHASE"&&t.status!=="last_chance";return e.jsxs("div",{className:"fixed inset-0 bg-slate-950 text-white overflow-hidden flex flex-col font-sans select-none",children:[e.jsx(ne,{}),de&&e.jsx(je,{onClose:()=>q(!1),winPoints:G(t.players.length)}),J&&e.jsx(Yt,{type:J.type,message:J.message,subtext:J.subtext,icon:J.icon}),e.jsxs("div",{className:"h-14 bg-slate-900/80 border-b border-slate-800 flex items-center justify-between px-4 z-160 backdrop-blur-md shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-cyan-900/50 rounded flex items-center justify-center",children:e.jsx(te,{size:18,className:"text-cyan-500"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-bold tracking-wider text-cyan-100 text-sm leading-none",children:"THE VOYAGE"}),e.jsxs("span",{className:"text-[10px] text-cyan-500 font-mono",children:["ROUND ",t.round]})]}),e.jsxs("span",{className:"bg-cyan-900/40 text-yellow-500 text-xs px-3 py-1 rounded-full border border-cyan-800/50 font-mono tracking-wider shadow-[0_0_10px_rgba(34,211,238,0.25)]",children:["Goal:",G(t.players.length)]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>q(!0),className:"p-2 hover:bg-slate-800 rounded text-slate-400 hover:text-cyan-400 transition-colors",title:"How to Play",children:e.jsx(Le,{size:18})}),e.jsx("button",{onClick:()=>U(!k),className:`p-2 rounded transition-colors ${k?"bg-cyan-900 text-cyan-400":"hover:bg-slate-800 text-slate-400"}`,children:e.jsx(Ct,{size:18})}),e.jsx("button",{onClick:()=>Y(!0),className:"p-2 hover:bg-red-900/30 rounded text-red-400",children:e.jsx(ze,{size:18})})]})]}),t.status==="last_chance"&&e.jsxs("div",{className:"w-full bg-linear-to-r from-amber-900/90 via-orange-900/90 to-amber-900/90 border-b-4 border-amber-500 p-2 z-155 shrink-0 shadow-xl flex flex-col items-center justify-center animate-in slide-in-from-top-4 duration-500",children:[e.jsxs("div",{className:"flex items-center gap-3 animate-pulse",children:[e.jsx($,{className:"text-amber-400",size:24,fill:"currentColor",fillOpacity:.2}),e.jsxs("span",{className:"text-amber-100 font-black tracking-[0.15em] uppercase text-sm md:text-xl drop-shadow-md",children:["LAST CHANCE CALLED BY"," ",e.jsx("span",{className:"text-white underline decoration-amber-500 underline-offset-4",children:t.players.find(n=>n.id===t.bettingPlayerId)?.name})]}),e.jsx($,{className:"text-amber-400",size:24,fill:"currentColor",fillOpacity:.2})]}),e.jsx("div",{className:"text-[10px] md:text-xs text-amber-200/80 font-bold mt-1 uppercase tracking-widest",children:"Final Turn â€¢ Beat their score or lose points!"})]}),k&&e.jsxs("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:[e.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2 sticky top-0 bg-slate-900/95 py-2",children:"Captain's Log"}),e.jsx("div",{className:"space-y-2",children:t.logs.slice().reverse().map(n=>e.jsx("div",{className:`text-xs p-2 rounded border-l-2 ${n.type==="success"?"border-emerald-500 bg-emerald-900/10":n.type==="failure"?"border-red-500 bg-red-900/10":n.type==="warning"?"border-amber-500 bg-amber-900/10":"border-slate-500 bg-slate-800/30"}`,children:n.text},n.id))})]}),e.jsxs("div",{className:"flex-1 flex flex-col relative z-10 overflow-hidden h-full",children:[e.jsx("div",{className:"flex-none max-h-[35vh] overflow-x-auto p-2 border-b border-white/5 bg-slate-900/20",children:e.jsx("div",{className:"flex flex-nowrap gap-2 items-start w-full",children:t.players.map((n,b)=>{if(n.id===i.uid)return null;const E=t.turnIndex===b;return e.jsxs("div",{className:`relative p-2 rounded-xl transition-all duration-500 flex flex-col gap-2 flex-1 basis-0 min-w-0 ${E?"bg-slate-800 border-2 border-cyan-500 shadow-[0_0_15px_rgba(6,182,212,0.3)] z-10":"bg-slate-900/50 border border-slate-800 opacity-80"}`,children:[E&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-cyan-500 text-black text-[9px] font-black px-2 py-0.5 rounded-full uppercase tracking-widest z-20 whitespace-nowrap shadow-lg shadow-cyan-500/50",children:"Active"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center font-bold text-xs border border-slate-600 shrink-0",children:n.name.charAt(0)}),e.jsx("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsx("div",{className:"text-xs font-bold truncate pr-1",children:n.name}),e.jsxs("div",{className:"text-[10px] text-yellow-500 font-bold shrink-0 bg-yellow-900/20 px-1 rounded",children:[n.score,"pts"]})]})})]}),e.jsx("div",{className:"flex flex-wrap gap-0.5 min-h-[16px]",children:n.hand.length>0?Array.from({length:n.hand.length}).map((T,S)=>e.jsx("div",{className:"w-4 h-5 rounded-sm bg-slate-700 border border-slate-600 flex items-center justify-center shadow-sm",title:"Card in hand",children:e.jsx(te,{size:8,className:"text-slate-500"})},S)):e.jsx("span",{className:"text-[9px] text-slate-600 italic",children:"Empty Hand"})}),e.jsxs("div",{className:"flex flex-wrap gap-0.5 min-h-[16px]",children:[n.tableau.map((T,S)=>e.jsx(O,{cardType:T.type,tiny:!0},S)),n.tableau.length===0&&e.jsx("span",{className:"text-[9px] text-slate-600 italic",children:"No cards played"})]}),Ye&&n.hand.length>0&&e.jsxs("button",{onClick:()=>rt(n.id),className:"absolute inset-0 bg-red-500/50 rounded-xl z-30 flex flex-col items-center justify-center animate-pulse zoom-in cursor-pointer hover:bg-red-600/90 transition-colors backdrop-blur-sm",children:[e.jsx(Z,{size:24,className:"text-white mb-1"}),e.jsx("span",{className:"font-black text-white text-sm uppercase tracking-widest drop-shadow-md",children:"STEAL"})]})]},n.id)})})}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center relative min-h-0 overflow-y-auto py-2",children:[r&&t.turnState==="DRAW_DECISION"?e.jsxs("div",{className:"flex flex-col items-center gap-4 animate-in zoom-in duration-300",children:[e.jsx("h3",{className:"text-lg font-bold text-white bg-black/50 px-4 py-1 rounded-full backdrop-blur",children:"Choose 1 to Keep"}),e.jsx("div",{className:"flex gap-4",children:t.tempDraw.map((n,b)=>e.jsx("button",{onClick:()=>et(b),className:"transition-transform hover:scale-105 active:scale-95 focus:outline-none",title:"Click to keep this card",children:e.jsx(O,{cardType:n.type,highlight:!0})},b))})]}):e.jsxs("div",{className:"flex gap-4 md:gap-8 items-center",children:[e.jsxs("div",{onClick:()=>r&&t.turnState==="DRAW"?Ze():null,className:`
                  w-20 h-28 sm:w-24 sm:h-36 md:w-28 md:h-44 bg-slate-800 rounded-xl border-2 border-slate-600 flex flex-col items-center justify-center relative shadow-xl transition-all
                  ${r&&t.turnState==="DRAW"?"cursor-pointer hover:-translate-y-2 hover:border-cyan-400 hover:shadow-cyan-500/20 ring-4 ring-cyan-500/20":"opacity-80"}
                `,children:[e.jsx("div",{className:"absolute inset-2 border-2 border-dashed border-slate-700/50 rounded flex items-center justify-center",children:e.jsx(oe,{className:"text-slate-700",size:32})}),e.jsxs("div",{className:"z-10 bg-slate-900 px-2 py-1 rounded text-xs font-bold text-slate-400 shadow",children:[t.deck.length," Left"]}),r&&t.turnState==="DRAW"&&e.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-cyan-600 text-white text-[10px] font-bold px-2 py-1 rounded whitespace-nowrap animate-bounce",children:"DRAW 2"})]}),e.jsx("div",{onClick:()=>r&&t.turnState==="DRAW"&&t.discardPile.length>0?tt():null,className:`
                  w-20 h-28 sm:w-24 sm:h-36 md:w-28 md:h-44 bg-black/20 rounded-xl border-2 border-dashed border-slate-700 flex items-center justify-center relative
                  ${r&&t.turnState==="DRAW"&&t.discardPile.length>0?"cursor-pointer hover:border-cyan-400 hover:bg-slate-800/50":""}
                `,children:t.discardPile.length>0?e.jsxs("div",{className:"relative w-full h-full transform rotate-3",children:[e.jsx(O,{cardType:t.discardPile[t.discardPile.length-1].type,disabled:!r||t.turnState!=="DRAW"}),r&&t.turnState==="DRAW"&&e.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 bg-cyan-600 text-white text-[10px] font-bold px-2 py-1 rounded whitespace-nowrap animate-bounce",children:"TAKE 1"})]}):e.jsx("span",{className:"text-xs text-slate-600 font-bold uppercase tracking-widest",children:"Empty"})})]}),e.jsx("div",{className:"absolute top-0 w-full text-center pointer-events-none p-2",children:!r&&t.status==="playing"&&e.jsxs("div",{className:"inline-block bg-slate-900/80 px-4 py-1 rounded-full text-slate-400 text-sm border border-slate-700 backdrop-blur-sm",children:["Waiting for"," ",t.players[t.turnIndex]?.name||"Player","..."]})})]}),e.jsxs("div",{className:"flex-none bg-slate-900 border-t border-slate-800 p-3 pb-safe relative z-20 shadow-[0_-5px_20px_rgba(0,0,0,0.5)]",children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-end mb-3 gap-2",children:[e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider text-yellow-500/80",children:"Total Score"}),e.jsx("span",{className:"text-2xl font-black text-yellow-500 leading-none",children:s.score})]}),e.jsx("div",{className:"w-px bg-slate-700 h-8"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:"Round Est."}),e.jsx("span",{className:"text-2xl font-black text-white leading-none",children:l})]})]}),e.jsxs("div",{className:"flex gap-2 items-center flex-wrap justify-end ml-auto",children:[L.length===2&&r&&t.turnState==="ACTION_PHASE"&&e.jsxs("button",{onClick:st,className:"bg-linear-to-r from-purple-600 to-indigo-600 text-white px-6 py-2 rounded-lg font-bold shadow-lg animate-in slide-in-from-bottom-2 hover:scale-105 transition-all flex items-center gap-2",children:[e.jsx(K,{size:16})," Play Pair"]}),r&&g&&t.turnState==="ACTION_PHASE"&&e.jsxs("div",{className:"flex items-center gap-2 bg-yellow-500/20 border border-yellow-500/50 px-3 py-1 rounded text-yellow-200 text-xs font-bold animate-pulse",children:[e.jsx($,{size:14}),e.jsx("span",{children:"Winning Score Reached! You must end the round."})]}),r&&t.turnState==="ACTION_PHASE"&&!g&&e.jsxs("button",{onClick:lt,className:"bg-slate-700 hover:bg-slate-600 text-white px-6 py-2 rounded-lg font-bold shadow-lg flex items-center gap-2 transition-colors animate-bounce",children:["End Turn ",e.jsx($e,{size:16})]}),x&&e.jsxs("div",{className:"flex gap-2 ml-4 pl-4 border-l border-slate-700",children:[e.jsx("button",{onClick:nt,className:"bg-slate-100 hover:bg-white text-slate-900 px-4 py-2 rounded-lg font-black shadow-lg hover:shadow-white/20 transition-all active:scale-95",children:"STOP"}),e.jsx("button",{onClick:ot,className:"bg-linear-to-r from-amber-500 to-orange-600 hover:brightness-110 text-white px-4 py-2 rounded-lg font-black shadow-lg animate-pulse transition-all active:scale-95 border-2 border-white/20",children:"LAST CHANCE"})]})]})]}),e.jsxs("div",{className:"flex gap-4 h-auto min-h-[140px] items-stretch",children:[e.jsxs("div",{className:"w-28 flex-none flex flex-col gap-1 border-r border-slate-800 pr-2",children:[e.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold text-center flex-none",children:"Tableau"}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar max-h-[180px] p-1",children:[e.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.tableau.map((n,b)=>e.jsx(O,{cardType:n.type,mini:!0},b))}),s.tableau.length===0&&e.jsx("div",{className:"h-full flex items-center justify-center text-[10px] text-slate-700 text-center",children:"No Pairs"})]})]}),e.jsxs("div",{className:"flex-1 overflow-x-auto pb-4 pt-8 flex items-center gap-2 px-2 custom-scrollbar",children:[s.hand.map((n,b)=>{const E=L.includes(b);return e.jsx("div",{className:`transition-all duration-200 transform origin-bottom ${E?"-translate-y-6 scale-105 z-10":"hover:-translate-y-2 hover:z-10"}`,children:e.jsx(O,{cardType:n.type,highlight:E,onClick:()=>{t.turnState!=="ACTION_PHASE"&&t.turnState!=="DRAW_DECISION"||(L.includes(b)?re(L.filter(T=>T!==b)):L.length<2&&re([...L,b]))}})},b)}),s.hand.length===0&&e.jsx("div",{className:"w-full text-center text-slate-600 font-bold italic",children:"Hand Empty"})]})]})]})]}),Ge&&e.jsx("div",{className:"fixed inset-0 bg-slate-950/90 backdrop-grayscale z-300 flex items-center justify-center p-4 animate-in fade-in zoom-in duration-200",children:e.jsxs("div",{className:"bg-slate-900 border-2 border-red-500/50 rounded-3xl w-full max-w-2xl p-6 shadow-[0_0_50px_rgba(239,68,68,0.2)]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-2xl font-black text-white flex items-center gap-3",children:[e.jsx(ve,{className:"text-red-400 animate-pulse"}),"SALVAGE DISCARD"]}),e.jsx("button",{onClick:()=>xe(!1),className:"p-2 hover:bg-slate-800 rounded-full text-slate-400",children:e.jsx(He,{size:24})})]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3 max-h-[50vh] overflow-y-auto p-4 bg-black/40 rounded-2xl mb-6 custom-scrollbar",children:t.discardPile.map((n,b)=>e.jsx("div",{className:"flex flex-col items-center gap-2",children:e.jsx(O,{cardType:n.type,onClick:()=>at(n),small:!0})},`${n.id}-${b}`))}),e.jsx("p",{className:"text-center text-slate-400 text-sm font-bold animate-pulse",children:"Select 1 card to add to your hand"})]})}),(t.status==="finished"||t.status==="round_end")&&e.jsx("div",{className:"fixed inset-0 top-14 bg-slate-950/95 backdrop-blur-xl z-150 flex flex-col items-center p-4 animate-in fade-in duration-500 overflow-hidden",children:e.jsxs("div",{className:"w-full max-w-lg h-full max-h-full flex flex-col relative",children:[e.jsxs("div",{className:"flex-none flex flex-col items-center justify-center pt-8 pb-4 shrink-0",children:[t.status==="finished"?e.jsx(we,{size:64,className:"text-yellow-400 mb-4 animate-bounce"}):e.jsx(Xt,{status:t.status}),e.jsx("h2",{className:"text-3xl md:text-5xl font-black text-white uppercase tracking-widest drop-shadow-xl text-center leading-none",children:t.status==="finished"?"LEGEND OF THE SEA":"ROUND COMPLETE"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-slate-900/50 rounded-2xl border border-white/10 p-4 mb-4 shadow-inner",children:e.jsx("div",{className:"space-y-4",children:[...t.players].sort((n,b)=>b.score-n.score).map((n,b)=>{const T=(()=>{const S=t.players,M=t.bettingPlayerId,pe=H=>{const Re=[...H.hand,...H.tableau],ue={};return Re.forEach(ct=>{const Oe=P[ct.type],fe=Oe?Oe.cardColor:null;fe&&(ue[fe]=(ue[fe]||0)+1)}),Math.max(0,...Object.values(ue))};if(!M)return R(n.hand,n.tableau);const Ee=S.find(H=>H.id===M),Te=R(Ee.hand,Ee.tableau,!1);let Pe=!0;S.forEach(H=>{H.id!==M&&R(H.hand,H.tableau,!1)>=Te&&(Pe=!1)});const De=n.id===M;return Pe?De?Te+pe(n):pe(n):De?pe(n):R(n.hand,n.tableau,!1)})();return e.jsxs("div",{className:"border-b border-slate-700 pb-4 last:border-0 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"font-mono text-slate-500 font-bold w-6",children:["#",b+1]}),e.jsx("span",{className:"font-bold text-lg",children:n.name}),t.status==="finished"&&b===0&&e.jsx(be,{size:16,className:"text-yellow-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[n.ready?e.jsxs("span",{className:"text-emerald-400 text-[10px] font-bold uppercase bg-emerald-900/30 px-2 py-1 rounded flex items-center gap-1",children:[e.jsx(le,{size:10})," Ready"]}):e.jsx("span",{className:"text-slate-500 text-[10px] font-bold uppercase bg-slate-900/30 px-2 py-1 rounded",children:"Not Ready"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[T>0&&e.jsxs("span",{className:"text-sm font-bold text-emerald-400 animate-pulse",children:["+",T]}),e.jsx("span",{className:"text-2xl font-black text-cyan-400",children:n.score})]})]})]}),e.jsxs("div",{className:"bg-black/40 rounded-lg p-2 flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-[9px] font-bold text-slate-500 uppercase w-12 shrink-0 pt-1",children:"Played"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:n.tableau.length>0?n.tableau.map((S,M)=>e.jsx(O,{cardType:S.type,tiny:!0},`tab-${M}`)):e.jsx("span",{className:"text-[9px] text-slate-600 italic pt-1",children:"None"})})]}),e.jsxs("div",{className:"flex items-start gap-2 border-t border-white/5 pt-2",children:[e.jsx("span",{className:"text-[9px] font-bold text-slate-500 uppercase w-12 shrink-0 pt-1",children:"Hand"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:n.hand.length>0?n.hand.map((S,M)=>e.jsx(O,{cardType:S.type,tiny:!0},`hand-${M}`)):e.jsx("span",{className:"text-[9px] text-slate-600 italic pt-1",children:"None"})})]})]})]},n.id)})})}),e.jsx("div",{className:"flex-none flex flex-col gap-3 pb-8",children:t.hostId===i.uid?e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("button",{onClick:()=>Ce(t.status==="round_end"),disabled:!t.players.every(n=>n.ready),className:"bg-white hover:bg-cyan-50 text-cyan-900 px-10 py-4 rounded-full font-black text-xl shadow-xl hover:scale-105 transition-all flex items-center gap-2 justify-center disabled:opacity-50 disabled:grayscale disabled:scale-100 disabled:cursor-not-allowed",children:[t.players.every(n=>n.ready)?t.status==="finished"?"NEW GAME":"NEXT ROUND":"WAITING FOR READY...",e.jsx(Ne,{fill:"currentColor",size:20})]}),e.jsx("button",{onClick:Ae,className:"text-slate-400 hover:text-white text-sm font-bold uppercase tracking-widest hover:underline text-center",children:"Return to Lobby"})]}):e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("button",{onClick:qe,className:`w-full py-4 rounded-full font-bold text-lg shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2 ${t.players.find(n=>n.id===i.uid)?.ready?"bg-slate-700 text-emerald-400 hover:bg-slate-600":"bg-emerald-600 hover:bg-emerald-500 text-white"}`,children:t.players.find(n=>n.id===i.uid)?.ready?"READY! (Wait for Captain)":"MARK READY"}),e.jsx("div",{className:"text-slate-400 text-xs font-bold animate-pulse mt-2",children:t.status==="finished"?"Waiting for host...":"Waiting for next round..."})]})})]})}),ke&&e.jsx("div",{className:"fixed inset-0 z-200 bg-black/80 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-xl max-w-xs w-full text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon Ship?"}),e.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"You will leave the current game."}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Y(!1),className:"flex-1 bg-slate-800 py-2 rounded font-bold text-slate-300",children:"Cancel"}),e.jsx("button",{onClick:Ie,className:"flex-1 bg-red-600 py-2 rounded font-bold text-white",children:"Leave"})]}),t.hostId===i.uid&&e.jsx("button",{onClick:Ae,className:"w-full bg-slate-700 hover:bg-slate-600 py-2 rounded font-bold text-cyan-400 mt-2 text-sm",children:"Return All to Lobby"})]})]})}),e.jsx(ye,{})]})}return null}const Xt=({status:i})=>e.jsx(oe,{size:64,className:"text-cyan-500 mb-6"});Nt.createRoot(document.getElementById("root")).render(e.jsx(u.StrictMode,{children:e.jsx(Vt,{})}));
