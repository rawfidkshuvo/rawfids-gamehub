(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function gS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Od={exports:{}},dl={};var V_;function pS(){if(V_)return dl;V_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return dl.Fragment=t,dl.jsx=i,dl.jsxs=i,dl}var M_;function yS(){return M_||(M_=1,Od.exports=pS()),Od.exports}var k2=yS(),Vd={exports:{}},yt={};var U_;function _S(){if(U_)return yt;U_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function G(V){return V===null||typeof V!="object"?null:(V=O&&V[O]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,tt={};function dt(V,K,W){this.props=V,this.context=K,this.refs=tt,this.updater=W||Z}dt.prototype.isReactComponent={},dt.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},dt.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Tt(){}Tt.prototype=dt.prototype;function _t(V,K,W){this.props=V,this.context=K,this.refs=tt,this.updater=W||Z}var qt=_t.prototype=new Tt;qt.constructor=_t,et(qt,dt.prototype),qt.isPureReactComponent=!0;var ae=Array.isArray;function kt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(V,K,W){var it=W.ref;return{$$typeof:r,type:V,key:K,ref:it!==void 0?it:null,props:W}}function M(V,K){return I(V.type,K,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(W){return K[W]})}var w=/\/+/g;function ee(V,K){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):K.toString(36)}function Re(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(kt,kt):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function j(V,K,W,it,gt){var At=typeof V;(At==="undefined"||At==="boolean")&&(V=null);var Vt=!1;if(V===null)Vt=!0;else switch(At){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(V.$$typeof){case r:case t:Vt=!0;break;case A:return Vt=V._init,j(Vt(V._payload),K,W,it,gt)}}if(Vt)return gt=gt(V),Vt=it===""?"."+ee(V,0):it,ae(gt)?(W="",Vt!=null&&(W=Vt.replace(w,"$&/")+"/"),j(gt,K,W,"",function(rs){return rs})):gt!=null&&(N(gt)&&(gt=M(gt,W+(gt.key==null||V&&V.key===gt.key?"":(""+gt.key).replace(w,"$&/")+"/")+Vt)),K.push(gt)),1;Vt=0;var Ie=it===""?".":it+":";if(ae(V))for(var ne=0;ne<V.length;ne++)it=V[ne],At=Ie+ee(it,ne),Vt+=j(it,K,W,At,gt);else if(ne=G(V),typeof ne=="function")for(V=ne.call(V),ne=0;!(it=V.next()).done;)it=it.value,At=Ie+ee(it,ne++),Vt+=j(it,K,W,At,gt);else if(At==="object"){if(typeof V.then=="function")return j(Re(V),K,W,it,gt);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function $(V,K,W){if(V==null)return V;var it=[],gt=0;return j(V,it,"","",function(At){return K.call(W,At,gt++)}),it}function ut(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(W){(V._status===0||V._status===-1)&&(V._status=1,V._result=W)},function(W){(V._status===0||V._status===-1)&&(V._status=2,V._result=W)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var Lt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ht={map:$,forEach:function(V,K,W){$(V,function(){K.apply(this,arguments)},W)},count:function(V){var K=0;return $(V,function(){K++}),K},toArray:function(V){return $(V,function(K){return K})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return yt.Activity=S,yt.Children=Ht,yt.Component=dt,yt.Fragment=i,yt.Profiler=l,yt.PureComponent=_t,yt.StrictMode=a,yt.Suspense=v,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,yt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},yt.cache=function(V){return function(){return V.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(V,K,W){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var it=et({},V.props),gt=V.key;if(K!=null)for(At in K.key!==void 0&&(gt=""+K.key),K)!b.call(K,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&K.ref===void 0||(it[At]=K[At]);var At=arguments.length-2;if(At===1)it.children=W;else if(1<At){for(var Vt=Array(At),Ie=0;Ie<At;Ie++)Vt[Ie]=arguments[Ie+2];it.children=Vt}return I(V.type,gt,it)},yt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},yt.createElement=function(V,K,W){var it,gt={},At=null;if(K!=null)for(it in K.key!==void 0&&(At=""+K.key),K)b.call(K,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=K[it]);var Vt=arguments.length-2;if(Vt===1)gt.children=W;else if(1<Vt){for(var Ie=Array(Vt),ne=0;ne<Vt;ne++)Ie[ne]=arguments[ne+2];gt.children=Ie}if(V&&V.defaultProps)for(it in Vt=V.defaultProps,Vt)gt[it]===void 0&&(gt[it]=Vt[it]);return I(V,At,gt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(V){return{$$typeof:p,render:V}},yt.isValidElement=N,yt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:ut}},yt.memo=function(V,K){return{$$typeof:y,type:V,compare:K===void 0?null:K}},yt.startTransition=function(V){var K=C.T,W={};C.T=W;try{var it=V(),gt=C.S;gt!==null&&gt(W,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(kt,Lt)}catch(At){Lt(At)}finally{K!==null&&W.types!==null&&(K.types=W.types),C.T=K}},yt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},yt.use=function(V){return C.H.use(V)},yt.useActionState=function(V,K,W){return C.H.useActionState(V,K,W)},yt.useCallback=function(V,K){return C.H.useCallback(V,K)},yt.useContext=function(V){return C.H.useContext(V)},yt.useDebugValue=function(){},yt.useDeferredValue=function(V,K){return C.H.useDeferredValue(V,K)},yt.useEffect=function(V,K){return C.H.useEffect(V,K)},yt.useEffectEvent=function(V){return C.H.useEffectEvent(V)},yt.useId=function(){return C.H.useId()},yt.useImperativeHandle=function(V,K,W){return C.H.useImperativeHandle(V,K,W)},yt.useInsertionEffect=function(V,K){return C.H.useInsertionEffect(V,K)},yt.useLayoutEffect=function(V,K){return C.H.useLayoutEffect(V,K)},yt.useMemo=function(V,K){return C.H.useMemo(V,K)},yt.useOptimistic=function(V,K){return C.H.useOptimistic(V,K)},yt.useReducer=function(V,K,W){return C.H.useReducer(V,K,W)},yt.useRef=function(V){return C.H.useRef(V)},yt.useState=function(V){return C.H.useState(V)},yt.useSyncExternalStore=function(V,K,W){return C.H.useSyncExternalStore(V,K,W)},yt.useTransition=function(){return C.H.useTransition()},yt.version="19.2.4",yt}var L_;function _m(){return L_||(L_=1,Vd.exports=_S()),Vd.exports}var Ba=_m();const P2=gS(Ba);var Md={exports:{}},ml={},Ud={exports:{}},Ld={};var k_;function vS(){return k_||(k_=1,(function(r){function t(j,$){var ut=j.length;j.push($);t:for(;0<ut;){var Lt=ut-1>>>1,Ht=j[Lt];if(0<l(Ht,$))j[Lt]=$,j[ut]=Ht,ut=Lt;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var $=j[0],ut=j.pop();if(ut!==$){j[0]=ut;t:for(var Lt=0,Ht=j.length,V=Ht>>>1;Lt<V;){var K=2*(Lt+1)-1,W=j[K],it=K+1,gt=j[it];if(0>l(W,ut))it<Ht&&0>l(gt,W)?(j[Lt]=gt,j[it]=ut,Lt=it):(j[Lt]=W,j[K]=ut,Lt=K);else if(it<Ht&&0>l(gt,ut))j[Lt]=gt,j[it]=ut,Lt=it;else break t}}return $}function l(j,$){var ut=j.sortIndex-$.sortIndex;return ut!==0?ut:j.id-$.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],y=[],A=1,S=null,O=3,G=!1,Z=!1,et=!1,tt=!1,dt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function qt(j){for(var $=i(y);$!==null;){if($.callback===null)a(y);else if($.startTime<=j)a(y),$.sortIndex=$.expirationTime,t(v,$);else break;$=i(y)}}function ae(j){if(et=!1,qt(j),!Z)if(i(v)!==null)Z=!0,kt||(kt=!0,L());else{var $=i(y);$!==null&&Re(ae,$.startTime-j)}}var kt=!1,C=-1,b=5,I=-1;function M(){return tt?!0:!(r.unstable_now()-I<b)}function N(){if(tt=!1,kt){var j=r.unstable_now();I=j;var $=!0;try{t:{Z=!1,et&&(et=!1,Tt(C),C=-1),G=!0;var ut=O;try{e:{for(qt(j),S=i(v);S!==null&&!(S.expirationTime>j&&M());){var Lt=S.callback;if(typeof Lt=="function"){S.callback=null,O=S.priorityLevel;var Ht=Lt(S.expirationTime<=j);if(j=r.unstable_now(),typeof Ht=="function"){S.callback=Ht,qt(j),$=!0;break e}S===i(v)&&a(v),qt(j)}else a(v);S=i(v)}if(S!==null)$=!0;else{var V=i(y);V!==null&&Re(ae,V.startTime-j),$=!1}}break t}finally{S=null,O=ut,G=!1}$=void 0}}finally{$?L():kt=!1}}}var L;if(typeof _t=="function")L=function(){_t(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ee=w.port2;w.port1.onmessage=N,L=function(){ee.postMessage(null)}}else L=function(){dt(N,0)};function Re(j,$){C=dt(function(){j(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(j){switch(O){case 1:case 2:case 3:var $=3;break;default:$=O}var ut=O;O=$;try{return j()}finally{O=ut}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ut=O;O=j;try{return $()}finally{O=ut}},r.unstable_scheduleCallback=function(j,$,ut){var Lt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Lt+ut:Lt):ut=Lt,j){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ut+Ht,j={id:A++,callback:$,priorityLevel:j,startTime:ut,expirationTime:Ht,sortIndex:-1},ut>Lt?(j.sortIndex=ut,t(y,j),i(v)===null&&j===i(y)&&(et?(Tt(C),C=-1):et=!0,Re(ae,ut-Lt))):(j.sortIndex=Ht,t(v,j),Z||G||(Z=!0,kt||(kt=!0,L()))),j},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(j){var $=O;return function(){var ut=O;O=$;try{return j.apply(this,arguments)}finally{O=ut}}}})(Ld)),Ld}var P_;function ES(){return P_||(P_=1,Ud.exports=vS()),Ud.exports}var kd={exports:{}},Ye={};var x_;function TS(){if(x_)return Ye;x_=1;var r=_m();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:v,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,A)},Ye.flushSync=function(v){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=A,a.d.f()}},Ye.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ye.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ye.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:G}):A==="script"&&a.d.X(v,{crossOrigin:S,integrity:O,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ye.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);a.d.L(v,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ye.requestFormReset=function(v){a.d.r(v)},Ye.unstable_batchedUpdates=function(v,y){return v(y)},Ye.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.4",Ye}var z_;function AS(){if(z_)return kd.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kd.exports=TS(),kd.exports}var B_;function SS(){if(B_)return ml;B_=1;var r=ES(),t=_m(),i=AS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case dt:return"Profiler";case tt:return"StrictMode";case ae:return"Suspense";case kt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case _t:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var Re=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function V(e){return{current:e}}function K(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function W(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var it=V(null),gt=V(null),At=V(null),Vt=V(null);function Ie(e,n){switch(W(At,n),W(gt,e),W(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?e_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=e_(n),e=n_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(it),W(it,e)}function ne(){K(it),K(gt),K(At)}function rs(e){e.memoizedState!==null&&W(Vt,e);var n=it.current,s=n_(n,e.type);n!==s&&(W(gt,e),W(it,s))}function Fs(e){gt.current===e&&(K(it),K(gt)),Vt.current===e&&(K(Vt),ul._currentValue=ut)}var Gs,Qs;function $n(e){if(Gs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Gs=n&&n[1]||"",Qs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gs+e+Qs}var lo=!1;function ss(e,n){if(!e||lo)return"";lo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){z=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),x=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<x.length&&!x[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===x.length)for(o=R.length-1,h=x.length-1;1<=o&&0<=h&&R[o]!==x[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==x[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==x[h]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{lo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?$n(s):""}function uo(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return ss(e.type,!1);case 11:return ss(e.type.render,!1);case 1:return ss(e.type,!0);case 31:return $n("Activity");default:return""}}function co(e){try{var n="",s=null;do n+=uo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,Ce=r.unstable_scheduleCallback,rr=r.unstable_cancelCallback,Vh=r.unstable_shouldYield,Zl=r.unstable_requestPaint,$e=r.unstable_now,as=r.unstable_getCurrentPriorityLevel,ho=r.unstable_ImmediatePriority,fo=r.unstable_UserBlockingPriority,sr=r.unstable_NormalPriority,Mh=r.unstable_LowPriority,$l=r.unstable_IdlePriority,Wl=r.log,tu=r.unstable_setDisableYieldValue,xn=null,xe=null;function bn(e){if(typeof Wl=="function"&&tu(e),xe&&typeof xe.setStrictMode=="function")try{xe.setStrictMode(xn,e)}catch{}}var ce=Math.clz32?Math.clz32:nu,eu=Math.log,Ks=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/Ks|0)|0}var Wn=256,os=262144,pe=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ti(o):(g&=E,g!==0?h=ti(g):s||(s=E&~e,s!==0&&(h=ti(s))))):(E=o&~f,E!==0?h=ti(E):g!==0?h=ti(g):s||(s=o&~e,s!==0&&(h=ti(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Uh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ni(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ls(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Lh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,x=e.hiddenUpdates;for(s=g&~s;0<s;){var H=31-ce(s),Q=1<<H;E[H]=0,R[H]=-1;var z=x[H];if(z!==null)for(x[H]=null,H=0;H<z.length;H++){var q=z[H];q!==null&&(q.lane&=-536870913)}s&=~Q}o!==0&&us(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function us(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function mo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ce(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function go(e,n){var s=n&-n;return s=(s&42)!==0?1:cs(s),(s&(e.suspendedLanes|n))!==0?0:s}function cs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:w_(e.type))}function Bn(e,n){var s=$.p;try{return $.p=e,n()}finally{$.p=s}}var qn=Math.random().toString(36).slice(2),ye="__reactFiber$"+qn,Ve="__reactProps$"+qn,ii="__reactContainer$"+qn,Ys="__reactEvents$"+qn,kh="__reactListeners$"+qn,su="__reactHandles$"+qn,au="__reactResources$"+qn,ri="__reactMarker$"+qn;function Xs(e){delete e[ye],delete e[Ve],delete e[Ys],delete e[kh],delete e[su]}function si(e){var n=e[ye];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ii]||s[ye]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=u_(e);e!==null;){if(s=e[ye])return s;e=u_(e)}return n}e=s,s=e.parentNode}return null}function wn(e){if(e=e[ye]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ri]=!0}var po=new Set,yo={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(yo[e]=n,e=0;e<n.length;e++)po.add(n[e])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Eo={};function ou(e){return ge.call(Eo,e)?!0:ge.call(vo,e)?!1:_o.test(e)?Eo[e]=!0:(vo[e]=!0,!1)}function Js(e,n,s){if(ou(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function fn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function ve(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Me(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ar(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function To(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function jt(e){if(!e._valueTracker){var n=ar(e)?"checked":"value";e._valueTracker=To(e,n,""+e[n])}}function hs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=ar(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fs=/[\n"\\]/g;function nn(e){return e.replace(fs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zs(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Me(n)):e.value!==""+Me(n)&&(e.value=""+Me(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Ao(e,g,Me(n)):s!=null?Ao(e,g,Me(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Me(E):e.removeAttribute("name")}function lu(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){jt(e);return}s=s!=null?""+Me(s):"",n=n!=null?""+Me(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),jt(e)}function Ao(e,n,s){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function or(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Me(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,s){if(n!=null&&(n=""+Me(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Me(s):""}function lr(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Re(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Me(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),jt(e)}function rn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||cu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function bo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&So(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&So(e,f,n[f])}function $s(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ws(e){return ur.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var wo=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cr=null,ci=null;function ds(e){var n=wn(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(Zs(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));Zs(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&hs(o)}break t;case"textarea":uu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&or(e,!!s.multiple,n,!1)}}}var ta=!1;function hr(e,n,s){if(ta)return e(n,s);ta=!0;try{var o=e(n);return o}finally{if(ta=!1,(cr!==null||ci!==null)&&(rc(),cr&&(n=cr,e=ci,ci=cr=null,ds(n),e)))for(n=0;n<e.length;n++)ds(e[n])}}function jn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ve]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=!1;if(In)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){ms=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch{ms=!1}var hi=null,Ro=null,gs=null;function Io(){if(gs)return gs;var e,n=Ro,s=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return gs=h.slice(e,1<o?1-o:void 0)}function ps(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ci(){return!0}function Fn(){return!1}function ze(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ci:Fn,this.isPropagationStopped=Fn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ci)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ci)},persist:function(){},isPersistent:Ci}),n}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ze(Di),fr=S({},Di,{view:0,detail:0}),Co=ze(fr),dr,ea,di,na=S({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(dr=e.screenX-di.screenX,ea=e.screenY-di.screenY):ea=dr=0,di=e),dr)},movementY:function(e){return"movementY"in e?e.movementY:ea}}),Do=ze(na),ys=S({},na,{dataTransfer:0}),fu=ze(ys),du=S({},fr,{relatedTarget:0}),_s=ze(du),No=S({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=ze(No),ia=S({},Di,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=ze(ia),pu=S({},Di,{data:0}),mi=ze(pu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function mr(){return Eu}var We=S({},fr,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(e){return e.type==="keypress"?ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=ze(We),Au=S({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=ze(Au),u=S({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),m=ze(u),_=S({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(_),k=S({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(k),J=S({},Di,{newState:0,oldState:0}),vt=ze(J),he=[9,13,27,32],zt=In&&"CompositionEvent"in window,ie=null;In&&"documentMode"in document&&(ie=document.documentMode);var Cn=In&&"TextEvent"in window&&!ie,gi=In&&(!zt||ie&&8<ie&&11>=ie),Gn=" ",Qn=!1;function vs(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ra(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sa=!1;function z0(e,n){switch(e){case"compositionend":return ra(n);case"keypress":return n.which!==32?null:(Qn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Qn?null:e;default:return null}}function B0(e,n){if(sa)return e==="compositionend"||!zt&&vs(e,n)?(e=Io(),gs=Ro=hi=null,sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!q0[e.type]:n==="textarea"}function dg(e,n,s,o){cr?ci?ci.push(o):ci=[o]:cr=o,n=hc(n,"onChange"),0<n.length&&(s=new fi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Oo=null,Vo=null;function H0(e){Xy(e,0)}function Su(e){var n=hn(e);if(hs(n))return e}function mg(e,n){if(e==="change")return n}var gg=!1;if(In){var Ph;if(In){var xh="oninput"in document;if(!xh){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),xh=typeof pg.oninput=="function"}Ph=xh}else Ph=!1;gg=Ph&&(!document.documentMode||9<document.documentMode)}function yg(){Oo&&(Oo.detachEvent("onpropertychange",_g),Vo=Oo=null)}function _g(e){if(e.propertyName==="value"&&Su(Vo)){var n=[];dg(n,Vo,e,Rn(e)),hr(H0,n)}}function j0(e,n,s){e==="focusin"?(yg(),Oo=n,Vo=s,Oo.attachEvent("onpropertychange",_g)):e==="focusout"&&yg()}function F0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(Vo)}function G0(e,n){if(e==="click")return Su(n)}function Q0(e,n){if(e==="input"||e==="change")return Su(n)}function K0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:K0;function Mo(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ge.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eg(e,n){var s=vg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=vg(s)}}function Tg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Tg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ui(e.document)}return n}function zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Y0=In&&"documentMode"in document&&11>=document.documentMode,aa=null,Bh=null,Uo=null,qh=!1;function Sg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;qh||aa==null||aa!==ui(o)||(o=aa,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&Mo(Uo,o)||(Uo=o,o=hc(Bh,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=aa)))}function Es(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var oa={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Hh={},bg={};In&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function Ts(e){if(Hh[e])return Hh[e];if(!oa[e])return e;var n=oa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in bg)return Hh[e]=n[s];return e}var wg=Ts("animationend"),Rg=Ts("animationiteration"),Ig=Ts("animationstart"),X0=Ts("transitionrun"),J0=Ts("transitionstart"),Z0=Ts("transitioncancel"),Cg=Ts("transitionend"),Dg=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function Kn(e,n){Dg.set(e,n),oi(n,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],la=0,Fh=0;function wu(){for(var e=la,n=Fh=la=0;n<e;){var s=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Ng(s,h,f)}}function Ru(e,n,s,o){Dn[la++]=e,Dn[la++]=n,Dn[la++]=s,Dn[la++]=o,Fh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gh(e,n,s,o){return Ru(e,n,s,o),Iu(e)}function As(e,n){return Ru(e,null,null,n),Iu(e)}function Ng(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Iu(e){if(50<nl)throw nl=0,ed=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={};function $0(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,s,o){return new $0(e,n,s,o)}function Qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oi(e,n){var s=e.alternate;return s===null?(s=mn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Og(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Qh(e)&&(g=1);else if(typeof e=="string")g=iS(e,s,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=mn(31,s,n,h),e.elementType=I,e.lanes=f,e;case et:return Ss(s.children,h,f,n);case tt:g=8,h|=24;break;case dt:return e=mn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case ae:return e=mn(13,s,n,h),e.elementType=ae,e.lanes=f,e;case kt:return e=mn(19,s,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:g=10;break t;case Tt:g=9;break t;case qt:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=mn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ss(e,n,s,o){return e=mn(7,e,o,n),e.lanes=s,e}function Kh(e,n,s){return e=mn(6,e,null,n),e.lanes=s,e}function Vg(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,s){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Mg=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var s=Mg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:co(n)},Mg.set(e,n),n)}return{value:e,source:n,stack:co(n)}}var ca=[],ha=0,Du=null,Lo=0,On=[],Vn=0,gr=null,pi=1,yi="";function Vi(e,n){ca[ha++]=Lo,ca[ha++]=Du,Du=e,Lo=n}function Ug(e,n,s){On[Vn++]=pi,On[Vn++]=yi,On[Vn++]=gr,gr=e;var o=pi;e=yi;var h=32-ce(o)-1;o&=~(1<<h),s+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,pi=1<<32-ce(n)+h|s<<h|o,yi=f+e}else pi=1<<f|s<<h|o,yi=e}function Xh(e){e.return!==null&&(Vi(e,1),Ug(e,1,0))}function Jh(e){for(;e===Du;)Du=ca[--ha],ca[ha]=null,Lo=ca[--ha],ca[ha]=null;for(;e===gr;)gr=On[--Vn],On[Vn]=null,yi=On[--Vn],On[Vn]=null,pi=On[--Vn],On[Vn]=null}function Lg(e,n){On[Vn++]=pi,On[Vn++]=yi,On[Vn++]=gr,pi=n.id,yi=n.overflow,gr=e}var Be=null,$t=null,Ot=!1,pr=null,Mn=!1,Zh=Error(a(519));function yr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ko(Nn(n,e)),Zh}function kg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Ve]=o,s){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(s=0;s<rl.length;s++)wt(rl[s],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":wt("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":wt("invalid",n);break;case"textarea":wt("invalid",n),lr(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Wy(n.textContent,s)?(o.popover!=null&&(wt("beforetoggle",n),wt("toggle",n)),o.onScroll!=null&&wt("scroll",n),o.onScrollEnd!=null&&wt("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||yr(e,!0)}function Pg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Be=Be.return}}function fa(e){if(e!==Be)return!1;if(!Ot)return Pg(e),Ot=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||pd(e.type,e.memoizedProps)),s=!s),s&&$t&&yr(e),Pg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));$t=l_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));$t=l_(e)}else n===27?(n=$t,Or(e.type)?(e=Td,Td=null,$t=e):$t=n):$t=Be?Ln(e.stateNode.nextSibling):null;return!0}function bs(){$t=Be=null,Ot=!1}function $h(){var e=pr;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),pr=null),e}function ko(e){pr===null?pr=[e]:pr.push(e)}var Wh=V(null),ws=null,Mi=null;function _r(e,n,s){W(Wh,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=Wh.current,K(Wh)}function tf(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function ef(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),tf(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),tf(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function da(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;dn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&ef(n,e,s,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rs(e){ws=e,Mi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return xg(ws,e)}function Ou(e,n){return ws===null&&Rs(e),xg(e,n)}function xg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Mi===null){if(e===null)throw Error(a(308));Mi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Mi=Mi.next=n;return s}var W0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},tA=r.unstable_scheduleCallback,eA=r.unstable_NormalPriority,Ee={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new W0,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&tA(eA,function(){e.controller.abort()})}var xo=null,rf=0,ma=0,ga=null;function nA(e,n){if(xo===null){var s=xo=[];rf=0,ma=od(),ga={status:"pending",value:void 0,then:function(o){s.push(o)}}}return rf++,n.then(zg,zg),n}function zg(){if(--rf===0&&xo!==null){ga!==null&&(ga.status="fulfilled");var e=xo;xo=null,ma=0,ga=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function iA(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Bg=j.S;j.S=function(e,n){Sy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&nA(e,n),Bg!==null&&Bg(e,n)};var Is=V(null);function sf(){var e=Is.current;return e!==null?e:Jt.pooledCache}function Vu(e,n){n===null?W(Is,Is.current):W(Is,n.pool)}function qg(){var e=sf();return e===null?null:{parent:Ee._currentValue,pool:e}}var pa=Error(a(460)),af=Error(a(474)),Mu=Error(a(542)),Uu={then:function(){}};function Hg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Hn,Hn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gg(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gg(e),e}throw Ds=n,pa}}function Cs(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ds=s,pa):s}}var Ds=null;function Fg(){if(Ds===null)throw Error(a(459));var e=Ds;return Ds=null,e}function Gg(e){if(e===pa||e===Mu)throw Error(a(483))}var ya=null,zo=0;function Lu(e){var n=zo;return zo+=1,ya===null&&(ya=[]),jg(ya,e,n)}function Bo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ku(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Qg(e){function n(U,D){if(e){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function s(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Oi(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,P,F){return D===null||D.tag!==6?(D=Kh(P,U.mode,F),D.return=U,D):(D=h(D,P),D.return=U,D)}function R(U,D,P,F){var ot=P.type;return ot===et?H(U,D,P.props.children,F,P.key):D!==null&&(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Cs(ot)===D.type)?(D=h(D,P.props),Bo(D,P),D.return=U,D):(D=Cu(P.type,P.key,P.props,null,U.mode,F),Bo(D,P),D.return=U,D)}function x(U,D,P,F){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Yh(P,U.mode,F),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function H(U,D,P,F,ot){return D===null||D.tag!==7?(D=Ss(P,U.mode,F,ot),D.return=U,D):(D=h(D,P),D.return=U,D)}function Q(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Kh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=Cu(D.type,D.key,D.props,null,U.mode,P),Bo(P,D),P.return=U,P;case Z:return D=Yh(D,U.mode,P),D.return=U,D;case b:return D=Cs(D),Q(U,D,P)}if(Re(D)||L(D))return D=Ss(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return Q(U,Lu(D),P);if(D.$$typeof===_t)return Q(U,Ou(U,D),P);ku(U,D)}return null}function z(U,D,P,F){var ot=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ot!==null?null:E(U,D,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ot?R(U,D,P,F):null;case Z:return P.key===ot?x(U,D,P,F):null;case b:return P=Cs(P),z(U,D,P,F)}if(Re(P)||L(P))return ot!==null?null:H(U,D,P,F,null);if(typeof P.then=="function")return z(U,D,Lu(P),F);if(P.$$typeof===_t)return z(U,D,Ou(U,P),F);ku(U,P)}return null}function q(U,D,P,F,ot){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(P)||null,E(D,U,""+F,ot);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return U=U.get(F.key===null?P:F.key)||null,R(D,U,F,ot);case Z:return U=U.get(F.key===null?P:F.key)||null,x(D,U,F,ot);case b:return F=Cs(F),q(U,D,P,F,ot)}if(Re(F)||L(F))return U=U.get(P)||null,H(D,U,F,ot,null);if(typeof F.then=="function")return q(U,D,P,Lu(F),ot);if(F.$$typeof===_t)return q(U,D,P,Ou(D,F),ot);ku(D,F)}return null}function st(U,D,P,F){for(var ot=null,Pt=null,at=D,St=D=0,It=null;at!==null&&St<P.length;St++){at.index>St?(It=at,at=null):It=at.sibling;var xt=z(U,at,P[St],F);if(xt===null){at===null&&(at=It);break}e&&at&&xt.alternate===null&&n(U,at),D=f(xt,D,St),Pt===null?ot=xt:Pt.sibling=xt,Pt=xt,at=It}if(St===P.length)return s(U,at),Ot&&Vi(U,St),ot;if(at===null){for(;St<P.length;St++)at=Q(U,P[St],F),at!==null&&(D=f(at,D,St),Pt===null?ot=at:Pt.sibling=at,Pt=at);return Ot&&Vi(U,St),ot}for(at=o(at);St<P.length;St++)It=q(at,U,St,P[St],F),It!==null&&(e&&It.alternate!==null&&at.delete(It.key===null?St:It.key),D=f(It,D,St),Pt===null?ot=It:Pt.sibling=It,Pt=It);return e&&at.forEach(function(kr){return n(U,kr)}),Ot&&Vi(U,St),ot}function ht(U,D,P,F){if(P==null)throw Error(a(151));for(var ot=null,Pt=null,at=D,St=D=0,It=null,xt=P.next();at!==null&&!xt.done;St++,xt=P.next()){at.index>St?(It=at,at=null):It=at.sibling;var kr=z(U,at,xt.value,F);if(kr===null){at===null&&(at=It);break}e&&at&&kr.alternate===null&&n(U,at),D=f(kr,D,St),Pt===null?ot=kr:Pt.sibling=kr,Pt=kr,at=It}if(xt.done)return s(U,at),Ot&&Vi(U,St),ot;if(at===null){for(;!xt.done;St++,xt=P.next())xt=Q(U,xt.value,F),xt!==null&&(D=f(xt,D,St),Pt===null?ot=xt:Pt.sibling=xt,Pt=xt);return Ot&&Vi(U,St),ot}for(at=o(at);!xt.done;St++,xt=P.next())xt=q(at,U,St,xt.value,F),xt!==null&&(e&&xt.alternate!==null&&at.delete(xt.key===null?St:xt.key),D=f(xt,D,St),Pt===null?ot=xt:Pt.sibling=xt,Pt=xt);return e&&at.forEach(function(mS){return n(U,mS)}),Ot&&Vi(U,St),ot}function Xt(U,D,P,F){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ot=P.key;D!==null;){if(D.key===ot){if(ot=P.type,ot===et){if(D.tag===7){s(U,D.sibling),F=h(D,P.props.children),F.return=U,U=F;break t}}else if(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Cs(ot)===D.type){s(U,D.sibling),F=h(D,P.props),Bo(F,P),F.return=U,U=F;break t}s(U,D);break}else n(U,D);D=D.sibling}P.type===et?(F=Ss(P.props.children,U.mode,F,P.key),F.return=U,U=F):(F=Cu(P.type,P.key,P.props,null,U.mode,F),Bo(F,P),F.return=U,U=F)}return g(U);case Z:t:{for(ot=P.key;D!==null;){if(D.key===ot)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(U,D.sibling),F=h(D,P.children||[]),F.return=U,U=F;break t}else{s(U,D);break}else n(U,D);D=D.sibling}F=Yh(P,U.mode,F),F.return=U,U=F}return g(U);case b:return P=Cs(P),Xt(U,D,P,F)}if(Re(P))return st(U,D,P,F);if(L(P)){if(ot=L(P),typeof ot!="function")throw Error(a(150));return P=ot.call(P),ht(U,D,P,F)}if(typeof P.then=="function")return Xt(U,D,Lu(P),F);if(P.$$typeof===_t)return Xt(U,D,Ou(U,P),F);ku(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(U,D.sibling),F=h(D,P),F.return=U,U=F):(s(U,D),F=Kh(P,U.mode,F),F.return=U,U=F),g(U)):s(U,D)}return function(U,D,P,F){try{zo=0;var ot=Xt(U,D,P,F);return ya=null,ot}catch(at){if(at===pa||at===Mu)throw at;var Pt=mn(29,at,null,U.mode);return Pt.lanes=F,Pt.return=U,Pt}}}var Ns=Qg(!0),Kg=Qg(!1),vr=!1;function of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Tr(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(e),Ng(e,null,s),n}return Ru(e,o,n,s),Iu(e)}function qo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mo(e,s)}}function uf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var cf=!1;function Ho(){if(cf){var e=ga;if(e!==null)throw e}}function jo(e,n,s,o){cf=!1;var h=e.updateQueue;vr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,x=R.next;R.next=null,g===null?f=x:g.next=x,g=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=x:E.next=x,H.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;g=0,H=x=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Rt&z)===z:(o&z)===z){z!==0&&z===ma&&(cf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ht=E;z=n;var Xt=s;switch(ht.tag){case 1:if(st=ht.payload,typeof st=="function"){Q=st.call(Xt,Q,z);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ht.payload,z=typeof st=="function"?st.call(Xt,Q,z):st,z==null)break t;Q=S({},Q,z);break t;case 2:vr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(x=H=q,R=Q):H=H.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);H===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=x,h.lastBaseUpdate=H,f===null&&(h.shared.lanes=0),Rr|=g,e.lanes=g,e.memoizedState=Q}}function Yg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Xg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Yg(s[e],n)}var _a=V(null),Pu=V(0);function Jg(e,n){e=ji,W(Pu,e),W(_a,n),ji=e|n.baseLanes}function hf(){W(Pu,ji),W(_a,_a.current)}function ff(){ji=Pu.current,K(_a),K(Pu)}var gn=V(null),Un=null;function Ar(e){var n=e.alternate;W(fe,fe.current&1),W(gn,e),Un===null&&(n===null||_a.current!==null||n.memoizedState!==null)&&(Un=e)}function df(e){W(fe,fe.current),W(gn,e),Un===null&&(Un=e)}function Zg(e){e.tag===22?(W(fe,fe.current),W(gn,e),Un===null&&(Un=e)):Sr()}function Sr(){W(fe,fe.current),W(gn,gn.current)}function pn(e){K(gn),Un===e&&(Un=null),K(fe)}var fe=V(0);function xu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||vd(s)||Ed(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,Et=null,Kt=null,Te=null,zu=!1,va=!1,Os=!1,Bu=0,Fo=0,Ea=null,rA=0;function oe(){throw Error(a(321))}function mf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!dn(e[s],n[s]))return!1;return!0}function gf(e,n,s,o,h,f){return Li=f,Et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=e===null||e.memoizedState===null?Up:Nf,Os=!1,f=s(o,h),Os=!1,va&&(f=Wg(n,s,o,h)),$g(e),f}function $g(e){j.H=Ko;var n=Kt!==null&&Kt.next!==null;if(Li=0,Te=Kt=Et=null,zu=!1,Fo=0,Ea=null,n)throw Error(a(300));e===null||Ae||(e=e.dependencies,e!==null&&Nu(e)&&(Ae=!0))}function Wg(e,n,s,o){Et=e;var h=0;do{if(va&&(Ea=null),Fo=0,va=!1,25<=h)throw Error(a(301));if(h+=1,Te=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=Lp,f=n(s,o)}while(va);return f}function sA(){var e=j.H,n=e.useState()[0];return n=typeof n.then=="function"?Go(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Et.flags|=1024),n}function pf(){var e=Bu!==0;return Bu=0,e}function yf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function _f(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}Li=0,Te=Kt=Et=null,va=!1,Fo=Bu=0,Ea=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Et.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Kt===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=Te===null?Et.memoizedState:Te.next;if(n!==null)Te=n,Kt=e;else{if(e===null)throw Et.alternate===null?Error(a(467)):Error(a(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Te===null?Et.memoizedState=Te=e:Te=Te.next=e}return Te}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var n=Fo;return Fo+=1,Ea===null&&(Ea=[]),e=jg(Ea,e,n),n=Et,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?Up:Nf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===_t)return qe(e)}throw Error(a(438,String(e)))}function vf(e){var n=null,s=Et.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Et.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qu(),Et.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function ki(e,n){return typeof n=="function"?n(e):n}function ju(e){var n=de();return Ef(n,Kt,e)}function Ef(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,x=n,H=!1;do{var Q=x.lane&-536870913;if(Q!==x.lane?(Rt&Q)===Q:(Li&Q)===Q){var z=x.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),Q===ma&&(H=!0);else if((Li&z)===z){x=x.next,z===ma&&(H=!0);continue}else Q={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},R===null?(E=R=Q,g=f):R=R.next=Q,Et.lanes|=z,Rr|=z;Q=x.action,Os&&s(f,Q),f=x.hasEagerState?x.eagerState:s(f,Q)}else z={lane:Q,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,Et.lanes|=Q,Rr|=Q;x=x.next}while(x!==null&&x!==n);if(R===null?g=f:R.next=E,!dn(f,e.memoizedState)&&(Ae=!0,H&&(s=ga,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Tf(e){var n=de(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);dn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function tp(e,n,s){var o=Et,h=de(),f=Ot;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!dn((Kt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ae=!0),h=h.queue,bf(ip.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Ta(9,{destroy:void 0},np.bind(null,o,h,s,n),null),Jt===null)throw Error(a(349));f||(Li&127)!==0||ep(o,n,s)}return s}function ep(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Et.updateQueue,n===null?(n=qu(),Et.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function np(e,n,s,o){n.value=s,n.getSnapshot=o,rp(n)&&sp(e)}function ip(e,n,s){return s(function(){rp(n)&&sp(e)})}function rp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!dn(e,s)}catch{return!0}}function sp(e){var n=As(e,2);n!==null&&un(n,e,2)}function Af(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Os){bn(!0);try{s()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function ap(e,n,s,o){return e.baseState=s,Ef(e,Kt,typeof o=="function"?o:ki)}function aA(e,n,s,o,h){if(Qu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};j.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,op(n,f)):(f.next=s.next,n.pending=s.next=f)}}function op(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=j.T,g={};j.T=g;try{var E=s(h,o),R=j.S;R!==null&&R(g,E),lp(e,n,E)}catch(x){Sf(e,n,x)}finally{f!==null&&g.types!==null&&(f.types=g.types),j.T=f}}else try{f=s(h,o),lp(e,n,f)}catch(x){Sf(e,n,x)}}function lp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){up(e,n,o)},function(o){return Sf(e,n,o)}):up(e,n,s)}function up(e,n,s){n.status="fulfilled",n.value=s,cp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,op(e,s)))}function Sf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,cp(n),n=n.next;while(n!==o)}e.action=null}function cp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function hp(e,n){return n}function fp(e,n){if(Ot){var s=Jt.formState;if(s!==null){t:{var o=Et;if(Ot){if($t){e:{for(var h=$t,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){$t=Ln(h.nextSibling),o=h.data==="F!";break t}}yr(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hp,lastRenderedState:n},s.queue=o,s=Op.bind(null,Et,o),o.dispatch=s,o=Af(!1),f=Df.bind(null,Et,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=aA.bind(null,Et,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function dp(e){var n=de();return mp(n,Kt,e)}function mp(e,n,s){if(n=Ef(e,n,hp)[0],e=ju(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Go(n)}catch(g){throw g===pa?Mu:g}else o=n;n=de();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Et.flags|=2048,Ta(9,{destroy:void 0},oA.bind(null,h,s),null)),[o,f,e]}function oA(e,n){e.action=n}function gp(e){var n=de(),s=Kt;if(s!==null)return mp(n,s,e);de(),n=n.memoizedState,s=de();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ta(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Et.updateQueue,n===null&&(n=qu(),Et.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function pp(){return de().memoizedState}function Fu(e,n,s,o){var h=tn();Et.flags|=e,h.memoizedState=Ta(1|n,{destroy:void 0},s,o===void 0?null:o)}function Gu(e,n,s,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&mf(o,Kt.memoizedState.deps)?h.memoizedState=Ta(n,f,s,o):(Et.flags|=e,h.memoizedState=Ta(1|n,f,s,o))}function yp(e,n){Fu(8390656,8,e,n)}function bf(e,n){Gu(2048,8,e,n)}function lA(e){Et.flags|=4;var n=Et.updateQueue;if(n===null)n=qu(),Et.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function _p(e){var n=de().memoizedState;return lA({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function vp(e,n){return Gu(4,2,e,n)}function Ep(e,n){return Gu(4,4,e,n)}function Tp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ap(e,n,s){s=s!=null?s.concat([e]):null,Gu(4,4,Tp.bind(null,n,e),s)}function wf(){}function Sp(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&mf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function bp(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&mf(n,o[1]))return o[0];if(o=e(),Os){bn(!0);try{e()}finally{bn(!1)}}return s.memoizedState=[o,n],o}function Rf(e,n,s){return s===void 0||(Li&1073741824)!==0&&(Rt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=wy(),Et.lanes|=e,Rr|=e,s)}function wp(e,n,s,o){return dn(s,n)?s:_a.current!==null?(e=Rf(e,s,o),dn(e,n)||(Ae=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(Rt&261930)===0?(Ae=!0,e.memoizedState=s):(e=wy(),Et.lanes|=e,Rr|=e,n)}function Rp(e,n,s,o,h){var f=$.p;$.p=f!==0&&8>f?f:8;var g=j.T,E={};j.T=E,Df(e,!1,n,s);try{var R=h(),x=j.S;if(x!==null&&x(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=iA(R,o);Qo(e,n,H,vn(e))}else Qo(e,n,o,vn(e))}catch(Q){Qo(e,n,{then:function(){},status:"rejected",reason:Q},vn())}finally{$.p=f,g!==null&&E.types!==null&&(g.types=E.types),j.T=g}}function uA(){}function If(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Ip(e).queue;Rp(e,h,n,ut,s===null?uA:function(){return Cp(e),s(o)})}function Ip(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cp(e){var n=Ip(e);n.next===null&&(n=e.alternate.memoizedState),Qo(e,n.next.queue,{},vn())}function Cf(){return qe(ul)}function Dp(){return de().memoizedState}function Np(){return de().memoizedState}function cA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=vn();e=Er(s);var o=Tr(n,e,s);o!==null&&(un(o,n,s),qo(o,n,s)),n={cache:nf()},e.payload=n;return}n=n.return}}function hA(e,n,s){var o=vn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Qu(e)?Vp(n,s):(s=Gh(e,n,s,o),s!==null&&(un(s,e,o),Mp(s,n,o)))}function Op(e,n,s){var o=vn();Qo(e,n,s,o)}function Qo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))Vp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,dn(E,g))return Ru(e,n,h,0),Jt===null&&wu(),!1}catch{}if(s=Gh(e,n,h,o),s!==null)return un(s,e,o),Mp(s,n,o),!0}return!1}function Df(e,n,s,o){if(o={lane:2,revertLane:od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(a(479))}else n=Gh(e,s,o,2),n!==null&&un(n,e,2)}function Qu(e){var n=e.alternate;return e===Et||n!==null&&n===Et}function Vp(e,n){va=zu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Mp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,mo(e,s)}}var Ko={readContext:qe,use:Hu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe};Ko.useEffectEvent=oe;var Up={readContext:qe,use:Hu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:yp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Fu(4194308,4,Tp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Os){bn(!0);try{e()}finally{bn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var h=s(n);if(Os){bn(!0);try{s(n)}finally{bn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=hA.bind(null,Et,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=Af(e);var n=e.queue,s=Op.bind(null,Et,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:wf,useDeferredValue:function(e,n){var s=tn();return Rf(s,e,n)},useTransition:function(){var e=Af(!1);return e=Rp.bind(null,Et,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Et,h=tn();if(Ot){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(Rt&127)!==0||ep(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,yp(ip.bind(null,o,f,e),[e]),o.flags|=2048,Ta(9,{destroy:void 0},np.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=Jt.identifierPrefix;if(Ot){var s=yi,o=pi;s=(o&~(1<<32-ce(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Bu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=rA++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:fp,useActionState:fp,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Df.bind(null,Et,!0,s),s.dispatch=n,[e,n]},useMemoCache:vf,useCacheRefresh:function(){return tn().memoizedState=cA.bind(null,Et)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((Bt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Nf={readContext:qe,use:Hu,useCallback:Sp,useContext:qe,useEffect:bf,useImperativeHandle:Ap,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:bp,useReducer:ju,useRef:pp,useState:function(){return ju(ki)},useDebugValue:wf,useDeferredValue:function(e,n){var s=de();return wp(s,Kt.memoizedState,e,n)},useTransition:function(){var e=ju(ki)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:tp,useId:Dp,useHostTransitionStatus:Cf,useFormState:dp,useActionState:dp,useOptimistic:function(e,n){var s=de();return ap(s,Kt,e,n)},useMemoCache:vf,useCacheRefresh:Np};Nf.useEffectEvent=_p;var Lp={readContext:qe,use:Hu,useCallback:Sp,useContext:qe,useEffect:bf,useImperativeHandle:Ap,useInsertionEffect:vp,useLayoutEffect:Ep,useMemo:bp,useReducer:Tf,useRef:pp,useState:function(){return Tf(ki)},useDebugValue:wf,useDeferredValue:function(e,n){var s=de();return Kt===null?Rf(s,e,n):wp(s,Kt.memoizedState,e,n)},useTransition:function(){var e=Tf(ki)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:tp,useId:Dp,useHostTransitionStatus:Cf,useFormState:gp,useActionState:gp,useOptimistic:function(e,n){var s=de();return Kt!==null?ap(s,Kt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:vf,useCacheRefresh:Np};Lp.useEffectEvent=_p;function Of(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Vf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=vn(),h=Er(o);h.payload=n,s!=null&&(h.callback=s),n=Tr(e,h,o),n!==null&&(un(n,e,o),qo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=vn(),h=Er(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Tr(e,h,o),n!==null&&(un(n,e,o),qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=vn(),o=Er(s);o.tag=2,n!=null&&(o.callback=n),n=Tr(e,o,s),n!==null&&(un(n,e,s),qo(n,e,s))}};function kp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Mo(s,o)||!Mo(h,f):!0}function Pp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Vf.enqueueReplaceState(n,n.state,null)}function Vs(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function xp(e){bu(e)}function zp(e){console.error(e)}function Bp(e){bu(e)}function Ku(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,s){return s=Er(s),s.tag=3,s.payload={element:null},s.callback=function(){Ku(e,n)},s}function Hp(e){return e=Er(e),e.tag=3,e}function jp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){qp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){qp(n,s,o),typeof h!="function"&&(Ir===null?Ir=new Set([this]):Ir.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function fA(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&da(n,s,h,!0),s=gn.current,s!==null){switch(s.tag){case 31:case 13:return Un===null?sc():s.alternate===null&&le===0&&(le=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),rd(e,o,h)),!1;case 22:return s.flags|=65536,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),rd(e,o,h)),!1}throw Error(a(435,s.tag))}return rd(e,o,h),sc(),!1}if(Ot)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Zh&&(e=Error(a(422),{cause:o}),ko(Nn(e,s)))):(o!==Zh&&(n=Error(a(423),{cause:o}),ko(Nn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,s),h=Mf(e.stateNode,o,h),uf(e,h),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:o});if(f=Nn(f,s),el===null?el=[f]:el.push(f),le!==4&&(le=2),n===null)return!0;o=Nn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Mf(s.stateNode,o,e),uf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ir===null||!Ir.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Hp(h),jp(h,e,s,o),uf(s,h),!1}s=s.return}while(s!==null);return!1}var Uf=Error(a(461)),Ae=!1;function He(e,n,s,o){n.child=e===null?Kg(n,null,s,o):Ns(n,e.child,s,o)}function Fp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Rs(n),o=gf(e,n,s,g,f,h),E=pf(),e!==null&&!Ae?(yf(e,n,h),Pi(e,n,h)):(Ot&&E&&Xh(n),n.flags|=1,He(e,n,o,h),n.child)}function Gp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Qp(e,n,f,o,h)):(e=Cu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Hf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Mo,s(g,o)&&e.ref===n.ref)return Pi(e,n,h)}return n.flags|=1,e=Oi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Qp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Mo(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Hf(e,h))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,Pi(e,n,h)}return Lf(e,n,s,o,h)}function Kp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Yp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Jg(n,f):hf(),Zg(n);else return o=n.lanes=536870912,Yp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Vu(n,f.cachePool),Jg(n,f),Sr(),n.memoizedState=null):(e!==null&&Vu(n,null),hf(),Sr());return He(e,n,h,s),n.child}function Yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Yp(e,n,s,o,h){var f=sf();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Vu(n,null),hf(),Zg(n),e!==null&&da(e,n,o,!0),n.childLanes=h,null}function Yu(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Xp(e,n,s){return Ns(n,e.child,null,s),e=Yu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function dA(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ot){if(o.mode==="hidden")return e=Yu(n,o),n.lanes=536870912,Yo(null,e);if(df(n),(e=$t)?(e=o_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,Be=n,$t=null)):e=null,e===null)throw yr(n);return n.lanes=536870912,null}return Yu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(df(n),h)if(n.flags&256)n.flags&=-257,n=Xp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ae||da(e,n,s,!1),h=(s&e.childLanes)!==0,Ae||h){if(o=Jt,o!==null&&(g=go(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,As(e,g),un(o,e,g),Uf;sc(),n=Xp(e,n,s)}else e=f.treeContext,$t=Ln(g.nextSibling),Be=n,Ot=!0,pr=null,Mn=!1,e!==null&&Lg(n,e),n=Yu(n,o),n.flags|=4096;return n}return e=Oi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Lf(e,n,s,o,h){return Rs(n),s=gf(e,n,s,o,void 0,h),o=pf(),e!==null&&!Ae?(yf(e,n,h),Pi(e,n,h)):(Ot&&o&&Xh(n),n.flags|=1,He(e,n,s,h),n.child)}function Jp(e,n,s,o,h,f){return Rs(n),n.updateQueue=null,s=Wg(n,o,s,h),$g(e),o=pf(),e!==null&&!Ae?(yf(e,n,f),Pi(e,n,f)):(Ot&&o&&Xh(n),n.flags|=1,He(e,n,s,f),n.child)}function Zp(e,n,s,o,h){if(Rs(n),n.stateNode===null){var f=ua,g=s.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},of(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?qe(g):ua,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Of(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Vf.enqueueReplaceState(f,f.state,null),jo(n,o,f,h),Ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Vs(s,E);f.props=R;var x=f.context,H=s.contextType;g=ua,typeof H=="object"&&H!==null&&(g=qe(H));var Q=s.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||x!==g)&&Pp(n,f,o,g),vr=!1;var z=n.memoizedState;f.state=z,jo(n,o,f,h),Ho(),x=n.memoizedState,E||z!==x||vr?(typeof Q=="function"&&(Of(n,s,Q,o),x=n.memoizedState),(R=vr||kp(n,s,R,o,z,x,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=x),f.props=o,f.state=x,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,lf(e,n),g=n.memoizedProps,H=Vs(s,g),f.props=H,Q=n.pendingProps,z=f.context,x=s.contextType,R=ua,typeof x=="object"&&x!==null&&(R=qe(x)),E=s.getDerivedStateFromProps,(x=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==R)&&Pp(n,f,o,R),vr=!1,z=n.memoizedState,f.state=z,jo(n,o,f,h),Ho();var q=n.memoizedState;g!==Q||z!==q||vr||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(Of(n,s,E,o),q=n.memoizedState),(H=vr||kp(n,s,H,o,z,q,R)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ns(n,e.child,null,h),n.child=Ns(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Pi(e,n,h),e}function $p(e,n,s,o){return bs(),n.flags|=256,He(e,n,s,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(e){return{baseLanes:e,cachePool:qg()}}function xf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=_n),e}function Wp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ot){if(h?Ar(n):Sr(),(e=$t)?(e=o_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=Vg(e),s.return=n,n.child=s,Be=n,$t=null)):e=null,e===null)throw yr(n);return Ed(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Sr(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Ss(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Pf(s),o.childLanes=xf(e,g,s),n.memoizedState=kf,Yo(null,o)):(Ar(n),zf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ar(n),n.flags&=-257,n=Bf(e,n,s)):n.memoizedState!==null?(Sr(),n.child=e.child,n.flags|=128,n=null):(Sr(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Ss(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ns(n,e.child,null,s),o=n.child,o.memoizedState=Pf(s),o.childLanes=xf(e,g,s),n.memoizedState=kf,n=Yo(null,o));else if(Ar(n),Ed(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var x=g.dgst;g=x,o=Error(a(419)),o.stack="",o.digest=g,ko({value:o,source:null,stack:null}),n=Bf(e,n,s)}else if(Ae||da(e,n,s,!1),g=(s&e.childLanes)!==0,Ae||g){if(g=Jt,g!==null&&(o=go(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,As(e,o),un(g,e,o),Uf;vd(E)||sc(),n=Bf(e,n,s)}else vd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,$t=Ln(E.nextSibling),Be=n,Ot=!0,pr=null,Mn=!1,e!==null&&Lg(n,e),n=zf(n,o.children),n.flags|=4096);return n}return h?(Sr(),E=o.fallback,h=n.mode,R=e.child,x=R.sibling,o=Oi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,x!==null?E=Oi(x,E):(E=Ss(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Yo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Pf(s):(h=E.cachePool,h!==null?(R=Ee._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=qg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=xf(e,g,s),n.memoizedState=kf,Yo(e.child,o)):(Ar(n),s=e.child,e=s.sibling,s=Oi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function zf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function Bf(e,n,s){return Ns(n,e.child,null,s),e=zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ty(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),tf(e.return,n,s)}function qf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ey(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,W(fe,g),He(e,n,o,s),o=Ot?Lo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ty(e,s,n);else if(e.tag===19)ty(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&xu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),qf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&xu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}qf(n,!0,s,null,f,o);break;case"together":qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Rr|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(da(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Oi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Oi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Hf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function mA(e,n,s){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),_r(n,Ee,e.memoizedState.cache),bs();break;case 27:case 5:rs(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:_r(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,df(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ar(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Wp(e,n,s):(Ar(n),e=Pi(e,n,s),e!==null?e.sibling:null);Ar(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(da(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ey(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(fe,fe.current),o)break;return null;case 22:return n.lanes=0,Kp(e,n,s,n.pendingProps);case 24:_r(n,Ee,e.memoizedState.cache)}return Pi(e,n,s)}function ny(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Hf(e,s)&&(n.flags&128)===0)return Ae=!1,mA(e,n,s);Ae=(e.flags&131072)!==0}else Ae=!1,Ot&&(n.flags&1048576)!==0&&Ug(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Cs(n.elementType),n.type=e,typeof e=="function")Qh(e)?(o=Vs(e,o),n.tag=1,n=Zp(null,n,e,o,s)):(n.tag=0,n=Lf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=Fp(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=Gp(null,n,e,o,s);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return Lf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Vs(o,n.pendingProps),Zp(e,n,o,h,s);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),jo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,_r(n,Ee,o),o!==f.cache&&ef(n,[Ee],s,!0),Ho(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$p(e,n,o,s);break t}else if(o!==h){h=Nn(Error(a(424)),n),ko(h),n=$p(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,$t=Ln(e.firstChild),Be=n,Ot=!0,pr=null,Mn=!0,s=Kg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(bs(),o===h){n=Pi(e,n,s);break t}He(e,n,o,s)}n=n.child}return n;case 26:return Xu(e,n),e===null?(s=d_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ot||(s=n.type,e=n.pendingProps,o=fc(At.current).createElement(s),o[ye]=n,o[Ve]=e,je(o,s,e),_e(o),n.stateNode=o):n.memoizedState=d_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return rs(n),e===null&&Ot&&(o=n.stateNode=c_(n.type,n.pendingProps,At.current),Be=n,Mn=!0,h=$t,Or(n.type)?(Td=h,$t=Ln(o.firstChild)):$t=h),He(e,n,n.pendingProps.children,s),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ot&&((h=o=$t)&&(o=FA(o,n.type,n.pendingProps,Mn),o!==null?(n.stateNode=o,Be=n,$t=Ln(o.firstChild),Mn=!1,h=!0):h=!1),h||yr(n)),rs(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:g!==null&&pd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,sA,null,null,s),ul._currentValue=h),Xu(e,n),He(e,n,o,s),n.child;case 6:return e===null&&Ot&&((e=s=$t)&&(s=GA(s,n.pendingProps,Mn),s!==null?(n.stateNode=s,Be=n,$t=null,e=!0):e=!1),e||yr(n)),null;case 13:return Wp(e,n,s);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ns(n,null,o,s):He(e,n,o,s),n.child;case 11:return Fp(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,_r(n,n.type,o.value),He(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Rs(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,s),n.child;case 14:return Gp(e,n,n.type,n.pendingProps,s);case 15:return Qp(e,n,n.type,n.pendingProps,s);case 19:return ey(e,n,s);case 31:return dA(e,n,s);case 22:return Kp(e,n,s,n.pendingProps);case 24:return Rs(n),o=qe(Ee),e===null?(h=sf(),h===null&&(h=Jt,f=nf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},of(n),_r(n,Ee,h)):((e.lanes&s)!==0&&(lf(e,n),jo(n,null,null,s),Ho()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_r(n,Ee,o)):(o=f.cache,_r(n,Ee,o),o!==h.cache&&ef(n,[Ee],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function xi(e){e.flags|=4}function jf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Dy())e.flags|=8192;else throw Ds=Uu,af}else e.flags&=-16777217}function iy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!__(n))if(Dy())e.flags|=8192;else throw Ds=Uu,af}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,wa|=n)}function Xo(e,n){if(!Ot)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Wt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function gA(e,n,s){var o=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(n),null;case 1:return Wt(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Ee),ne(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(fa(n)?xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),Wt(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(xi(n),f!==null?(Wt(n),iy(n,f)):(Wt(n),jf(n,h,null,o,s))):f?f!==e.memoizedState?(xi(n),Wt(n),iy(n,f)):(Wt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&xi(n),Wt(n),jf(n,h,e,o,s)),null;case 27:if(Fs(n),s=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Wt(n),null}e=it.current,fa(n)?kg(n):(e=c_(h,o,s),n.stateNode=e,xi(n))}return Wt(n),null;case 5:if(Fs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return Wt(n),null}if(f=it.current,fa(n))kg(n);else{var g=fc(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ye]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&xi(n)}}return Wt(n),jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&xi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=At.current,fa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Wy(e.nodeValue,s)),e||yr(n,!0)}else e=fc(e).createTextNode(o),e[ye]=n,n.stateNode=e}return Wt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=fa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ye]=n}else bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),e=!1}else s=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Wt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=fa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ye]=n}else bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Wt(n),h=!1}else h=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Zu(n,n.updateQueue),Wt(n),null);case 4:return ne(),e===null&&hd(n.stateNode.containerInfo),Wt(n),null;case 10:return Ui(n.type),Wt(n),null;case 19:if(K(fe),o=n.memoizedState,o===null)return Wt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Xo(o,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=xu(e),f!==null){for(n.flags|=128,Xo(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Og(s,e),s=s.sibling;return W(fe,fe.current&1|2),Ot&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>nc&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304)}else{if(!h)if(e=xu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ot)return Wt(n),null}else 2*$e()-o.renderingStartTime>nc&&s!==536870912&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,s=fe.current,W(fe,h?s&1|2:s&1),Ot&&Vi(n,o.treeForkCount),e):(Wt(n),null);case 22:case 23:return pn(n),ff(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(Wt(n),n.subtreeFlags&6&&(n.flags|=8192)):Wt(n),s=n.updateQueue,s!==null&&Zu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Is),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Ee),Wt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function pA(e,n){switch(Jh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Ee),ne(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Fs(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(a(340));bs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));bs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(fe),null;case 4:return ne(),null;case 10:return Ui(n.type),null;case 22:case 23:return pn(n),ff(),e!==null&&K(Is),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Ee),null;case 25:return null;default:return null}}function ry(e,n){switch(Jh(n),n.tag){case 3:Ui(Ee),ne();break;case 26:case 27:case 5:Fs(n);break;case 4:ne();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:K(fe);break;case 10:Ui(n.type);break;case 22:case 23:pn(n),ff(),e!==null&&K(Is);break;case 24:Ui(Ee)}}function Jo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Gt(n,n.return,E)}}function br(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,x=E;try{x()}catch(H){Gt(h,R,H)}}}o=o.next}while(o!==f)}}catch(H){Gt(n,n.return,H)}}function sy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Xg(n,s)}catch(o){Gt(e,e.return,o)}}}function ay(e,n,s){s.props=Vs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Gt(e,n,o)}}function Zo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Gt(e,n,h)}}function _i(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Gt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Gt(e,n,h)}else s.current=null}function oy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Gt(e,e.return,h)}}function Ff(e,n,s){try{var o=e.stateNode;xA(o,e.type,s,n),o[Ve]=n}catch(h){Gt(e,e.return,h)}}function ly(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Or(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Or(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&Or(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Qf(e,n,s),e=e.sibling;e!==null;)Qf(e,n,s),e=e.sibling}function $u(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Or(e.type)&&(s=e.stateNode),e=e.child,e!==null))for($u(e,n,s),e=e.sibling;e!==null;)$u(e,n,s),e=e.sibling}function uy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,o,s),n[ye]=e,n[Ve]=s}catch(f){Gt(e,e.return,f)}}var zi=!1,Se=!1,Kf=!1,cy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function yA(e,n){if(e=e.containerInfo,md=vc,e=Ag(e),zh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,x=0,H=0,Q=e,z=null;e:for(;;){for(var q;Q!==s||h!==0&&Q.nodeType!==3||(E=g+h),Q!==f||o!==0&&Q.nodeType!==3||(R=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===e)break e;if(z===s&&++x===h&&(E=g),z===f&&++H===o&&(R=g),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(gd={focusedElem:e,selectionRange:s},vc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var st=Vs(s.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Gt(s,s.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)_d(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_d(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function hy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:qi(e,s),o&4&&Jo(5,s);break;case 1:if(qi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Gt(s,s.return,g)}else{var h=Vs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Gt(s,s.return,g)}}o&64&&sy(s),o&512&&Zo(s,s.return);break;case 3:if(qi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Xg(e,n)}catch(g){Gt(s,s.return,g)}}break;case 27:n===null&&o&4&&uy(s);case 26:case 5:qi(e,s),n===null&&o&4&&oy(s),o&512&&Zo(s,s.return);break;case 12:qi(e,s);break;case 31:qi(e,s),o&4&&my(e,s);break;case 13:qi(e,s),o&4&&gy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=RA.bind(null,s),QA(e,s))));break;case 22:if(o=s.memoizedState!==null||zi,!o){n=n!==null&&n.memoizedState!==null||Se,h=zi;var f=Se;zi=o,(Se=n)&&!f?Hi(e,s,(s.subtreeFlags&8772)!==0):qi(e,s),zi=h,Se=f}break;case 30:break;default:qi(e,s)}}function fy(e){var n=e.alternate;n!==null&&(e.alternate=null,fy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Xs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,sn=!1;function Bi(e,n,s){for(s=s.child;s!==null;)dy(e,n,s),s=s.sibling}function dy(e,n,s){if(xe&&typeof xe.onCommitFiberUnmount=="function")try{xe.onCommitFiberUnmount(xn,s)}catch{}switch(s.tag){case 26:Se||_i(s,n),Bi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||_i(s,n);var o=re,h=sn;Or(s.type)&&(re=s.stateNode,sn=!1),Bi(e,n,s),al(s.stateNode),re=o,sn=h;break;case 5:Se||_i(s,n);case 6:if(o=re,h=sn,re=null,Bi(e,n,s),re=o,sn=h,re!==null)if(sn)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(s.stateNode)}catch(f){Gt(s,n,f)}else try{re.removeChild(s.stateNode)}catch(f){Gt(s,n,f)}break;case 18:re!==null&&(sn?(e=re,s_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ma(e)):s_(re,s.stateNode));break;case 4:o=re,h=sn,re=s.stateNode.containerInfo,sn=!0,Bi(e,n,s),re=o,sn=h;break;case 0:case 11:case 14:case 15:br(2,s,n),Se||br(4,s,n),Bi(e,n,s);break;case 1:Se||(_i(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ay(s,n,o)),Bi(e,n,s);break;case 21:Bi(e,n,s);break;case 22:Se=(o=Se)||s.memoizedState!==null,Bi(e,n,s),Se=o;break;default:Bi(e,n,s)}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ma(e)}catch(s){Gt(n,n.return,s)}}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ma(e)}catch(s){Gt(n,n.return,s)}}function _A(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new cy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new cy),n;default:throw Error(a(435,e.tag))}}function Wu(e,n){var s=_A(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=IA.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Or(E.type)){re=E.stateNode,sn=!1;break t}break;case 5:re=E.stateNode,sn=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,sn=!0;break t}E=E.return}if(re===null)throw Error(a(160));dy(f,g,h),re=null,sn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)py(n,e),n=n.sibling}var Yn=null;function py(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(br(3,e,e.return),Jo(3,e),br(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(Se||s===null||_i(s,s.return)),o&64&&zi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Yn;if(an(n,e),on(e),o&512&&(Se||s===null||_i(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,o,s),f[ye]=e,_e(f),o=f;break t;case"link":var g=p_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),je(f,o,s),h.head.appendChild(f);break;case"meta":if(g=p_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),je(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else y_(h,e.type,e.stateNode);else e.stateNode=g_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?y_(h,e.type,e.stateNode):g_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ff(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(Se||s===null||_i(s,s.return)),s!==null&&o&4&&Ff(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(Se||s===null||_i(s,s.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(st){Gt(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Ff(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Kf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(st){Gt(e,e.return,st)}}break;case 3:if(gc=null,h=Yn,Yn=dc(n.containerInfo),an(n,e),Yn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ma(n.containerInfo)}catch(st){Gt(e,e.return,st)}Kf&&(Kf=!1,yy(e));break;case 4:o=Yn,Yn=dc(e.stateNode.containerInfo),an(n,e),on(e),Yn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ec=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,x=zi,H=Se;if(zi=x||h,Se=H||R,an(n,e),Se=H,zi=x,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||zi||Se||Ms(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Gt(R,R.return,st)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(st){Gt(R,R.return,st)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?a_(q,!0):a_(R.stateNode,!1)}catch(st){Gt(R,R.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Wu(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ly(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(e);$u(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(rn(g,""),s.flags&=-33);var E=Gf(e);$u(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,x=Gf(e);Qf(e,x,R);break;default:throw Error(a(161))}}catch(H){Gt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)hy(e,n.alternate,n),n=n.sibling}function Ms(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:br(4,n,n.return),Ms(n);break;case 1:_i(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ay(n,n.return,s),Ms(n);break;case 27:al(n.stateNode);case 26:case 5:_i(n,n.return),Ms(n);break;case 22:n.memoizedState===null&&Ms(n);break;case 30:Ms(n);break;default:Ms(n)}e=e.sibling}}function Hi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,s),Jo(4,f);break;case 1:if(Hi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(x){Gt(o,o.return,x)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Yg(R[h],E)}catch(x){Gt(o,o.return,x)}}s&&g&64&&sy(f),Zo(f,f.return);break;case 27:uy(f);case 26:case 5:Hi(h,f,s),s&&o===null&&g&4&&oy(f),Zo(f,f.return);break;case 12:Hi(h,f,s);break;case 31:Hi(h,f,s),s&&g&4&&my(h,f);break;case 13:Hi(h,f,s),s&&g&4&&gy(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,s),Zo(f,f.return);break;case 30:break;default:Hi(h,f,s)}n=n.sibling}}function Yf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Po(s))}function Xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e))}function Xn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_y(e,n,s,o),n=n.sibling}function _y(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,s,o),h&2048&&Jo(9,n);break;case 1:Xn(e,n,s,o);break;case 3:Xn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e)));break;case 12:if(h&2048){Xn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Gt(n,n.return,R)}}else Xn(e,n,s,o);break;case 31:Xn(e,n,s,o);break;case 13:Xn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,s,o):$o(e,n):f._visibility&2?Xn(e,n,s,o):(f._visibility|=2,Aa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:Xn(e,n,s,o),h&2048&&Xf(n.alternate,n);break;default:Xn(e,n,s,o)}}function Aa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,x=g.flags;switch(g.tag){case 0:case 11:case 15:Aa(f,g,E,R,h),Jo(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?Aa(f,g,E,R,h):$o(f,g):(H._visibility|=2,Aa(f,g,E,R,h)),h&&x&2048&&Yf(g.alternate,g);break;case 24:Aa(f,g,E,R,h),h&&x&2048&&Xf(g.alternate,g);break;default:Aa(f,g,E,R,h)}n=n.sibling}}function $o(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:$o(s,o),h&2048&&Yf(o.alternate,o);break;case 24:$o(s,o),h&2048&&Xf(o.alternate,o);break;default:$o(s,o)}n=n.sibling}}var Wo=8192;function Sa(e,n,s){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)vy(e,n,s),e=e.sibling}function vy(e,n,s){switch(e.tag){case 26:Sa(e,n,s),e.flags&Wo&&e.memoizedState!==null&&rS(s,Yn,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,s);break;case 3:case 4:var o=Yn;Yn=dc(e.stateNode.containerInfo),Sa(e,n,s),Yn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Wo,Wo=16777216,Sa(e,n,s),Wo=o):Sa(e,n,s));break;default:Sa(e,n,s)}}function Ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function tl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,Ay(o,e)}Ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ty(e),e=e.sibling}function Ty(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&br(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):tl(e);break;default:tl(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,Ay(o,e)}Ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:br(8,n,n.return),tc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function Ay(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:br(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Po(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(fy(o),o===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var vA={getCacheForType:function(e){var n=qe(Ee),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Ee).controller.signal}},EA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,bt=null,Rt=0,Ft=0,yn=null,wr=!1,ba=!1,Jf=!1,ji=0,le=0,Rr=0,Us=0,Zf=0,_n=0,wa=0,el=null,ln=null,$f=!1,ec=0,Sy=0,nc=1/0,ic=null,Ir=null,De=0,Cr=null,Ra=null,Fi=0,Wf=0,td=null,by=null,nl=0,ed=null;function vn(){return(Bt&2)!==0&&Rt!==0?Rt&-Rt:j.T!==null?od():ru()}function wy(){if(_n===0)if((Rt&536870912)===0||Ot){var e=os;os<<=1,(os&3932160)===0&&(os=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function un(e,n,s){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),Dr(e,Rt,_n,!1)),ls(e,s),((Bt&2)===0||e!==Jt)&&(e===Jt&&((Bt&2)===0&&(Us|=s),le===4&&Dr(e,Rt,_n,!1)),vi(e))}function Ry(e,n,s){if((Bt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?SA(e,n):id(e,n,!0),f=o;do{if(h===0){ba&&!o&&Dr(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!TA(s)){h=id(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=el;var R=E.current.memoizedState.isDehydrated;if(R&&(Ia(E,g).flags|=256),g=id(E,g,!1),g!==2){if(Jf&&!R){E.errorRecoveryDisabledLanes|=f,Us|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ia(e,0),Dr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Dr(o,n,_n,!wr);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ec+300-$e(),10<h)){if(Dr(o,n,_n,!wr),ei(o,0,!0)!==0)break t;Fi=n,o.timeoutHandle=i_(Iy.bind(null,o,s,ln,ic,$f,n,_n,Us,wa,wr,f,"Throttled",-0,0),h);break t}Iy(o,s,ln,ic,$f,n,_n,Us,wa,wr,f,null,-0,0)}}break}while(!0);vi(e)}function Iy(e,n,s,o,h,f,g,E,R,x,H,Q,z,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},vy(n,f,Q);var st=(f&62914560)===f?ec-$e():(f&4194048)===f?Sy-$e():0;if(st=sS(Q,st),st!==null){Fi=f,e.cancelPendingCommit=st(Ly.bind(null,e,n,f,s,o,h,g,E,R,H,Q,null,z,q)),Dr(e,f,g,!x);return}}Ly(e,n,f,s,o,h,g,E,R)}function TA(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Dr(e,n,s,o){n&=~Zf,n&=~Us,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&us(e,s,n)}function rc(){return(Bt&6)===0?(il(0),!1):!0}function nd(){if(bt!==null){if(Ft===0)var e=bt.return;else e=bt,Mi=ws=null,_f(e),ya=null,zo=0,e=bt;for(;e!==null;)ry(e.alternate,e),e=e.return;bt=null}}function Ia(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,qA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Fi=0,nd(),Jt=e,bt=s=Oi(e.current,null),Rt=n,Ft=0,yn=null,wr=!1,ba=zn(e,n),Jf=!1,wa=_n=Zf=Us=Rr=le=0,ln=el=null,$f=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return ji=n,wu(),s}function Cy(e,n){Et=null,j.H=Ko,n===pa||n===Mu?(n=Fg(),Ft=3):n===af?(n=Fg(),Ft=4):Ft=n===Uf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,bt===null&&(le=1,Ku(e,Nn(n,e.current)))}function Dy(){var e=gn.current;return e===null?!0:(Rt&4194048)===Rt?Un===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?e===Un:!1}function Ny(){var e=j.H;return j.H=Ko,e===null?Ko:e}function Oy(){var e=j.A;return j.A=vA,e}function sc(){le=4,wr||(Rt&4194048)!==Rt&&gn.current!==null||(ba=!0),(Rr&134217727)===0&&(Us&134217727)===0||Jt===null||Dr(Jt,Rt,_n,!1)}function id(e,n,s){var o=Bt;Bt|=2;var h=Ny(),f=Oy();(Jt!==e||Rt!==n)&&(ic=null,Ia(e,n)),n=!1;var g=le;t:do try{if(Ft!==0&&bt!==null){var E=bt,R=yn;switch(Ft){case 8:nd(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var x=Ft;if(Ft=0,yn=null,Ca(e,E,R,x),s&&ba){g=0;break t}break;default:x=Ft,Ft=0,yn=null,Ca(e,E,R,x)}}AA(),g=le;break}catch(H){Cy(e,H)}while(!0);return n&&e.shellSuspendCounter++,Mi=ws=null,Bt=o,j.H=h,j.A=f,bt===null&&(Jt=null,Rt=0,wu()),g}function AA(){for(;bt!==null;)Vy(bt)}function SA(e,n){var s=Bt;Bt|=2;var o=Ny(),h=Oy();Jt!==e||Rt!==n?(ic=null,nc=$e()+500,Ia(e,n)):ba=zn(e,n);t:do try{if(Ft!==0&&bt!==null){n=bt;var f=yn;e:switch(Ft){case 1:Ft=0,yn=null,Ca(e,n,f,1);break;case 2:case 9:if(Hg(f)){Ft=0,yn=null,My(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),vi(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Hg(f)?(Ft=0,yn=null,My(n)):(Ft=0,yn=null,Ca(e,n,f,7));break;case 5:var g=null;switch(bt.tag){case 26:g=bt.memoizedState;case 5:case 27:var E=bt;if(g?__(g):E.stateNode.complete){Ft=0,yn=null;var R=E.sibling;if(R!==null)bt=R;else{var x=E.return;x!==null?(bt=x,ac(x)):bt=null}break e}}Ft=0,yn=null,Ca(e,n,f,5);break;case 6:Ft=0,yn=null,Ca(e,n,f,6);break;case 8:nd(),le=6;break t;default:throw Error(a(462))}}bA();break}catch(H){Cy(e,H)}while(!0);return Mi=ws=null,j.H=o,j.A=h,Bt=s,bt!==null?0:(Jt=null,Rt=0,wu(),le)}function bA(){for(;bt!==null&&!Vh();)Vy(bt)}function Vy(e){var n=ny(e.alternate,e,ji);e.memoizedProps=e.pendingProps,n===null?ac(e):bt=n}function My(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Jp(s,n,n.pendingProps,n.type,void 0,Rt);break;case 11:n=Jp(s,n,n.pendingProps,n.type.render,n.ref,Rt);break;case 5:_f(n);default:ry(s,n),n=bt=Og(n,ji),n=ny(s,n,ji)}e.memoizedProps=e.pendingProps,n===null?ac(e):bt=n}function Ca(e,n,s,o){Mi=ws=null,_f(n),ya=null,zo=0;var h=n.return;try{if(fA(e,h,n,s,Rt)){le=1,Ku(e,Nn(s,e.current)),bt=null;return}}catch(f){if(h!==null)throw bt=h,f;le=1,Ku(e,Nn(s,e.current)),bt=null;return}n.flags&32768?(Ot||o===1?e=!0:ba||(Rt&536870912)!==0?e=!1:(wr=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Uy(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){Uy(n,wr);return}e=n.return;var s=gA(n.alternate,n,ji);if(s!==null){bt=s;return}if(n=n.sibling,n!==null){bt=n;return}bt=n=e}while(n!==null);le===0&&(le=5)}function Uy(e,n){do{var s=pA(e.alternate,e);if(s!==null){s.flags&=32767,bt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){bt=e;return}bt=e=s}while(e!==null);le=6,bt=null}function Ly(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do oc();while(De!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,Lh(e,s,f,g,E,R),e===Jt&&(bt=Jt=null,Rt=0),Ra=n,Cr=e,Fi=s,Wf=f,td=h,by=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,CA(sr,function(){return By(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,h=$.p,$.p=2,g=Bt,Bt|=4;try{yA(e,n,s)}finally{Bt=g,$.p=h,j.T=o}}De=1,ky(),Py(),xy()}}function ky(){if(De===1){De=0;var e=Cr,n=Ra,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=j.T,j.T=null;var o=$.p;$.p=2;var h=Bt;Bt|=4;try{py(n,e);var f=gd,g=Ag(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Tg(E.ownerDocument.documentElement,E)){if(R!==null&&zh(E)){var x=R.start,H=R.end;if(H===void 0&&(H=x),"selectionStart"in E)E.selectionStart=x,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),st=E.textContent.length,ht=Math.min(R.start,st),Xt=R.end===void 0?ht:Math.min(R.end,st);!q.extend&&ht>Xt&&(g=Xt,Xt=ht,ht=g);var U=Eg(E,ht),D=Eg(E,Xt);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Q.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),ht>Xt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}vc=!!md,gd=md=null}finally{Bt=h,$.p=o,j.T=s}}e.current=n,De=2}}function Py(){if(De===2){De=0;var e=Cr,n=Ra,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=j.T,j.T=null;var o=$.p;$.p=2;var h=Bt;Bt|=4;try{hy(e,n.alternate,n)}finally{Bt=h,$.p=o,j.T=s}}De=3}}function xy(){if(De===4||De===3){De=0,Zl();var e=Cr,n=Ra,s=Fi,o=by;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Ra=Cr=null,zy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ir=null),Ii(s),n=n.stateNode,xe&&typeof xe.onCommitFiberRoot=="function")try{xe.onCommitFiberRoot(xn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=j.T,h=$.p,$.p=2,j.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{j.T=n,$.p=h}}(Fi&3)!==0&&oc(),vi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===ed?nl++:(nl=0,ed=e):nl=0,il(0)}}function zy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Po(n)))}function oc(){return ky(),Py(),xy(),By()}function By(){if(De!==5)return!1;var e=Cr,n=Wf;Wf=0;var s=Ii(Fi),o=j.T,h=$.p;try{$.p=32>s?32:s,j.T=null,s=td,td=null;var f=Cr,g=Fi;if(De=0,Ra=Cr=null,Fi=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,Ty(f.current),_y(f,f.current,g,s),Bt=E,il(0,!1),xe&&typeof xe.onPostCommitFiberRoot=="function")try{xe.onPostCommitFiberRoot(xn,f)}catch{}return!0}finally{$.p=h,j.T=o,zy(e,n)}}function qy(e,n,s){n=Nn(s,n),n=Mf(e.stateNode,n,2),e=Tr(e,n,2),e!==null&&(ls(e,2),vi(e))}function Gt(e,n,s){if(e.tag===3)qy(e,e,s);else for(;n!==null;){if(n.tag===3){qy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ir===null||!Ir.has(o))){e=Nn(s,e),s=Hp(2),o=Tr(n,s,2),o!==null&&(jp(s,o,n,e),ls(o,2),vi(o));break}}n=n.return}}function rd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new EA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Jf=!0,h.add(s),e=wA.bind(null,e,n,s),n.then(e,e))}function wA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Rt&s)===s&&(le===4||le===3&&(Rt&62914560)===Rt&&300>$e()-ec?(Bt&2)===0&&Ia(e,0):Zf|=s,wa===Rt&&(wa=0)),vi(e)}function Hy(e,n){n===0&&(n=iu()),e=As(e,n),e!==null&&(ls(e,n),vi(e))}function RA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Hy(e,s)}function IA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Hy(e,s)}function CA(e,n){return Ce(e,n)}var lc=null,Da=null,sd=!1,uc=!1,ad=!1,Nr=0;function vi(e){e!==Da&&e.next===null&&(Da===null?lc=Da=e:Da=Da.next=e),uc=!0,sd||(sd=!0,NA())}function il(e,n){if(!ad&&uc){ad=!0;do for(var s=!1,o=lc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Qy(o,f))}else f=Rt,f=ei(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(s=!0,Qy(o,f));o=o.next}while(s);ad=!1}}function DA(){jy()}function jy(){uc=sd=!1;var e=0;Nr!==0&&BA()&&(e=Nr);for(var n=$e(),s=null,o=lc;o!==null;){var h=o.next,f=Fy(o,n);f===0?(o.next=null,s===null?lc=h:s.next=h,h===null&&(Da=s)):(s=o,(e!==0||(f&3)!==0)&&(uc=!0)),o=h}De!==0&&De!==5||il(e),Nr!==0&&(Nr=0)}function Fy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Uh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,s=Rt,s=ei(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&rr(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&rr(o),Ii(s)){case 2:case 8:s=fo;break;case 32:s=sr;break;case 268435456:s=$l;break;default:s=sr}return o=Gy.bind(null,e),s=Ce(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&rr(o),e.callbackPriority=2,e.callbackNode=null,2}function Gy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(oc()&&e.callbackNode!==s)return null;var o=Rt;return o=ei(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ry(e,o,n),Fy(e,$e()),e.callbackNode!=null&&e.callbackNode===s?Gy.bind(null,e):null)}function Qy(e,n){if(oc())return null;Ry(e,n,!0)}function NA(){HA(function(){(Bt&6)!==0?Ce(ho,DA):jy()})}function od(){if(Nr===0){var e=ma;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Nr=e}return Nr}function Ky(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ws(""+e)}function Yy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function OA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Ky((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?Ky(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Nr!==0){var R=g?Yy(h,g):new FormData(h);If(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Yy(h,g):new FormData(h),If(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ld=0;ld<jh.length;ld++){var ud=jh[ld],VA=ud.toLowerCase(),MA=ud[0].toUpperCase()+ud.slice(1);Kn(VA,"on"+MA)}Kn(wg,"onAnimationEnd"),Kn(Rg,"onAnimationIteration"),Kn(Ig,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(X0,"onTransitionRun"),Kn(J0,"onTransitionStart"),Kn(Z0,"onTransitionCancel"),Kn(Cg,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function Xy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,x=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=x;try{f(h)}catch(H){bu(H)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,x=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=x;try{f(h)}catch(H){bu(H)}h.currentTarget=null,f=R}}}}function wt(e,n){var s=n[Ys];s===void 0&&(s=n[Ys]=new Set);var o=e+"__bubble";s.has(o)||(Jy(n,e,2,!1),s.add(o))}function cd(e,n,s){var o=0;n&&(o|=4),Jy(s,e,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function hd(e){if(!e[cc]){e[cc]=!0,po.forEach(function(s){s!=="selectionchange"&&(UA.has(s)||cd(s,!1,e),cd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,cd("selectionchange",!1,n))}}function Jy(e,n,s,o){switch(w_(n)){case 2:var h=lS;break;case 8:h=uS;break;default:h=Rd}s=h.bind(null,n,s,e),h=void 0,!ms||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function fd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=si(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}hr(function(){var x=f,H=Rn(s),Q=[];t:{var z=Dg.get(e);if(z!==void 0){var q=fi,st=e;switch(e){case"keypress":if(ps(s)===0)break t;case"keydown":case"keyup":q=Tu;break;case"focusin":st="focus",q=_s;break;case"focusout":st="blur",q=_s;break;case"beforeblur":case"afterblur":q=_s;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case wg:case Rg:case Ig:q=mu;break;case Cg:q=T;break;case"scroll":case"scrollend":q=Co;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ni;break;case"toggle":case"beforetoggle":q=vt}var ht=(n&4)!==0,Xt=!ht&&(e==="scroll"||e==="scrollend"),U=ht?z!==null?z+"Capture":null:z;ht=[];for(var D=x,P;D!==null;){var F=D;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||U===null||(F=jn(D,U),F!=null&&ht.push(sl(D,F,P))),Xt)break;D=D.return}0<ht.length&&(z=new q(z,st,null,s,H),Q.push({event:z,listeners:ht}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&s!==wo&&(st=s.relatedTarget||s.fromElement)&&(si(st)||st[ii]))break t;if((q||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=s.relatedTarget||s.toElement,q=x,st=st?si(st):null,st!==null&&(Xt=c(st),ht=st.tag,st!==Xt||ht!==5&&ht!==27&&ht!==6)&&(st=null)):(q=null,st=x),q!==st)){if(ht=Do,F="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ht=Ni,F="onPointerLeave",U="onPointerEnter",D="pointer"),Xt=q==null?z:hn(q),P=st==null?z:hn(st),z=new ht(F,D+"leave",q,s,H),z.target=Xt,z.relatedTarget=P,F=null,si(H)===x&&(ht=new ht(U,D+"enter",st,s,H),ht.target=P,ht.relatedTarget=Xt,F=ht),Xt=F,q&&st)e:{for(ht=LA,U=q,D=st,P=0,F=U;F;F=ht(F))P++;F=0;for(var ot=D;ot;ot=ht(ot))F++;for(;0<P-F;)U=ht(U),P--;for(;0<F-P;)D=ht(D),F--;for(;P--;){if(U===D||D!==null&&U===D.alternate){ht=U;break e}U=ht(U),D=ht(D)}ht=null}else ht=null;q!==null&&Zy(Q,z,q,ht,!1),st!==null&&Xt!==null&&Zy(Q,Xt,st,ht,!0)}}t:{if(z=x?hn(x):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Pt=mg;else if(fg(z))if(gg)Pt=Q0;else{Pt=F0;var at=j0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?x&&$s(x.elementType)&&(Pt=mg):Pt=G0;if(Pt&&(Pt=Pt(e,x))){dg(Q,Pt,s,H);break t}at&&at(e,z,x),e==="focusout"&&x&&z.type==="number"&&x.memoizedProps.value!=null&&Ao(z,"number",z.value)}switch(at=x?hn(x):window,e){case"focusin":(fg(at)||at.contentEditable==="true")&&(aa=at,Bh=x,Uo=null);break;case"focusout":Uo=Bh=aa=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,Sg(Q,s,H);break;case"selectionchange":if(Y0)break;case"keydown":case"keyup":Sg(Q,s,H)}var St;if(zt)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else sa?vs(e,s)&&(It="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(It="onCompositionStart");It&&(gi&&s.locale!=="ko"&&(sa||It!=="onCompositionStart"?It==="onCompositionEnd"&&sa&&(St=Io()):(hi=H,Ro="value"in hi?hi.value:hi.textContent,sa=!0)),at=hc(x,It),0<at.length&&(It=new mi(It,e,null,s,H),Q.push({event:It,listeners:at}),St?It.data=St:(St=ra(s),St!==null&&(It.data=St)))),(St=Cn?z0(e,s):B0(e,s))&&(It=hc(x,"onBeforeInput"),0<It.length&&(at=new mi("onBeforeInput","beforeinput",null,s,H),Q.push({event:at,listeners:It}),at.data=St)),OA(Q,e,x,s,H)}Xy(Q,n)})}function sl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function hc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jn(e,s),h!=null&&o.unshift(sl(e,h,f)),h=jn(e,n),h!=null&&o.push(sl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function LA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,x=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||x===null||(R=x,h?(x=jn(s,f),x!=null&&g.unshift(sl(s,x,R))):h||(x=jn(s,f),x!=null&&g.push(sl(s,x,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var kA=/\r\n?/g,PA=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(kA,`
`).replace(PA,"")}function Wy(e,n){return n=$y(n),$y(e)===n}function Yt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,s,o);break;case"style":bo(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Ws(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Yt(e,n,"name",h.name,h,null),Yt(e,n,"formEncType",h.formEncType,h,null),Yt(e,n,"formMethod",h.formMethod,h,null),Yt(e,n,"formTarget",h.formTarget,h,null)):(Yt(e,n,"encType",h.encType,h,null),Yt(e,n,"method",h.method,h,null),Yt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Ws(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Ws(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":wt("beforetoggle",e),wt("toggle",e),Js(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Js(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hu.get(s)||s,Js(e,s,o))}}function dd(e,n,s,o,h,f){switch(s){case"style":bo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&wt("scroll",e);break;case"onScrollEnd":o!=null&&wt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Js(e,s,o)}}}function je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",e),wt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(e,n,f,g,s,null)}}h&&Yt(e,n,"srcSet",s.srcSet,s,null),o&&Yt(e,n,"src",s.src,s,null);return;case"input":wt("invalid",e);var E=f=g=h=null,R=null,x=null;for(o in s)if(s.hasOwnProperty(o)){var H=s[o];if(H!=null)switch(o){case"name":h=H;break;case"type":g=H;break;case"checked":R=H;break;case"defaultChecked":x=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Yt(e,n,o,H,s,null)}}lu(e,f,E,R,x,g,h,!1);return;case"select":wt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Yt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?or(e,!!o,n,!1):s!=null&&or(e,!!o,s,!0);return;case"textarea":wt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(e,n,g,E,s,null)}lr(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Yt(e,n,R,o,s,null));return;case"dialog":wt("beforetoggle",e),wt("toggle",e),wt("cancel",e),wt("close",e);break;case"iframe":case"object":wt("load",e);break;case"video":case"audio":for(o=0;o<rl.length;o++)wt(rl[o],e);break;case"image":wt("error",e),wt("load",e);break;case"details":wt("toggle",e);break;case"embed":case"source":case"link":wt("error",e),wt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in s)if(s.hasOwnProperty(x)&&(o=s[x],o!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(e,n,x,o,s,null)}return;default:if($s(n)){for(H in s)s.hasOwnProperty(H)&&(o=s[H],o!==void 0&&dd(e,n,H,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Yt(e,n,E,o,s,null))}function xA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,x=null,H=null;for(q in s){var Q=s[q];if(s.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(q)||Yt(e,n,q,null,o,Q)}}for(var z in o){var q=o[z];if(Q=s[z],o.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":x=q;break;case"defaultChecked":H=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Q&&Yt(e,n,z,q,o,Q)}}Zs(e,g,E,R,x,H,f,h);return;case"select":q=g=E=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Yt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Yt(e,n,h,f,o,R)}n=E,s=g,o=q,z!=null?or(e,!!s,z,!1):!!o!=!!s&&(n!=null?or(e,!!s,n,!0):or(e,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Yt(e,n,g,h,o,f)}uu(e,z,q);return;case"option":for(var st in s)z=s[st],s.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st)&&(st==="selected"?e.selected=!1:Yt(e,n,st,null,o,z));for(R in o)z=o[R],q=s[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Yt(e,n,R,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in s)z=s[ht],s.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&Yt(e,n,ht,null,o,z);for(x in o)if(z=o[x],q=s[x],o.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Yt(e,n,x,z,o,q)}return;default:if($s(n)){for(var Xt in s)z=s[Xt],s.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&dd(e,n,Xt,void 0,o,z);for(H in o)z=o[H],q=s[H],!o.hasOwnProperty(H)||z===q||z===void 0&&q===void 0||dd(e,n,H,z,o,q);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Yt(e,n,U,null,o,z);for(Q in o)z=o[Q],q=s[Q],!o.hasOwnProperty(Q)||z===q||z==null&&q==null||Yt(e,n,Q,z,o,q)}function t_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&t_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],x=R.startTime;if(x>E)break;var H=R.transferSize,Q=R.initiatorType;H&&t_(Q)&&(R=R.responseEnd,g+=H*(R<E?1:(E-x)/(R-x)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var md=null,gd=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function e_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yd=null;function BA(){var e=window.event;return e&&e.type==="popstate"?e===yd?!1:(yd=e,!0):(yd=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,qA=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,HA=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(e){return r_.resolve(null).then(e).catch(jA)}:i_;function jA(e){setTimeout(function(){throw e})}function Or(e){return e==="head"}function s_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ma(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")al(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,al(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&al(e.ownerDocument.body);s=h}while(s);Ma(n)}function a_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function _d(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":_d(s),Xs(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function FA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function GA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Ln(e.nextSibling),e===null))return null;return e}function o_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function vd(e){return e.data==="$?"||e.data==="$~"}function Ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function QA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Td=null;function l_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Ln(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function u_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function c_(e,n,s){switch(n=fc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Xs(e)}var kn=new Map,h_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Gi=$.d;$.d={f:KA,r:YA,D:XA,C:JA,L:ZA,m:$A,X:tS,S:WA,M:eS};function KA(){var e=Gi.f(),n=rc();return e||n}function YA(e){var n=wn(e);n!==null&&n.tag===5&&n.type==="form"?Cp(n):Gi.r(e)}var Na=typeof document>"u"?null:document;function f_(e,n,s){var o=Na;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),h_.has(h)||(h_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function XA(e){Gi.D(e),f_("dns-prefetch",e,null)}function JA(e,n){Gi.C(e,n),f_("preconnect",e,n)}function ZA(e,n,s){Gi.L(e,n,s);var o=Na;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Oa(e);break;case"script":f=Va(e)}kn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ol(f))||n==="script"&&o.querySelector(ll(f))||(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function $A(e,n){Gi.m(e,n);var s=Na;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(e)}if(!kn.has(f)&&(e=S({rel:"modulepreload",href:e},n),kn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ll(f)))return}o=s.createElement("link"),je(o,"link",e),_e(o),s.head.appendChild(o)}}}function WA(e,n,s){Gi.S(e,n,s);var o=Na;if(o&&e){var h=ai(o).hoistableStyles,f=Oa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ol(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=kn.get(f))&&Ad(e,s);var R=g=o.createElement("link");_e(R),je(R,"link",e),R._p=new Promise(function(x,H){R.onload=x,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function tS(e,n){Gi.X(e,n);var s=Na;if(s&&e){var o=ai(s).hoistableScripts,h=Va(e),f=o.get(h);f||(f=s.querySelector(ll(h)),f||(e=S({src:e,async:!0},n),(n=kn.get(h))&&Sd(e,n),f=s.createElement("script"),_e(f),je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function eS(e,n){Gi.M(e,n);var s=Na;if(s&&e){var o=ai(s).hoistableScripts,h=Va(e),f=o.get(h);f||(f=s.querySelector(ll(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&Sd(e,n),f=s.createElement("script"),_e(f),je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function d_(e,n,s,o){var h=(h=At.current)?dc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Oa(s.href),s=ai(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Oa(s.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ol(e)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(e,s),f||nS(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Va(s),s=ai(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Oa(e){return'href="'+nn(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function m_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function nS(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",s),_e(n),e.head.appendChild(n))}function Va(e){return'[src="'+nn(e)+'"]'}function ll(e){return"script[async]"+e}function g_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),je(o,"style",h),mc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Oa(s.href);var f=e.querySelector(ol(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=m_(s),(h=kn.get(h))&&Ad(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),je(f,"link",o),n.state.loading|=4,mc(f,s.precedence,e),n.instance=f;case"script":return f=Va(s.src),(h=e.querySelector(ll(f)))?(n.instance=h,_e(h),h):(o=s,(h=kn.get(f))&&(o=S({},s),Sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,s.precedence,e));return n.instance}function mc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function p_(e,n,s){if(gc===null){var o=new Map,h=gc=new Map;h.set(s,o)}else h=gc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ri]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function y_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function iS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function __(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rS(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Oa(o.href),f=n.querySelector(ol(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,_e(f);return}f=n.ownerDocument||n,o=m_(o),(h=kn.get(h))&&Ad(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),je(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=pc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var bd=0;function sS(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&bd===0&&(bd=62500*zA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>bd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(aS,e),yc=null,pc.call(e))}function aS(e,n){if(!(n.state.loading&4)){var s=yc.get(e);if(s)var o=s.get(null);else{s=new Map,yc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:_t,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function oS(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function v_(e,n,s,o,h,f,g,E,R,x,H,Q){return e=new oS(e,n,s,g,R,x,H,Q,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=nf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},of(f),e}function E_(e){return e?(e=ua,e):ua}function T_(e,n,s,o,h,f){h=E_(h),o.context===null?o.context=h:o.pendingContext=h,o=Er(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Tr(e,o,n),s!==null&&(un(s,e,n),qo(s,e,n))}function A_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function wd(e,n){A_(e,n),(e=e.alternate)&&A_(e,n)}function S_(e){if(e.tag===13||e.tag===31){var n=As(e,67108864);n!==null&&un(n,e,67108864),wd(e,67108864)}}function b_(e){if(e.tag===13||e.tag===31){var n=vn();n=cs(n);var s=As(e,n);s!==null&&un(s,e,n),wd(e,n)}}var vc=!0;function lS(e,n,s,o){var h=j.T;j.T=null;var f=$.p;try{$.p=2,Rd(e,n,s,o)}finally{$.p=f,j.T=h}}function uS(e,n,s,o){var h=j.T;j.T=null;var f=$.p;try{$.p=8,Rd(e,n,s,o)}finally{$.p=f,j.T=h}}function Rd(e,n,s,o){if(vc){var h=Id(o);if(h===null)fd(e,n,o,Ec,s),R_(e,o);else if(hS(h,e,n,s,o))o.stopPropagation();else if(R_(e,o),n&4&&-1<cS.indexOf(e)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ce(g);E.entanglements[1]|=R,g&=~R}vi(f),(Bt&6)===0&&(nc=$e()+500,il(0))}}break;case 31:case 13:E=As(f,2),E!==null&&un(E,f,2),rc(),wd(f,2)}if(f=Id(o),f===null&&fd(e,n,o,Ec,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else fd(e,n,o,null,s)}}function Id(e){return e=Rn(e),Cd(e)}var Ec=null;function Cd(e){if(Ec=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function w_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(as()){case ho:return 2;case fo:return 8;case sr:case Mh:return 32;case $l:return 268435456;default:return 32}default:return 32}}var Dd=!1,Vr=null,Mr=null,Ur=null,cl=new Map,hl=new Map,Lr=[],cS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R_(e,n){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&S_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function hS(e,n,s,o,h){switch(n){case"focusin":return Vr=fl(Vr,e,n,s,o,h),!0;case"dragenter":return Mr=fl(Mr,e,n,s,o,h),!0;case"mouseover":return Ur=fl(Ur,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,fl(cl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,fl(hl.get(f)||null,e,n,s,o,h)),!0}return!1}function I_(e){var n=si(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){b_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){b_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Id(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);wo=o,s.target.dispatchEvent(o),wo=null}else return n=wn(s),n!==null&&S_(n),e.blockedOn=s,!1;n.shift()}return!0}function C_(e,n,s){Tc(e)&&s.delete(n)}function fS(){Dd=!1,Vr!==null&&Tc(Vr)&&(Vr=null),Mr!==null&&Tc(Mr)&&(Mr=null),Ur!==null&&Tc(Ur)&&(Ur=null),cl.forEach(C_),hl.forEach(C_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,Dd||(Dd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fS)))}var Sc=null;function D_(e){Sc!==e&&(Sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||s)===null)continue;break}var f=wn(s);f!==null&&(e.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ma(e){function n(R){return Ac(R,e)}Vr!==null&&Ac(Vr,e),Mr!==null&&Ac(Mr,e),Ur!==null&&Ac(Ur,e),cl.forEach(n),hl.forEach(n);for(var s=0;s<Lr.length;s++){var o=Lr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Lr.length&&(s=Lr[0],s.blockedOn===null);)I_(s),s.blockedOn===null&&Lr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Ve]||null;if(typeof f=="function")g||D_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(Cd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),D_(s)}}}function N_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(e){this._internalRoot=e}bc.prototype.render=Nd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=vn();T_(s,o,e,n,null,null)},bc.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;T_(e.current,2,null,e,null,null),rc(),n[ii]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Lr.length&&n!==0&&n<Lr[s].priority;s++);Lr.splice(s,0,e),s===0&&I_(e)}};var O_=t.version;if(O_!=="19.2.4")throw Error(a(527,O_,"19.2.4"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var dS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{xn=wc.inject(dS),xe=wc}catch{}}return ml.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=xp,f=zp,g=Bp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=v_(e,1,!1,null,null,s,o,null,h,f,g,N_),e[ii]=n.current,hd(e),new Nd(n)},ml.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=xp,g=zp,E=Bp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=v_(e,1,!0,n,s??null,o,h,R,f,g,E,N_),n.context=E_(null),s=n.current,o=vn(),o=cs(o),h=Er(o),h.callback=null,Tr(s,h,o),s=o,n.current.lanes=s,ls(n,s),vi(n),e[ii]=n.current,hd(e),new bc(n)},ml.version="19.2.4",ml}var q_;function bS(){if(q_)return Md.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=SS(),Md.exports}var x2=bS();const wS=()=>{};var H_={};const mE=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},RS=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},gE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,v=l+2<r.length,y=v?r[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let O=(p&15)<<2|y>>6,G=y&63;v||(G=64,d||(O=64)),a.push(i[A],i[S],i[O],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(mE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):RS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new IS;const O=c<<2|p>>4;if(a.push(O),y!==64){const G=p<<4&240|y>>2;if(a.push(G),S!==64){const Z=y<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class IS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CS=function(r){const t=mE(r);return gE.encodeByteArray(t,!0)},Hc=function(r){return CS(r).replace(/\./g,"")},pE=function(r){try{return gE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function DS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const NS=()=>DS().__FIREBASE_DEFAULTS__,OS=()=>{if(typeof process>"u"||typeof H_>"u")return;const r=H_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},VS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&pE(r[1]);return t&&JSON.parse(t)},lh=()=>{try{return wS()||NS()||OS()||VS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},yE=r=>lh()?.emulatorHosts?.[r],MS=r=>{const t=yE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},_E=()=>lh()?.config,vE=r=>lh()?.[`_${r}`];class US{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function to(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function EE(r){return(await fetch(r,{credentials:"include"})).ok}function LS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const El={};function kS(){const r={prod:[],emulator:[]};for(const t of Object.keys(El))El[t]?r.emulator.push(t):r.prod.push(t);return r}function PS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let j_=!1;function TE(r,t){if(typeof window>"u"||typeof document>"u"||!to(window.location.host)||El[r]===t||El[r]||j_)return;El[r]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=kS().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function v(O,G){O.setAttribute("width","24"),O.setAttribute("id",G),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{j_=!0,d()},O}function A(O,G){O.setAttribute("id",G),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=PS(a),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),et=i("learnmore"),tt=document.getElementById(et)||document.createElement("a"),dt=i("preprendIcon"),Tt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const _t=O.element;p(_t),A(tt,et);const qt=y();v(Tt,dt),_t.append(Tt,Z,tt,qt),document.body.appendChild(_t)}c?(Z.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function zS(){const r=lh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function HS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jS(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function FS(){return!zS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GS(){try{return typeof indexedDB=="object"}catch{return!1}}function QS(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const KS="FirebaseError";class ir extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=KS,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?YS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ir(l,p,a)}}function YS(r,t){return r.replace(XS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const XS=/\{\$([^}]+)}/g;function JS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Xr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(F_(c)&&F_(d)){if(!Xr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function F_(r){return r!==null&&typeof r=="object"}function xl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ZS(r,t){const i=new $S(r,t);return i.subscribe.bind(i)}class $S{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");WS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Pd(){}function Pe(r){return r&&r._delegate?r._delegate:r}class Ps{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ls="[DEFAULT]";class t1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new US;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(n1(t))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ls){return this.instances.has(t)}getOptions(t=Ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:e1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ls){return this.component?this.component.multipleInstances?t:Ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e1(r){return r===Ls?void 0:r}function n1(r){return r.instantiationMode==="EAGER"}class i1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new t1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ct;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ct||(Ct={}));const r1={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},s1=Ct.INFO,a1={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},o1=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=a1[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vm{constructor(t){this.name=t,this._logLevel=s1,this._logHandler=o1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?r1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...t),this._logHandler(this,Ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...t),this._logHandler(this,Ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...t),this._logHandler(this,Ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...t),this._logHandler(this,Ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...t),this._logHandler(this,Ct.ERROR,...t)}}const l1=(r,t)=>t.some(i=>r instanceof i);let G_,Q_;function u1(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c1(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AE=new WeakMap,Yd=new WeakMap,SE=new WeakMap,xd=new WeakMap,Em=new WeakMap;function h1(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(jr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&AE.set(i,r)}).catch(()=>{}),Em.set(t,r),t}function f1(r){if(Yd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Yd.set(r,t)}let Xd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Yd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||SE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return jr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function d1(r){Xd=r(Xd)}function m1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(zd(this),t,...i);return SE.set(a,t.sort?t.sort():[t]),jr(a)}:c1().includes(r)?function(...t){return r.apply(zd(this),t),jr(AE.get(this))}:function(...t){return jr(r.apply(zd(this),t))}}function g1(r){return typeof r=="function"?m1(r):(r instanceof IDBTransaction&&f1(r),l1(r,u1())?new Proxy(r,Xd):r)}function jr(r){if(r instanceof IDBRequest)return h1(r);if(xd.has(r))return xd.get(r);const t=g1(r);return t!==r&&(xd.set(r,t),Em.set(t,r)),t}const zd=r=>Em.get(r);function p1(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=jr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(jr(d.result),v.oldVersion,v.newVersion,jr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const y1=["get","getKey","getAll","getAllKeys","count"],_1=["put","add","delete","clear"],Bd=new Map;function K_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=_1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||y1.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&v.done]))[0]};return Bd.set(t,c),c}d1(r=>({...r,get:(t,i,a)=>K_(t,i)||r.get(t,i,a),has:(t,i)=>!!K_(t,i)||r.has(t,i)}));class v1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(E1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function E1(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",Y_="0.14.8";const Ji=new vm("@firebase/app"),T1="@firebase/app-compat",A1="@firebase/analytics-compat",S1="@firebase/analytics",b1="@firebase/app-check-compat",w1="@firebase/app-check",R1="@firebase/auth",I1="@firebase/auth-compat",C1="@firebase/database",D1="@firebase/data-connect",N1="@firebase/database-compat",O1="@firebase/functions",V1="@firebase/functions-compat",M1="@firebase/installations",U1="@firebase/installations-compat",L1="@firebase/messaging",k1="@firebase/messaging-compat",P1="@firebase/performance",x1="@firebase/performance-compat",z1="@firebase/remote-config",B1="@firebase/remote-config-compat",q1="@firebase/storage",H1="@firebase/storage-compat",j1="@firebase/firestore",F1="@firebase/ai",G1="@firebase/firestore-compat",Q1="firebase",K1="12.9.0";const Zd="[DEFAULT]",Y1={[Jd]:"fire-core",[T1]:"fire-core-compat",[S1]:"fire-analytics",[A1]:"fire-analytics-compat",[w1]:"fire-app-check",[b1]:"fire-app-check-compat",[R1]:"fire-auth",[I1]:"fire-auth-compat",[C1]:"fire-rtdb",[D1]:"fire-data-connect",[N1]:"fire-rtdb-compat",[O1]:"fire-fn",[V1]:"fire-fn-compat",[M1]:"fire-iid",[U1]:"fire-iid-compat",[L1]:"fire-fcm",[k1]:"fire-fcm-compat",[P1]:"fire-perf",[x1]:"fire-perf-compat",[z1]:"fire-rc",[B1]:"fire-rc-compat",[q1]:"fire-gcs",[H1]:"fire-gcs-compat",[j1]:"fire-fst",[G1]:"fire-fst-compat",[F1]:"fire-vertex","fire-js":"fire-js",[Q1]:"fire-js-all"};const jc=new Map,X1=new Map,$d=new Map;function X_(r,t){try{r.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ka(r){const t=r.name;if($d.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,r);for(const i of jc.values())X_(i,r);for(const i of X1.values())X_(i,r);return!0}function Tm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Pn(r){return r==null?!1:r.settings!==void 0}const J1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Pl("app","Firebase",J1);class Z1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ps("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}const eo=K1;function $1(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Zd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Fr.create("bad-app-name",{appName:String(l)});if(i||(i=_E()),!i)throw Fr.create("no-options");const c=jc.get(l);if(c){if(Xr(i,c.options)&&Xr(a,c.config))return c;throw Fr.create("duplicate-app",{appName:l})}const d=new i1(l);for(const v of $d.values())d.addComponent(v);const p=new Z1(i,a,d);return jc.set(l,p),p}function bE(r=Zd){const t=jc.get(r);if(!t&&r===Zd&&_E())return $1();if(!t)throw Fr.create("no-app",{appName:r});return t}function Gr(r,t,i){let a=Y1[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Ka(new Ps(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const W1="firebase-heartbeat-database",tb=1,Il="firebase-heartbeat-store";let qd=null;function wE(){return qd||(qd=p1(W1,tb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Il)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fr.create("idb-open",{originalErrorMessage:r.message})})),qd}async function eb(r){try{const i=(await wE()).transaction(Il),a=await i.objectStore(Il).get(RE(r));return await i.done,a}catch(t){if(t instanceof ir)Ji.warn(t.message);else{const i=Fr.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function J_(r,t){try{const a=(await wE()).transaction(Il,"readwrite");await a.objectStore(Il).put(t,RE(r)),await a.done}catch(i){if(i instanceof ir)Ji.warn(i.message);else{const a=Fr.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function RE(r){return`${r.name}!${r.options.appId}`}const nb=1024,ib=30;class rb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ab(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ib){const l=ob(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Z_(),{heartbeatsToSend:i,unsentEntries:a}=sb(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function sb(r,t=nb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),$_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),$_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class ab{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GS()?QS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await eb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function $_(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function ob(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function lb(r){Ka(new Ps("platform-logger",t=>new v1(t),"PRIVATE")),Ka(new Ps("heartbeat",t=>new rb(t),"PRIVATE")),Gr(Jd,Y_,r),Gr(Jd,Y_,"esm2020"),Gr("fire-js","")}lb("");var ub="firebase",cb="12.9.0";Gr(ub,cb,"app");function IE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hb=IE,CE=new Pl("auth","Firebase",IE());const Fc=new vm("@firebase/auth");function fb(r,...t){Fc.logLevel<=Ct.WARN&&Fc.warn(`Auth (${eo}): ${r}`,...t)}function Vc(r,...t){Fc.logLevel<=Ct.ERROR&&Fc.error(`Auth (${eo}): ${r}`,...t)}function Zi(r,...t){throw Am(r,...t)}function Ti(r,...t){return Am(r,...t)}function DE(r,t,i){const a={...hb(),[t]:i};return new Pl("auth","Firebase",a).create(t,{appName:r.name})}function Yi(r){return DE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return CE.create(r,...t)}function mt(r,t,...i){if(!r)throw Am(t,...i)}function Qi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Vc(t),new Error(t)}function $i(r,t){r||Qi(t)}function Wd(){return typeof self<"u"&&self.location?.href||""}function db(){return W_()==="http:"||W_()==="https:"}function W_(){return typeof self<"u"&&self.location?.protocol||null}function mb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(db()||qS()||"connection"in navigator)?navigator.onLine:!0}function gb(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class zl{constructor(t,i){this.shortDelay=t,this.longDelay=i,$i(i>t,"Short delay should be less than long delay!"),this.isMobile=xS()||HS()}get(){return mb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Sm(r,t){$i(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class NE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const yb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_b=new zl(3e4,6e4);function Bl(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function no(r,t,i,a,l={}){return OE(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=xl({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return BS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&to(r.emulatorConfig.host)&&(y.credentials="include"),NE.fetch()(await VE(r,r.config.apiHost,i,p),y)})}async function OE(r,t,i){r._canInitEmulator=!1;const a={...pb,...t};try{const l=new vb(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Rc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Rc(r,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw DE(r,A,y);Zi(r,A)}}catch(l){if(l instanceof ir)throw l;Zi(r,"network-request-failed",{message:String(l)})}}async function bm(r,t,i,a,l={}){const c=await no(r,t,i,a,l);return"mfaPendingCredential"in c&&Zi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function VE(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Sm(r.config,l):`${r.config.apiScheme}://${l}`;return yb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class vb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ti(this.auth,"network-request-failed")),_b.get())})}}function Rc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ti(r,t,a);return l.customData._tokenResponse=i,l}async function Eb(r,t){return no(r,"POST","/v1/accounts:delete",t)}async function Gc(r,t){return no(r,"POST","/v1/accounts:lookup",t)}function Tl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Tb(r,t=!1){const i=Pe(r),a=await i.getIdToken(t),l=wm(a);mt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Tl(Hd(l.auth_time)),issuedAtTime:Tl(Hd(l.iat)),expirationTime:Tl(Hd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hd(r){return Number(r)*1e3}function wm(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=pE(i);return l?JSON.parse(l):(Vc("Failed to decode base64 JWT payload"),null)}catch(l){return Vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function tv(r){const t=wm(r);return mt(t,"internal-error"),mt(typeof t.exp<"u","internal-error"),mt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Cl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ir&&Ab(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Ab({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Sb{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tl(this.lastLoginAt),this.creationTime=Tl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Qc(r){const t=r.auth,i=await r.getIdToken(),a=await Cl(r,Gc(t,{idToken:i}));mt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?ME(l.providerUserInfo):[],d=wb(r.providerData,c),p=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,y=p?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function bb(r){const t=Pe(r);await Qc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function wb(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function ME(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Rb(r,t){const i=await OE(r,{},async()=>{const a=xl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await VE(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return r.emulatorConfig&&to(r.emulatorConfig.host)&&(v.credentials="include"),NE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Ib(r,t){return no(r,"POST","/v2/accounts:revokeToken",Bl(r,t))}class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){mt(t.idToken,"internal-error"),mt(typeof t.idToken<"u","internal-error"),mt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):tv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){mt(t.length!==0,"internal-error");const i=tv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Rb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new qa;return a&&(mt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(mt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(mt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Qi("not implemented")}}function Pr(r,t){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Sb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Cl(this,this.stsTokenManager.getToken(this.auth,t));return mt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Tb(this,t)}reload(){return bb(this)}_assign(t){this!==t&&(mt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Qc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Yi(this.auth));const t=await this.getIdToken();return await Cl(this,Eb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:G,providerData:Z,stsTokenManager:et}=i;mt(S&&et,t,"internal-error");const tt=qa.fromJSON(this.name,et);mt(typeof S=="string",t,"internal-error"),Pr(a,t.name),Pr(l,t.name),mt(typeof O=="boolean",t,"internal-error"),mt(typeof G=="boolean",t,"internal-error"),Pr(c,t.name),Pr(d,t.name),Pr(p,t.name),Pr(v,t.name),Pr(y,t.name),Pr(A,t.name);const dt=new Jn({uid:S,auth:t,email:l,emailVerified:O,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:y,lastLoginAt:A});return Z&&Array.isArray(Z)&&(dt.providerData=Z.map(Tt=>({...Tt}))),v&&(dt._redirectEventId=v),dt}static async _fromIdTokenResponse(t,i,a=!1){const l=new qa;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Qc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];mt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?ME(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new qa;p.updateFromIdToken(a);const v=new Jn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const ev=new Map;function Ki(r){$i(r instanceof Function,"Expected a class definition");let t=ev.get(r);return t?($i(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,ev.set(r,t),t)}class UE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}UE.type="NONE";const nv=UE;function Mc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ha{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Gc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ha(Ki(nv),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ki(nv);const d=Mc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const O=await Gc(t,{idToken:A}).catch(()=>{});if(!O)break;S=await Jn._fromGetAccountInfoResponse(t,O,A)}else S=Jn._fromJSON(t,A);y!==c&&(p=S),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ha(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ha(c,t,a))}}function iv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(LE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(BE(t))return"Blackberry";if(qE(t))return"Webos";if(kE(t))return"Safari";if((t.includes("chrome/")||PE(t))&&!t.includes("edge/"))return"Chrome";if(zE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function LE(r=Ze()){return/firefox\//i.test(r)}function kE(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function PE(r=Ze()){return/crios\//i.test(r)}function xE(r=Ze()){return/iemobile/i.test(r)}function zE(r=Ze()){return/android/i.test(r)}function BE(r=Ze()){return/blackberry/i.test(r)}function qE(r=Ze()){return/webos/i.test(r)}function Rm(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Cb(r=Ze()){return Rm(r)&&!!window.navigator?.standalone}function Db(){return jS()&&document.documentMode===10}function HE(r=Ze()){return Rm(r)||zE(r)||qE(r)||BE(r)||/windows phone/i.test(r)||xE(r)}function jE(r,t=[]){let i;switch(r){case"Browser":i=iv(Ze());break;case"Worker":i=`${iv(Ze())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${eo}/${a}`}class Nb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Ob(r,t={}){return no(r,"GET","/v2/passwordPolicy",Bl(r,t))}const Vb=6;class Mb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Vb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Ub{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rv(this),this.idTokenSubscription=new rv(this),this.beforeStateQueue=new Nb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ki(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Gc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Pn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Qc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=gb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pn(this.app))return Promise.reject(Yi(this));const i=t?Pe(t):null;return i&&mt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&mt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pn(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Ob(this),i=new Mb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Ib(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ki(t)||this._popupRedirectResolver;mt(i,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Ki(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&fb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ql(r){return Pe(r)}class rv{constructor(t){this.auth=t,this.observer=null,this.addObserver=ZS(i=>this.observer=i)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lb(r){Im=r}function kb(r){return Im.loadJS(r)}function Pb(){return Im.gapiScript}function xb(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function zb(r,t){const i=Tm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Xr(c,t??{}))return l;Zi(l,"already-initialized")}return i.initialize({options:t})}function Bb(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ki);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function qb(r,t,i){const a=ql(r);mt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=FE(t),{host:d,port:p}=Hb(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){mt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),mt(Xr(y,a.config.emulator)&&Xr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,to(d)?(EE(`${c}//${d}${v}`),TE("Auth",!0)):jb()}function FE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Hb(r){const t=FE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:sv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:sv(d)}}}function sv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function jb(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class GE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Qi("not implemented")}_getIdTokenResponse(t){return Qi("not implemented")}_linkToIdToken(t,i){return Qi("not implemented")}_getReauthenticationResolver(t){return Qi("not implemented")}}async function ja(r,t){return bm(r,"POST","/v1/accounts:signInWithIdp",Bl(r,t))}const Fb="http://localhost";class xs extends GE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new xs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Zi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new xs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return ja(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,ja(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ja(t,i)}buildRequest(){const t={requestUri:Fb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=xl(i)}return t}}class QE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Hl extends QE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class xr extends Hl{constructor(){super("facebook.com")}static credential(t){return xs._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";class zr extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return xs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return zr.credential(i,a)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";class Br extends Hl{constructor(){super("github.com")}static credential(t){return xs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Br.credential(t.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";class qr extends Hl{constructor(){super("twitter.com")}static credential(t,i){return xs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return qr.credential(i,a)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";async function Gb(r,t){return bm(r,"POST","/v1/accounts:signUp",Bl(r,t))}class Wi{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Jn._fromIdTokenResponse(t,a,l),d=av(a);return new Wi({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=av(a);return new Wi({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function av(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function z2(r){if(Pn(r.app))return Promise.reject(Yi(r));const t=ql(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Wi({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Gb(t,{returnSecureToken:!0}),a=await Wi._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Kc extends ir{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Kc(t,i,a,l)}}function KE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(r,c,t,a):c})}async function Qb(r,t,i=!1){const a=await Cl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Wi._forOperation(r,"link",a)}async function Kb(r,t,i=!1){const{auth:a}=r;if(Pn(a.app))return Promise.reject(Yi(a));const l="reauthenticate";try{const c=await Cl(r,KE(a,l,t,r),i);mt(c.idToken,a,"internal-error");const d=wm(c.idToken);mt(d,a,"internal-error");const{sub:p}=d;return mt(r.uid===p,a,"user-mismatch"),Wi._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zi(a,"user-mismatch"),c}}async function Yb(r,t,i=!1){if(Pn(r.app))return Promise.reject(Yi(r));const a="signIn",l=await KE(r,a,t),c=await Wi._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function Xb(r,t){return bm(r,"POST","/v1/accounts:signInWithCustomToken",Bl(r,t))}async function B2(r,t){if(Pn(r.app))return Promise.reject(Yi(r));const i=ql(r),a=await Xb(i,{token:t,returnSecureToken:!0}),l=await Wi._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function Jb(r,t,i,a){return Pe(r).onIdTokenChanged(t,i,a)}function Zb(r,t,i){return Pe(r).beforeAuthStateChanged(t,i)}function q2(r,t,i,a){return Pe(r).onAuthStateChanged(t,i,a)}const Yc="__sak";class YE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const $b=1e3,Wb=10;class XE extends YE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Db()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Wb):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},$b)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}XE.type="LOCAL";const tw=XE;class JE extends YE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}JE.type="SESSION";const ZE=JE;function ew(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class uh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new uh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await ew(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];function Cm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class nw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=Cm("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const O=S;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(A),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ai(){return window}function iw(r){Ai().location.href=r}function $E(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function rw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sw(){return navigator?.serviceWorker?.controller||null}function aw(){return $E()?self:null}const WE="firebaseLocalStorageDb",ow=1,Xc="firebaseLocalStorage",tT="fbase_key";class jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ch(r,t){return r.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function lw(){const r=indexedDB.deleteDatabase(WE);return new jl(r).toPromise()}function em(){const r=indexedDB.open(WE,ow);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Xc,{keyPath:tT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Xc)?t(a):(a.close(),await lw(),t(await em()))})})}async function ov(r,t,i){const a=ch(r,!0).put({[tT]:t,value:i});return new jl(a).toPromise()}async function uw(r,t){const i=ch(r,!1).get(t),a=await new jl(i).toPromise();return a===void 0?null:a.value}function lv(r,t){const i=ch(r,!0).delete(t);return new jl(i).toPromise()}const cw=800,hw=3;class eT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>hw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $E()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(aw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rw(),!this.activeServiceWorker)return;this.sender=new nw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||sw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await em();return await ov(t,Yc,"1"),await lv(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>ov(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>uw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>lv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=ch(l,!1).getAll();return new jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}eT.type="LOCAL";const fw=eT;new zl(3e4,6e4);function dw(r,t){return t?Ki(t):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Dm extends GE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function mw(r){return Yb(r.auth,new Dm(r),r.bypassAuthState)}function gw(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),Kb(i,new Dm(r),r.bypassAuthState)}async function pw(r){const{auth:t,user:i}=r;return mt(i,t,"internal-error"),Qb(i,new Dm(r),r.bypassAuthState)}class nT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mw;case"linkViaPopup":case"linkViaRedirect":return pw;case"reauthViaPopup":case"reauthViaRedirect":return gw;default:Zi(this.auth,"internal-error")}}resolve(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yw=new zl(2e3,1e4);class xa extends nT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return mt(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yw.get())};t()}}xa.currentPopupAction=null;const _w="pendingRedirect",Uc=new Map;class vw extends nT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const a=await Ew(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ew(r,t){const i=Sw(t),a=Aw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Tw(r,t){Uc.set(r._key(),t)}function Aw(r){return Ki(r._redirectPersistence)}function Sw(r){return Mc(_w,r.config.apiKey,r.name)}async function bw(r,t,i=!1){if(Pn(r.app))return Promise.reject(Yi(r));const a=ql(r),l=dw(a,t),d=await new vw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const ww=600*1e3;class Rw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Iw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!iT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ti(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ww&&this.cachedEventUids.clear(),this.cachedEventUids.has(uv(t))}saveEventToCache(t){this.cachedEventUids.add(uv(t)),this.lastProcessedEventTime=Date.now()}}function uv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function iT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Iw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iT(r);default:return!1}}async function Cw(r,t={}){return no(r,"GET","/v1/projects",t)}const Dw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nw=/^https?/;async function Ow(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Cw(r);for(const i of t)try{if(Vw(i))return}catch{}Zi(r,"unauthorized-domain")}function Vw(r){const t=Wd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Nw.test(i))return!1;if(Dw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Mw=new zl(3e4,6e4);function cv(){const r=Ai().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Uw(r){return new Promise((t,i)=>{function a(){cv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cv(),i(Ti(r,"network-request-failed"))},timeout:Mw.get()})}if(Ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ai().gapi?.load)a();else{const l=xb("iframefcb");return Ai()[l]=()=>{gapi.load?a():i(Ti(r,"network-request-failed"))},kb(`${Pb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function Lw(r){return Lc=Lc||Uw(r),Lc}const kw=new zl(5e3,15e3),Pw="__/auth/iframe",xw="emulator/auth/iframe",zw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qw(r){const t=r.config;mt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Sm(t,xw):`https://${r.config.authDomain}/${Pw}`,a={apiKey:t.apiKey,appName:r.name,v:eo},l=Bw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${xl(a).slice(1)}`}async function Hw(r){const t=await Lw(r),i=Ai().gapi;return mt(i,r,"internal-error"),t.open({where:document.body,url:qw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ti(r,"network-request-failed"),p=Ai().setTimeout(()=>{c(d)},kw.get());function v(){Ai().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const jw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fw=500,Gw=600,Qw="_blank",Kw="http://localhost";class hv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yw(r,t,i,a=Fw,l=Gw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...jw,width:a.toString(),height:l.toString(),top:c,left:d},y=Ze().toLowerCase();i&&(p=PE(y)?Qw:i),LE(y)&&(t=t||Kw,v.scrollbars="yes");const A=Object.entries(v).reduce((O,[G,Z])=>`${O}${G}=${Z},`,"");if(Cb(y)&&p!=="_self")return Xw(t||"",p),new hv(null);const S=window.open(t||"",p,A);mt(S,r,"popup-blocked");try{S.focus()}catch{}return new hv(S)}function Xw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Jw="__/auth/handler",Zw="emulator/auth/handler",$w=encodeURIComponent("fac");async function fv(r,t,i,a,l,c){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:eo,eventId:l};if(t instanceof QE){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",JS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Hl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const v=await r._getAppCheckToken(),y=v?`#${$w}=${encodeURIComponent(v)}`:"";return`${Ww(r)}?${xl(p).slice(1)}${y}`}function Ww({config:r}){return r.emulator?Sm(r,Zw):`https://${r.authDomain}/${Jw}`}const jd="webStorageSupport";class tR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZE,this._completeRedirectFn=bw,this._overrideRedirectResult=Tw}async _openPopup(t,i,a,l){$i(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await fv(t,i,a,Wd(),l);return Yw(t,c,Cm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await fv(t,i,a,Wd(),l);return iw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):($i(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Hw(t),a=new Rw(t);return i.register("authEvent",l=>(mt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(jd,{type:jd},l=>{const c=l?.[0]?.[jd];c!==void 0&&i(!!c),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Ow(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return HE()||kE()||Rm()}}const eR=tR;var dv="@firebase/auth",mv="1.12.0";class nR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function iR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rR(r){Ka(new Ps("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;mt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jE(r)},y=new Ub(a,l,c,v);return Bb(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ka(new Ps("auth-internal",t=>{const i=ql(t.getProvider("auth").getImmediate());return(a=>new nR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gr(dv,mv,iR(r)),Gr(dv,mv,"esm2020")}const sR=300,aR=vE("authIdTokenMaxAge")||sR;let gv=null;const oR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>aR)return;const l=i?.token;gv!==l&&(gv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function H2(r=bE()){const t=Tm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=zb(r,{popupRedirectResolver:eR,persistence:[fw,tw,ZE]}),a=vE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=oR(c.toString());Zb(i,d,()=>d(i.currentUser)),Jb(i,p=>d(p))}}const l=yE("auth");return l&&qb(i,`http://${l}`),i}function lR(){return document.getElementsByTagName("head")?.[0]??document}Lb({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ti("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",lR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rR("Browser");var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qr,rT;(function(){var r;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,N,L){for(var w=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)w[ee-2]=arguments[ee];return b.prototype[N].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var N=0;N<16;++N)M[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;N<16;++N)M[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];let L=C.g[3],w;w=b+(L^I&(N^L))+M[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(N^b&(I^N))+M[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(I^L&(b^I))+M[2]+606105819&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(b^N&(L^b))+M[3]+3250441966&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(L^I&(N^L))+M[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(N^b&(I^N))+M[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(I^L&(b^I))+M[6]+2821735955&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(b^N&(L^b))+M[7]+4249261313&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(L^I&(N^L))+M[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(N^b&(I^N))+M[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(I^L&(b^I))+M[10]+4294925233&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(b^N&(L^b))+M[11]+2304563134&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(L^I&(N^L))+M[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(N^b&(I^N))+M[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=N+(I^L&(b^I))+M[14]+2792965006&4294967295,N=L+(w<<17&4294967295|w>>>15),w=I+(b^N&(L^b))+M[15]+1236535329&4294967295,I=N+(w<<22&4294967295|w>>>10),w=b+(N^L&(I^N))+M[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(b^I))+M[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(L^b))+M[11]+643717713&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(N^L))+M[0]+3921069994&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^L&(I^N))+M[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(b^I))+M[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(L^b))+M[15]+3634488961&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(N^L))+M[4]+3889429448&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^L&(I^N))+M[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(b^I))+M[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(L^b))+M[3]+4107603335&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(N^L))+M[8]+1163531501&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(N^L&(I^N))+M[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^N&(b^I))+M[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=N+(b^I&(L^b))+M[7]+1735328473&4294967295,N=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(N^L))+M[12]+2368359562&4294967295,I=N+(w<<20&4294967295|w>>>12),w=b+(I^N^L)+M[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^N)+M[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^I)+M[11]+1839030562&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^b)+M[14]+4259657740&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^L)+M[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^N)+M[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^I)+M[7]+4139469664&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^b)+M[10]+3200236656&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^L)+M[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^N)+M[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^I)+M[3]+3572445317&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^b)+M[6]+76029189&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(I^N^L)+M[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^N)+M[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=N+(L^b^I)+M[15]+530742520&4294967295,N=L+(w<<16&4294967295|w>>>16),w=I+(N^L^b)+M[2]+3299628645&4294967295,I=N+(w<<23&4294967295|w>>>9),w=b+(N^(I|~L))+M[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~N))+M[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~I))+M[14]+2878612391&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~b))+M[5]+4237533241&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~L))+M[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~N))+M[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~I))+M[10]+4293915773&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~b))+M[1]+2240044497&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~L))+M[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~N))+M[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~I))+M[6]+2734768916&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~b))+M[13]+1309151649&4294967295,I=N+(w<<21&4294967295|w>>>11),w=b+(N^(I|~L))+M[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~N))+M[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=N+(b^(L|~I))+M[2]+718787259&4294967295,N=L+(w<<15&4294967295|w>>>17),w=I+(L^(N|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+L&4294967295}a.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,M=this.C;let N=this.h,L=0;for(;L<b;){if(N==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(M[N++]=C.charCodeAt(L++),N==this.blockSize){l(this,M),N=0;break}}else for(;L<b;)if(M[N++]=C[L++],N==this.blockSize){l(this,M),N=0;break}}this.h=N,this.o+=b},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[b++]=this.g[I]>>>M&255;return C};function c(C,b){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let M=!0;for(let N=C.length-1;N>=0;N--){const L=C[N]|0;M&&L==b||(I[N]=L,M=!1)}this.g=I}var p={};function v(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return tt(y(-C));const b=[];let I=1;for(let M=0;C>=I;M++)b[M]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return tt(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(b,8));let M=S;for(let L=0;L<C.length;L+=8){var N=Math.min(8,C.length-L);const w=parseInt(C.substring(L,L+N),b);N<8?(N=y(Math.pow(b,N)),M=M.j(N).add(y(w))):(M=M.j(I),M=M.add(y(w)))}return M}var S=v(0),O=v(1),G=v(16777216);r=d.prototype,r.m=function(){if(et(this))return-tt(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(et(this))return"-"+tt(this).toString(C);const b=y(Math.pow(C,6));var I=this;let M="";for(;;){const N=qt(I,b).g;I=dt(I,N.j(b));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=N,Z(I))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function et(C){return C.h==-1}r.l=function(C){return C=dt(this,C),et(C)?-1:Z(C)?0:1};function tt(C){const b=C.g.length,I=[];for(let M=0;M<b;M++)I[M]=~C.g[M];return new d(I,~C.h).add(O)}r.abs=function(){return et(this)?tt(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let N=0;N<=b;N++){let L=M+(this.i(N)&65535)+(C.i(N)&65535),w=(L>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);M=w>>>16,L&=65535,w&=65535,I[N]=w<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function dt(C,b){return C.add(tt(b))}r.j=function(C){if(Z(this)||Z(C))return S;if(et(this))return et(C)?tt(this).j(tt(C)):tt(tt(this).j(C));if(et(C))return tt(this.j(tt(C)));if(this.l(G)<0&&C.l(G)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let N=0;N<C.g.length;N++){const L=this.i(M)>>>16,w=this.i(M)&65535,ee=C.i(N)>>>16,Re=C.i(N)&65535;I[2*M+2*N]+=w*Re,Tt(I,2*M+2*N),I[2*M+2*N+1]+=L*Re,Tt(I,2*M+2*N+1),I[2*M+2*N+1]+=w*ee,Tt(I,2*M+2*N+1),I[2*M+2*N+2]+=L*ee,Tt(I,2*M+2*N+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function Tt(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function _t(C,b){this.g=C,this.h=b}function qt(C,b){if(Z(b))throw Error("division by zero");if(Z(C))return new _t(S,S);if(et(C))return b=qt(tt(C),b),new _t(tt(b.g),tt(b.h));if(et(b))return b=qt(C,tt(b)),new _t(tt(b.g),b.h);if(C.g.length>30){if(et(C)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var I=O,M=b;M.l(C)<=0;)I=ae(I),M=ae(M);var N=kt(I,1),L=kt(M,1);for(M=kt(M,2),I=kt(I,2);!Z(M);){var w=L.add(M);w.l(C)<=0&&(N=N.add(I),L=w),M=kt(M,1),I=kt(I,1)}return b=dt(C,N.j(b)),new _t(N,b)}for(N=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=y(I),w=L.j(b);et(w)||w.l(C)>0;)I-=M,L=y(I),w=L.j(b);Z(L)&&(L=O),N=N.add(L),C=dt(C,w)}return new _t(N,C)}r.B=function(C){return qt(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function ae(C){const b=C.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function kt(C,b){const I=b>>5;b%=32;const M=C.g.length-I,N=[];for(let L=0;L<M;L++)N[L]=b>0?C.i(L+I)>>>b|C.i(L+I+1)<<32-b:C.i(L+I);return new d(N,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,rT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Qr=d}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sT,pl,aT,kc,nm,oT,lT,uT;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in _))break t;_=_[k]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,k,B){for(var J=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)J[vt-2]=arguments[vt];return m.prototype[k].apply(T,J)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const k=arguments[T];var _=typeof k;if(_=_!="object"?_:k?Array.isArray(k)?"array":_:"null",_=="array"||_=="object"&&typeof k.length=="number"){_=u.length||0;const B=k.length||0;u.length=_+B;for(let J=0;J<B;J++)u[_+J]=k[J]}else u.push(k)}}class et{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,_){const T=_t.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new et(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,kt=!1,C=new Tt,b=()=>{const u=Promise.resolve(void 0);ae=()=>{u.then(I)}};function I(){for(var u;u=dt();){try{u.h.call(u.g)}catch(_){tt(_)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ee,N),ee.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(Math.random()*1e6|0),j=0;function $(u,m,_,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=k,this.key=++j,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Ht(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function V(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let _,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(_ in T)u[_]=T[_];for(let B=0;B<K.length;B++)_=K[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,_,T,k){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const J=At(u,m,T,k);return J>-1?(m=u[J],_||(m.fa=!1)):(m=new $(m,this.src,B,!!T,k),m.fa=_,u.push(m)),m};function gt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],k=Array.prototype.indexOf.call(T,m,void 0),B;(B=k>=0)&&Array.prototype.splice.call(T,k,1),B&&(ut(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function At(u,m,_,T){for(let k=0;k<u.length;++k){const B=u[k];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return k}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),Ie={};function ne(u,m,_,T,k){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ne(u,m[B],_,T,k);return null}return _=co(_),u&&u[Re]?u.J(m,_,p(T)?!!T.capture:!1,k):rs(u,m,_,!1,T,k)}function rs(u,m,_,T,k,B){if(!m)throw Error("Invalid event type");const J=p(k)?!!k.capture:!!k;let vt=ss(u);if(vt||(u[Vt]=vt=new it(u)),_=vt.add(m,_,T,J,B),_.proxy)return _;if(T=Fs(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)L||(k=J),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent($n(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Fs(){function u(_){return m.call(u.src,u.listener,_)}const m=lo;return u}function Gs(u,m,_,T,k){if(Array.isArray(m))for(var B=0;B<m.length;B++)Gs(u,m[B],_,T,k);else T=p(T)?!!T.capture:!!T,_=co(_),u&&u[Re]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=At(m,_,T,k),_>-1&&(ut(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ss(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,_,T,k)),(_=u>-1?m[u]:null)&&Qs(_))}function Qs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])gt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent($n(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=ss(m))?(gt(_,u),_.h==0&&(_.src=null,m[Vt]=null)):ut(u)}}}function $n(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function lo(u,m){if(u.da)u=!0;else{m=new ee(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Qs(u),u=_.call(T,m)}return u}function ss(u){return u=u[Vt],u instanceof it?u:null}var uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function co(u){return typeof u=="function"?u:(u[uo]||(u[uo]=function(m){return u.handleEvent(m)}),u[uo])}function ge(){M.call(this),this.i=new it(this),this.M=this,this.G=null}S(ge,M),ge.prototype[Re]=!0,ge.prototype.removeEventListener=function(u,m,_,T){Gs(this,u,m,_,T)};function Ce(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var k=m;m=new N(T,u),W(m,k)}k=!0;let B,J;if(_)for(J=_.length-1;J>=0;J--)B=m.g=_[J],k=rr(B,T,!0,m)&&k;if(B=m.g=u,k=rr(B,T,!0,m)&&k,k=rr(B,T,!1,m)&&k,_)for(J=0;J<_.length;J++)B=m.g=_[J],k=rr(B,T,!1,m)&&k}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ut(_[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ge.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function rr(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let k=!0;for(let B=0;B<m.length;++B){const J=m[B];if(J&&!J.da&&J.capture==_){const vt=J.listener,he=J.ha||J.src;J.fa&&gt(u.i,J),k=vt.call(he,T)!==!1&&k}}return k&&!T.defaultPrevented}function Vh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zl(u){u.g=Vh(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(u){M.call(this),this.h=u,this.g={}}S(as,M);var ho=[];function fo(u){Lt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Qs(m)},u),u.g={}}as.prototype.N=function(){as.Z.N.call(this),fo(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=d.JSON.stringify,Mh=d.JSON.parse,$l=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function tu(){}var xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xe(){N.call(this,"d")}S(xe,N);function bn(){N.call(this,"c")}S(bn,N);var ce={},eu=null;function Ks(){return eu=eu||new ge}ce.Ia="serverreachability";function nu(u){N.call(this,ce.Ia,u)}S(nu,N);function Wn(u){const m=Ks();Ce(m,new nu(m))}ce.STAT_EVENT="statevent";function os(u,m){N.call(this,ce.STAT_EVENT,u),this.stat=m}S(os,N);function pe(u){const m=Ks();Ce(m,new os(m,u))}ce.Ja="timingevent";function ti(u,m){N.call(this,ce.Ja,u),this.size=m}S(ti,N);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Uh(u,m,_,T,k,B){u.info(function(){if(u.g)if(B){var J="",vt=B.split("&");for(let zt=0;zt<vt.length;zt++){var he=vt[zt].split("=");if(he.length>1){const ie=he[0];he=he[1];const Cn=ie.split("_");J=Cn.length>=2&&Cn[1]=="type"?J+(ie+"="+he+"&"):J+(ie+"=redacted&")}}}else J=null;else J=B;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+_+`
`+J})}function iu(u,m,_,T,k,B,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+_+`
`+B+" "+J})}function ni(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lh(u,_)+(T?" "+T:"")})}function ls(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Lh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var k=T[0];if(k!="noop"&&k!="stop"&&k!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return sr(B)}catch{return m}}var us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},go;function cs(){}S(cs,Wl),cs.prototype.g=function(){return new XMLHttpRequest},go=new cs;function Ii(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Bn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new as(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var ye={},Ve={};function ii(u,m,_){u.M=1,u.A=hs(ve(m)),u.u=_,u.R=!0,Ys(u,null)}function Ys(u,m){u.F=Date.now(),ri(u),u.B=ve(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),$s(_.i,"t",T),u.C=0,_=u.j.L,u.h=new qn,u.g=vu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new $e(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var k="readystatechange";Array.isArray(k)||(k&&(ho[0]=k.toString()),k=ho);for(let B=0;B<k.length;B++){const J=ne(_,k[B],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Uh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const vt=Fn(this.g),he=this.g.ya(),zt=this.g.ca();if(!(vt<3)&&(vt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||vt!=4||he==7||(he==8||zt<=0?Wn(3):Wn(2)),si(this);var m=this.g.ca();this.X=m;var _=kh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,vt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,k=this.g;if((T=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,pe(12),hn(this),wn(this);break t}}if(this.R){u=!0;let ie;for(;!this.K&&this.C<_.length;)if(ie=au(this,_),ie==Ve){vt==4&&(this.m=4,pe(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(ie==ye){this.m=4,pe(15),ni(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,ie,null),ai(this,ie);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||_.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,_,"[Invalid Chunked Response]"),hn(this),wn(this);else if(_.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),No(J),J.P=!0,pe(11))}}else ni(this.i,this.l,_,null),ai(this,_);vt==4&&hn(this),this.o&&!this.K&&(vt==4?gu(this.j,this):(this.o=!1,ri(this)))}else Di(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),hn(this),wn(this)}}}catch{}};function kh(u){if(!su(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let _="";const T=m.length,k=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(k&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Ve:(_=Number(m.substring(_,T)),isNaN(_)?ye:(T+=1,T+_>m.length?Ve:(m=m.slice(T,T+_),u.C=T+_,m)))}Bn.prototype.cancel=function(){this.K=!0,hn(this)};function ri(u){u.T=Date.now()+u.H,Xs(u,u.H)}function Xs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(y(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ls(this.i,this.B),this.M!=2&&(Wn(),pe(17)),hn(this),this.m=2,wn(this)):Xs(this,this.T-u)};function wn(u){u.j.I==0||u.K||gu(u.j,u)}function hn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||li(_.h,u))){if(!u.L&&li(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ia(_),dr(_);else break t;_s(_),pe(18)}}else _.xa=k[1],0<_.xa-_.K&&k[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ei(y(_.Va,_),6e3));oi(_.h)<=1&&_.ta&&(_.ta=void 0)}else mi(_,11)}else if((u.L||_.g==u)&&ia(_),!w(m))for(k=_.Ba.g.parse(m),m=0;m<k.length;m++){let zt=k[m];const ie=zt[0];if(!(ie<=_.K))if(_.K=ie,zt=zt[1],_.I==2)if(zt[0]=="c"){_.M=zt[1],_.ba=zt[2];const Cn=zt[3];Cn!=null&&(_.ka=Cn,_.j.info("VER="+_.ka));const gi=zt[4];gi!=null&&(_.za=gi,_.j.info("SVER="+_.za));const Gn=zt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Qn=u.g;if(Qn){const vs=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var B=T.h;B.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(_o(B,B.h),B.h=null))}if(T.G){const ra=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ra&&(T.wa=ra,jt(T.J,T.G,ra))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var J=u;if(T.na=_u(T,T.L?T.ba:null,T.W),J.L){vo(T.h,J);var vt=J,he=T.O;he&&(vt.H=he),vt.D&&(si(vt),ri(vt)),T.g=J}else du(T);_.i.length>0&&di(_)}else zt[0]!="stop"&&zt[0]!="close"||mi(_,7);else _.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?mi(_,7):Co(_):zt[0]!="noop"&&_.l&&_.l.qa(zt),_.A=0)}}Wn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function po(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _o(u,m){u.g?u.g.add(m):u.h=m}function vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}po.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return G(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let k,B=null;T>=0?(k=u[_].substring(0,T),B=u[_].substring(T+1)):k=u[_],m(k,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,ar(this,u.u),this.h=u.h,To(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),ar(this,m[4]),this.h=ui(m[5]||"",!0),To(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new lr(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fs(m,Zs,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fs(m,Zs,!0),"@"),u.push(Ii(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(fs(_,_.charAt(0)=="/"?Ao:lu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",fs(_,uu)),u.join("")},fn.prototype.resolve=function(u){const m=ve(this);let _=!!u.j;_?Me(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)ar(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var k=m.h.lastIndexOf("/");k!=-1&&(T=m.h.slice(0,k+1)+T)}if(k=T,k==".."||k==".")T="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){T=k.lastIndexOf("/",0)==0,k=k.split("/");const B=[];for(let J=0;J<k.length;){const vt=k[J++];vt=="."?T&&J==k.length&&B.push(""):vt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&J==k.length&&B.push("")):(B.push(vt),T=!0)}T=B.join("/")}else T=k}return _?m.h=T:_=u.i.toString()!=="",_?To(m,hu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function ve(u){return new fn(u)}function Me(u,m,_){u.j=_?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ar(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function To(u,m,_){m instanceof lr?(u.i=m,Ws(u.i,u.l)):(_||(m=fs(m,or)),u.i=new lr(m,u.l))}function jt(u,m,_){u.i.set(m,_)}function hs(u){return jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fs(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,lu=/[#\?:]/g,Ao=/[#\?]/g,or=/[#\?@]/g,uu=/#/g;function lr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&Js(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=lr.prototype,r.add=function(u,m){rn(this),this.i=null,u=ur(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function cu(u,m){rn(u),m=ur(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function So(u,m){return rn(u),m=ur(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(_,T){_.forEach(function(k){u.call(m,k,T,this)},this)},this)};function bo(u,m){rn(u);let _=[];if(typeof m=="string")So(u,m)&&(_=_.concat(u.g.get(ur(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return rn(this),this.i=null,u=ur(this,u),So(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=bo(this,u),u.length>0?String(u[0]):m):m};function $s(u,m,_){cu(u,m),_.length>0&&(u.i=null,u.g.set(ur(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const k=Ii(_);_=bo(this,_);for(let B=0;B<_.length;B++){let J=k;_[B]!==""&&(J+="="+Ii(_[B])),u.push(J)}}return this.i=u.join("&")};function hu(u){const m=new lr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ur(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ws(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(_,T){const k=T.toLowerCase();T!=k&&(cu(this,T),$s(this,k,_))},u)),u.j=m}function Hn(u,m){const _=new zn;if(d.Image){const T=new Image;T.onload=A(Rn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=A(Rn,_,"TestLoadImage: error",!1,m,T),T.onabort=A(Rn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(Rn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function wo(u,m){const _=new zn,T=new AbortController,k=setTimeout(()=>{T.abort(),Rn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(k),B.ok?Rn(_,"TestPingServer: ok",!0,m):Rn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),Rn(_,"TestPingServer: error",!1,m)})}function Rn(u,m,_,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(_)}catch{}}function cr(){this.g=new $l}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ci,Wl),ci.prototype.g=function(){return new ds(this.i,this.h)};function ds(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ds,ge),r=ds.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hr(this):jn(this),this.readyState==3&&ta(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,hr(this))},r.Na=function(u){this.g&&(this.response=u,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return Lt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function ms(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=In(_),typeof u=="string"?_!=null&&Ii(_):jt(u,m,_))}function Qt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Qt,ge);var hi=/^https?$/i,Ro=["POST","PUT"];r=Qt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():go.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){gs(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)_.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),k=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||T||k||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of _)this.g.setRequestHeader(B,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){gs(this,B)}};function gs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Io(u),Ci(u)}function Io(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),Ci(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ci(this,!0)),Qt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ps(this):this.Xa())},r.Xa=function(){ps(this)};function ps(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let J=String(u.D).match(ou)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!hi.test(J?J.toLowerCase():"")}_=T}if(_)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var k=Fn(u)>2?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.ca()+"]",Io(u)}}finally{Ci(u)}}}}function Ci(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ce(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Di(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=ru(u[T]);const k=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[k]||[];m[k]=B,B.push(_)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function fr(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new po(u&&u.concurrentRequestLimit),this.Ba=new cr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=fr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){pe(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=_u(this,null,this.W),di(this)};function Co(u){if(ea(u),u.I==3){var m=u.V++,_=ve(u.J);if(jt(_,"SID",u.M),jt(_,"RID",m),jt(_,"TYPE","terminate"),ys(u,_),m=new Bn(u,u.j,m),m.M=2,m.A=hs(ve(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}yu(u)}function dr(u){u.g&&(No(u),u.g.cancel(),u.g=null)}function ea(u){dr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ia(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!yo(u.h)&&!u.m){u.m=!0;var m=u.Ea;ae||b(),kt||(ae(),kt=!0),C.add(m,u),u.D=0}}function na(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(y(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const k=new Bn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),W(B,this.U)):B=this.U),this.u!==null||this.R||(k.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=fu(this,k,m),_=ve(this.J),jt(_,"RID",u),jt(_,"CVER",22),this.G&&jt(_,"X-HTTP-Session-Id",this.G),ys(this,_),B&&(this.R?m="headers="+Ii(In(B))+"&"+m:this.u&&ms(_,this.u,B)),_o(this.h,k),this.Ra&&jt(_,"TYPE","init"),this.S?(jt(_,"$req",m),jt(_,"SID","null"),k.U=!0,ii(k,_,null)):ii(k,_,m),this.I=2}}else this.I==3&&(u?Do(this,u):this.i.length==0||yo(this.h)||Do(this))};function Do(u,m){var _;m?_=m.l:_=u.V++;const T=ve(u.J);jt(T,"SID",u.M),jt(T,"RID",_),jt(T,"AID",u.K),ys(u,T),u.u&&u.o&&ms(T,u.u,u.o),_=new Bn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_o(u.h,_),ii(_,T,m)}function ys(u,m){u.H&&Lt(u.H,function(_,T){jt(m,T,_)}),u.l&&Lt({},function(_,T){jt(m,T,_)})}function fu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var k=u.i;let vt=-1;for(;;){const he=["count="+_];vt==-1?_>0?(vt=k[0].g,he.push("ofs="+vt)):vt=0:he.push("ofs="+vt);let zt=!0;for(let ie=0;ie<_;ie++){var B=k[ie].g;const Cn=k[ie].map;if(B-=vt,B<0)vt=Math.max(0,k[ie].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var J=Cn instanceof Map?Cn:Object.entries(Cn);for(const[gi,Gn]of J){let Qn=Gn;p(Gn)&&(Qn=sr(Gn)),he.push(B+gi+"="+encodeURIComponent(Qn))}}catch(gi){throw he.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(Cn)}}if(zt){J=he.join("&");break t}}J=void 0}return u=u.i.splice(0,_),m.G=u,J}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ae||b(),kt||(ae(),kt=!0),C.add(m,u),u.A=0}}function _s(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(y(u.Da,u),pu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),dr(this),mu(this))};function No(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);jt(m,"RID","rpc"),jt(m,"SID",u.M),jt(m,"AID",u.K),jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&jt(m,"TO",u.ia),jt(m,"TYPE","xmlhttp"),ys(u,m),u.u&&u.o&&ms(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=hs(ve(m)),_.u=null,_.R=!0,Ys(_,u)}r.Va=function(){this.C!=null&&(this.C=null,dr(this),_s(this),pe(19))};function ia(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var _=null;if(u.g==m){ia(u),No(u),u.g=null;var T=2}else if(li(u.h,m))_=m.G,vo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var k=u.D;T=Ks(),Ce(T,new ti(T,_)),di(u)}else du(u);else if(k=m.m,k==3||k==0&&m.X>0||!(T==1&&na(u,m)||T==2&&_s(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),k){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function pu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const k=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),hs(T),k?Hn(T.toString(),_):wo(T.toString(),_)}else pe(2);u.I=0,u.l&&u.l.pa(m),yu(u),ea(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=Eo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,_){var T=_ instanceof fn?ve(_):new fn(_);if(T.g!="")m&&(T.g=m+"."+T.g),ar(T,T.u);else{var k=d.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;const B=new fn(null);T&&Me(B,T),m&&(B.g=m),k&&ar(B,k),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&jt(T,_,m),jt(T,"VER",u.ka),ys(u,T),T}function vu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Qt(new ci({ab:_})):new Qt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}r=Eu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function mr(){}mr.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ge.call(this),this.g=new fr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}S(We,ge),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Co(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=sr(u),u=_);m.i.push(new _e(m.Ya++,u)),m.I==3&&di(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,We.Z.N.call(this)};function Tu(u){xe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Tu,xe);function Au(){bn.call(this),this.status=1}S(Au,bn);function Ni(u){this.g=u}S(Ni,Eu),Ni.prototype.ra=function(){Ce(this.g,"a")},Ni.prototype.qa=function(u){Ce(this.g,new Tu(u))},Ni.prototype.pa=function(u){Ce(this.g,new Au)},Ni.prototype.oa=function(){Ce(this.g,"b")},mr.prototype.createWebChannel=mr.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,uT=function(){return new mr},lT=function(){return Ks()},oT=ce,nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,kc=us,mo.COMPLETE="complete",aT=mo,tu.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,pl=tu,Qt.prototype.listenOnce=Qt.prototype.K,Qt.prototype.getLastError=Qt.prototype.Ha,Qt.prototype.getLastErrorCode=Qt.prototype.ya,Qt.prototype.getStatus=Qt.prototype.ca,Qt.prototype.getResponseJson=Qt.prototype.La,Qt.prototype.getResponseText=Qt.prototype.la,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Fa,sT=Qt}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let io="12.9.0";function uR(r){io=r}const zs=new vm("@firebase/firestore");function Ua(){return zs.logLevel}function nt(r,...t){if(zs.logLevel<=Ct.DEBUG){const i=t.map(Nm);zs.debug(`Firestore (${io}): ${r}`,...i)}}function tr(r,...t){if(zs.logLevel<=Ct.ERROR){const i=t.map(Nm);zs.error(`Firestore (${io}): ${r}`,...i)}}function Bs(r,...t){if(zs.logLevel<=Ct.WARN){const i=t.map(Nm);zs.warn(`Firestore (${io}): ${r}`,...i)}}function Nm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function ct(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,cT(r,a,i)}function cT(r,t,i){let a=`FIRESTORE (${io}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw tr(a),new Error(a)}function Ut(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||cT(t,l,a)}function pt(r,t){return r}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends ir{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xi{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class hT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class hR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class fR{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ut(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Xi,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Xi)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ut(typeof a.accessToken=="string",31837,{l:a}),new hT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ut(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class dR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class mR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new dR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ut(this.o===void 0,3512);const a=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ut(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new yv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Om{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=pR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Dt(r,t){return r<t?-1:r>t?1:0}function im(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Fd(l)===Fd(c)?Dt(l,c):Fd(l)?1:-1}return Dt(r.length,t.length)}const yR=55296,_R=57343;function Fd(r){const t=r.charCodeAt(0);return t>=yR&&t<=_R}function Ya(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const _v="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&ct(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&ct(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),l=Ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):im(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qr.fromString(t.substring(4,t.length-2))}}class Zt extends Ei{construct(t,i,a){return new Zt(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new rt(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Zt(i)}static emptyPath(){return new Zt([])}}const vR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ei{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return vR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_v}static keyField(){return new Ge([_v])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new rt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new rt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class lt{constructor(t){this.path=t}static fromPath(t){return new lt(Zt.fromString(t))}static fromName(t){return new lt(Zt.fromString(t).popFirst(5))}static empty(){return new lt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Zt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new Zt(t.slice()))}}function fT(r,t,i){if(!i)throw new rt(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function ER(r,t,i,a){if(t===!0&&a===!0)throw new rt(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function vv(r){if(!lt.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ev(r){if(lt.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function dT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Vm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":ct(12329,{type:typeof r})}function An(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vm(r);throw new rt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function we(r,t){const i={typeString:r};return t&&(i.value=t),i}function Fl(r,t){if(!dT(r))throw new rt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new rt(X.INVALID_ARGUMENT,i);return!0}const Tv=-62135596800,Av=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Av);return new te(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Tv)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Av}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Tv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:we("string",te._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};class ft{static fromTimestamp(t){return new ft(t)}static min(){return new ft(new te(0,0))}static max(){return new ft(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function TR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=ft.fromTimestamp(a===1e9?new te(i+1,0):new te(i,a));return new Jr(l,lt.empty(),t)}function AR(r){return new Jr(r.readTime,r.key,Dl)}class Jr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Jr(ft.min(),lt.empty(),Dl)}static max(){return new Jr(ft.max(),lt.empty(),Dl)}}function SR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=lt.comparator(r.documentKey,t.documentKey),i!==0?i:Dt(r.largestBatchId,t.largestBatchId))}const bR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ro(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==bR)throw r;nt("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,a)=>{i(t)}))}static reject(t){return new Y(((i,a)=>{a(t)}))}static waitFor(t){return new Y(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const a of t)i=i.next((l=>l?Y.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Y(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Y(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function RR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function so(r){return r.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const Mm=-1;function Gl(r){return r==null}function Jc(r){return r===0&&1/r==-1/0}function IR(r){return typeof r=="number"&&Number.isInteger(r)&&!Jc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const mT="";function CR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Sv(t)),t=DR(r.get(i),t);return Sv(t)}function DR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case mT:i+="";break;default:i+=c}}return i}function Sv(r){return r+mT+""}function bv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ns(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function gT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class se{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new se(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ct(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ct(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw ct(57766)}get value(){throw ct(16141)}get color(){throw ct(16727)}get left(){throw ct(29726)}get right(){throw ct(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(t){this.comparator=t,this.data=new se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new wv(this.data.getIterator())}getIteratorFrom(t){return new wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Tn([])}unionWith(t){let i=new Oe(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Tn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ya(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class pT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new pT("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const NR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(r){if(Ut(!!r,39018),typeof r=="string"){let t=0;const i=NR.exec(r);if(Ut(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:me(r.seconds),nanos:me(r.nanos)}}function me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $r(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const yT="server_timestamp",_T="__type__",vT="__previous_value__",ET="__local_write_time__";function Um(r){return(r?.mapValue?.fields||{})[_T]?.stringValue===yT}function fh(r){const t=r.mapValue.fields[vT];return Um(t)?fh(t):t}function Nl(r){const t=Zr(r.mapValue.fields[ET].timestampValue);return new te(t.seconds,t.nanos)}class OR{constructor(t,i,a,l,c,d,p,v,y,A,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=S}}const Zc="(default)";class Ol{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}function VR(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new rt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(r.options.projectId,t)}const TT="__type__",MR="__max__",Dc={mapValue:{}},AT="__vector__",$c="value";function Wr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Um(r)?4:LR(r)?9007199254740991:UR(r)?10:11:ct(28295,{value:r})}function wi(r,t){if(r===t)return!0;const i=Wr(r);if(i!==Wr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Nl(r).isEqual(Nl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Zr(l.timestampValue),p=Zr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return $r(l.bytesValue).isEqual($r(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),p=me(c.doubleValue);return d===p?Jc(d)===Jc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return Ya(r.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(bv(d)!==bv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!wi(d[v],p[v])))return!1;return!0})(r,t);default:return ct(52216,{left:r})}}function Vl(r,t){return(r.values||[]).find((i=>wi(i,t)))!==void 0}function Xa(r,t){if(r===t)return 0;const i=Wr(r),a=Wr(t);if(i!==a)return Dt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=me(c.integerValue||c.doubleValue),v=me(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,t);case 3:return Rv(r.timestampValue,t.timestampValue);case 4:return Rv(Nl(r),Nl(t));case 5:return im(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=$r(c),v=$r(d);return p.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const A=Dt(p[y],v[y]);if(A!==0)return A}return Dt(p.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Dt(me(c.latitude),me(d.latitude));return p!==0?p:Dt(me(c.longitude),me(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Iv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[$c]?.arrayValue,A=v[$c]?.arrayValue,S=Dt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:Iv(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let S=0;S<v.length&&S<A.length;++S){const O=im(v[S],A[S]);if(O!==0)return O;const G=Xa(p[v[S]],y[A[S]]);if(G!==0)return G}return Dt(v.length,A.length)})(r.mapValue,t.mapValue);default:throw ct(23264,{he:i})}}function Rv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Dt(r,t);const i=Zr(r),a=Zr(t),l=Dt(i.seconds,a.seconds);return l!==0?l:Dt(i.nanos,a.nanos)}function Iv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Xa(i[l],a[l]);if(c)return c}return Dt(i.length,a.length)}function Ja(r){return rm(r)}function rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Zr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return $r(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return lt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=rm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${rm(i.fields[d])}`;return l+"}"})(r.mapValue):ct(61005,{value:r})}function Pc(r){switch(Wr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(r);return t?16+Pc(t):16;case 5:return 2*r.stringValue.length;case 6:return $r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return ns(a.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(r.mapValue);default:throw ct(13486,{value:r})}}function sm(r){return!!r&&"integerValue"in r}function Lm(r){return!!r&&"arrayValue"in r}function Cv(r){return!!r&&"nullValue"in r}function Dv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xc(r){return!!r&&"mapValue"in r}function UR(r){return(r?.mapValue?.fields||{})[TT]?.stringValue===AT}function Al(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ns(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Al(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Al(r.arrayValue.values[i]);return t}return{...r}}function LR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===MR}class en{constructor(t){this.value=t}static empty(){return new en({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!xc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(i)}setAll(t){let i=Ge.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Al(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ns(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new en(Al(this.value))}}function ST(r){const t=[];return ns(r.fields,((i,a)=>{const l=new Ge([i]);if(xc(a)){const c=ST(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Tn(t)}class ke{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new ke(t,0,ft.min(),ft.min(),ft.min(),en.empty(),0)}static newFoundDocument(t,i,a,l){return new ke(t,1,i,ft.min(),a,l,0)}static newNoDocument(t,i){return new ke(t,2,i,ft.min(),ft.min(),en.empty(),0)}static newUnknownDocument(t,i){return new ke(t,3,i,ft.min(),ft.min(),en.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function Nv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=lt.comparator(lt.fromName(d.referenceValue),i.key):a=Xa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Ov(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!wi(r.position[i],t.position[i]))return!1;return!0}class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function kR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class bT{}class Ne extends bT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new xR(t,i,a):i==="array-contains"?new qR(t,a):i==="in"?new HR(t,a):i==="not-in"?new jR(t,a):i==="array-contains-any"?new FR(t,a):new Ne(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new zR(t,a):new BR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Xa(i,this.value)):i!==null&&Wr(this.value)===Wr(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends bT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ri(t,i)}matches(t){return wT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wT(r){return r.op==="and"}function RT(r){return PR(r)&&wT(r)}function PR(r){for(const t of r.filters)if(t instanceof Ri)return!1;return!0}function am(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+Ja(r.value);if(RT(r))return r.filters.map((t=>am(t))).join(",");{const t=r.filters.map((i=>am(i))).join(",");return`${r.op}(${t})`}}function IT(r,t){return r instanceof Ne?(function(a,l){return l instanceof Ne&&a.op===l.op&&a.field.isEqual(l.field)&&wi(a.value,l.value)})(r,t):r instanceof Ri?(function(a,l){return l instanceof Ri&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&IT(d,l.filters[p])),!0):!1})(r,t):void ct(19439)}function CT(r){return r instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(r):r instanceof Ri?(function(i){return i.op.toString()+" {"+i.getFilters().map(CT).join(" ,")+"}"})(r):"Filter"}class xR extends Ne{constructor(t,i,a){super(t,i,a),this.key=lt.fromName(a.referenceValue)}matches(t){const i=lt.comparator(t.key,this.key);return this.matchesComparison(i)}}class zR extends Ne{constructor(t,i){super(t,"in",i),this.keys=DT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class BR extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=DT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function DT(r,t){return(t.arrayValue?.values||[]).map((i=>lt.fromName(i.referenceValue)))}class qR extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Lm(i)&&Vl(i.arrayValue,this.value)}}class HR extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class jR extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class FR extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Lm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class GR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Vv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new GR(r,t,i,a,l,c,d)}function km(r){const t=pt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>am(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Gl(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Ja(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Ja(a))).join(",")),t.Te=i}return t.Te}function Pm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!kR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!IT(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Ov(r.startAt,t.startAt)&&Ov(r.endAt,t.endAt)}function om(r){return lt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class dh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function QR(r,t,i,a,l,c,d,p){return new dh(r,t,i,a,l,c,d,p)}function mh(r){return new dh(r)}function Mv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function KR(r){return lt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function YR(r){return r.collectionGroup!==null}function Sl(r){const t=pt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Oe(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,a))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new th(Ge.keyField(),a))}return t.Ie}function Si(r){const t=pt(r);return t.Ee||(t.Ee=XR(t,Sl(r))),t.Ee}function XR(r,t){if(r.limitType==="F")return Vv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new th(l.field,c)}));const i=r.endAt?new Wc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Wc(r.startAt.position,r.startAt.inclusive):null;return Vv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function lm(r,t,i){return new dh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function gh(r,t){return Pm(Si(r),Si(t))&&r.limitType===t.limitType}function NT(r){return`${km(Si(r))}|lt:${r.limitType}`}function La(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>CT(l))).join(", ")}]`),Gl(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${a})`})(Si(r))}; limitType=${r.limitType})`}function ph(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):lt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Sl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const y=Nv(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,Sl(a),l)||a.endAt&&!(function(d,p,v){const y=Nv(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,Sl(a),l))})(r,t)}function JR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function OT(r){return(t,i)=>{let a=!1;for(const l of Sl(r)){const c=ZR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function ZR(r,t,i){const a=r.field.isKeyField()?lt.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?Xa(v,y):ct(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return ct(19790,{direction:r.dir})}}class Hs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ns(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return gT(this.inner)}size(){return this.innerSize}}const $R=new se(lt.comparator);function er(){return $R}const VT=new se(lt.comparator);function yl(...r){let t=VT;for(const i of r)t=t.insert(i.key,i);return t}function MT(r){let t=VT;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function ks(){return bl()}function UT(){return bl()}function bl(){return new Hs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const WR=new se(lt.comparator),tI=new Oe(lt.comparator);function Nt(...r){let t=tI;for(const i of r)t=t.add(i);return t}const eI=new Oe(Dt);function nI(){return eI}function xm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function LT(r){return{integerValue:""+r}}function kT(r,t){return IR(t)?LT(t):xm(r,t)}class yh{constructor(){this._=void 0}}function iI(r,t,i){return r instanceof Ml?(function(l,c){const d={fields:{[_T]:{stringValue:yT},[ET]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Um(c)&&(c=fh(c)),c&&(d.fields[vT]=c),{mapValue:d}})(i,t):r instanceof Za?xT(r,t):r instanceof Ul?zT(r,t):(function(l,c){const d=PT(l,c),p=Uv(d)+Uv(l.Ae);return sm(d)&&sm(l.Ae)?LT(p):xm(l.serializer,p)})(r,t)}function rI(r,t,i){return r instanceof Za?xT(r,t):r instanceof Ul?zT(r,t):i}function PT(r,t){return r instanceof Ll?(function(a){return sm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Ml extends yh{}class Za extends yh{constructor(t){super(),this.elements=t}}function xT(r,t){const i=BT(t);for(const a of r.elements)i.some((l=>wi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ul extends yh{constructor(t){super(),this.elements=t}}function zT(r,t){let i=BT(t);for(const a of r.elements)i=i.filter((l=>!wi(l,a)));return{arrayValue:{values:i}}}class Ll extends yh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Uv(r){return me(r.integerValue||r.doubleValue)}function BT(r){return Lm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class zm{constructor(t,i){this.field=t,this.transform=i}}function sI(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof Za&&l instanceof Za||a instanceof Ul&&l instanceof Ul?Ya(a.elements,l.elements,wi):a instanceof Ll&&l instanceof Ll?wi(a.Ae,l.Ae):a instanceof Ml&&l instanceof Ml})(r.transform,t.transform)}class aI{constructor(t,i){this.version=t,this.transformResults=i}}class Qe{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Qe}static exists(t){return new Qe(void 0,t)}static updateTime(t){return new Qe(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class _h{}function qT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new vh(r.key,Qe.none()):new Ql(r.key,r.data,Qe.none());{const i=r.data,a=en.empty();let l=new Oe(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new is(r.key,a,new Tn(l.toArray()),Qe.none())}}function oI(r,t,i){r instanceof Ql?(function(l,c,d){const p=l.value.clone(),v=kv(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof is?(function(l,c,d){if(!zc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=kv(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(HT(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function wl(r,t,i,a){return r instanceof Ql?(function(c,d,p,v){if(!zc(c.precondition,d))return p;const y=c.value.clone(),A=Pv(c.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof is?(function(c,d,p,v){if(!zc(c.precondition,d))return p;const y=Pv(c.fieldTransforms,v,d),A=d.data;return A.setAll(HT(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return zc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function lI(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=PT(a.transform,l||null);c!=null&&(i===null&&(i=en.empty()),i.set(a.field,c))}return i||null}function Lv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ya(a,l,((c,d)=>sI(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ql extends _h{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class is extends _h{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function HT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function kv(r,t,i){const a=new Map;Ut(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,rI(d,p,i[l]))}return a}function Pv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,iI(c,d,t))}return a}class vh extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jT extends _h{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uI{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&oI(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=wl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=wl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=UT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=qT(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(ft.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Nt())}isEqual(t){return this.batchId===t.batchId&&Ya(this.mutations,t.mutations,((i,a)=>Lv(i,a)))&&Ya(this.baseMutations,t.baseMutations,((i,a)=>Lv(i,a)))}}class Bm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ut(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return WR})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Bm(t,i,a,l)}}class cI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hI{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,Mt;function FT(r){switch(r){case X.OK:return ct(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ct(15467,{code:r})}}function GT(r){if(r===void 0)return tr("GRPC error has no .code"),X.UNKNOWN;switch(r){case be.OK:return X.OK;case be.CANCELLED:return X.CANCELLED;case be.UNKNOWN:return X.UNKNOWN;case be.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case be.INTERNAL:return X.INTERNAL;case be.UNAVAILABLE:return X.UNAVAILABLE;case be.UNAUTHENTICATED:return X.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case be.NOT_FOUND:return X.NOT_FOUND;case be.ALREADY_EXISTS:return X.ALREADY_EXISTS;case be.PERMISSION_DENIED:return X.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case be.ABORTED:return X.ABORTED;case be.OUT_OF_RANGE:return X.OUT_OF_RANGE;case be.UNIMPLEMENTED:return X.UNIMPLEMENTED;case be.DATA_LOSS:return X.DATA_LOSS;default:return ct(39323,{code:r})}}(Mt=be||(be={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";function fI(){return new TextEncoder}const dI=new Qr([4294967295,4294967295],0);function xv(r){const t=fI().encode(r),i=new rT;return i.update(t),new Uint8Array(i.digest())}function zv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qr([i,a],0),new Qr([l,c],0)]}class qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(a<0)throw new _l(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Qr.fromNumber(a)));return l.compare(dI)===1&&(l=new Qr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=xv(t),[a,l]=zv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new qm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=xv(t),[a,l]=zv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Eh(ft.min(),l,new se(Dt),er(),Nt())}}class Kl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Kl(a,i,Nt(),Nt(),Nt())}}class Bc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class QT{constructor(t,i){this.targetId=t,this.Ce=i}}class KT{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Bv{constructor(){this.ve=0,this.Fe=qv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Nt(),i=Nt(),a=Nt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ct(38017,{changeType:c})}})),new Kl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=qv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ut(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class mI{constructor(t){this.Ge=t,this.ze=new Map,this.je=er(),this.He=Nc(),this.Je=Nc(),this.Ze=new se(Dt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:ct(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(om(c))if(a===0){const d=new lt(c.path);this.et(i,d,ke.newNoDocument(d,ft.min()))}else Ut(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=$r(a).toUint8Array()}catch(v){if(v instanceof pT)return Bs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new qm(d,l,c)}catch(v){return Bs(v instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&om(p.target)){const v=new lt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,ke.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Nt();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Eh(t,i,this.Ze,this.je,a);return this.je=er(),this.He=Nc(),this.Je=Nc(),this.Ze=new se(Dt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new Bv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Oe(Dt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Oe(Dt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Bv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new se(lt.comparator)}function qv(){return new se(lt.comparator)}const gI={asc:"ASCENDING",desc:"DESCENDING"},pI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yI={and:"AND",or:"OR"};class _I{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function um(r,t){return r.useProto3Json||Gl(t)?t:{value:t}}function eh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function YT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function vI(r,t){return eh(r,t.toTimestamp())}function Sn(r){return Ut(!!r,49232),ft.fromTimestamp((function(i){const a=Zr(i);return new te(a.seconds,a.nanos)})(r))}function Hm(r,t){return cm(r,t).canonicalString()}function cm(r,t){const i=(function(l){return new Zt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function XT(r){const t=Zt.fromString(r);return Ut(e0(t),10190,{key:t.toString()}),t}function nh(r,t){return Hm(r.databaseId,t.path)}function Rl(r,t){const i=XT(t);if(i.get(1)!==r.databaseId.projectId)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new lt(ZT(i))}function JT(r,t){return Hm(r.databaseId,t)}function EI(r){const t=XT(r);return t.length===4?Zt.emptyPath():ZT(t)}function hm(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ZT(r){return Ut(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Hv(r,t,i){return{name:nh(r,t),fields:i.value.mapValue.fields}}function TI(r,t){return"found"in t?(function(a,l){Ut(!!l.found,43571),l.found.name,l.found.updateTime;const c=Rl(a,l.found.name),d=Sn(l.found.updateTime),p=l.found.createTime?Sn(l.found.createTime):ft.min(),v=new en({mapValue:{fields:l.found.fields}});return ke.newFoundDocument(c,d,p,v)})(r,t):"missing"in t?(function(a,l){Ut(!!l.missing,3894),Ut(!!l.readTime,22933);const c=Rl(a,l.missing),d=Sn(l.readTime);return ke.newNoDocument(c,d)})(r,t):ct(7234,{result:t})}function AI(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ct(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ut(A===void 0||typeof A=="string",58123),Ke.fromBase64String(A||"")):(Ut(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ke.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?X.UNKNOWN:GT(y.code);return new rt(A,y.message||"")})(d);i=new KT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Rl(r,a.document.name),c=Sn(a.document.updateTime),d=a.document.createTime?Sn(a.document.createTime):ft.min(),p=new en({mapValue:{fields:a.document.fields}}),v=ke.newFoundDocument(l,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Bc(y,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Rl(r,a.document),c=a.readTime?Sn(a.readTime):ft.min(),d=ke.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Bc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Rl(r,a.document),c=a.removedTargetIds||[];i=new Bc([],c,l,null)}else{if(!("filter"in t))return ct(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new hI(l,c),p=a.targetId;i=new QT(p,d)}}return i}function $T(r,t){let i;if(t instanceof Ql)i={update:Hv(r,t.key,t.value)};else if(t instanceof vh)i={delete:nh(r,t.key)};else if(t instanceof is)i={update:Hv(r,t.key,t.data),updateMask:OI(t.fieldMask)};else{if(!(t instanceof jT))return ct(16599,{dt:t.type});i={verify:nh(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Za)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ul)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ct(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:vI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ct(27497)})(r,t.precondition)),i}function SI(r,t){return r&&r.length>0?(Ut(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Sn(l.updateTime):Sn(c);return d.isEqual(ft.min())&&(d=Sn(c)),new aI(d,l.transformResults||[])})(i,t)))):[]}function bI(r,t){return{documents:[JT(r,t.path)]}}function wI(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=JT(r,l);const c=(function(y){if(y.length!==0)return t0(Ri.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(O){return{field:ka(O.field),direction:CI(O.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=um(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function RI(r){let t=EI(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ut(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const O=WT(S);return O instanceof Ri&&RT(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(Z){return new th(Pa(Z.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let O;return O=typeof S=="object"?S.value:S,Gl(O)?null:O})(i.limit));let v=null;i.startAt&&(v=(function(S){const O=!!S.before,G=S.values||[];return new Wc(G,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const O=!S.before,G=S.values||[];return new Wc(G,O)})(i.endAt)),QR(t,l,d,c,p,"F",v,y)}function II(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ct(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function WT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Pa(i.unaryFilter.field);return Ne.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Pa(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Pa(i.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Pa(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ct(61313);default:return ct(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ne.create(Pa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ct(58110);default:return ct(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ri.create(i.compositeFilter.filters.map((a=>WT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ct(1026)}})(i.compositeFilter.op))})(r):ct(30097,{filter:r})}function CI(r){return gI[r]}function DI(r){return pI[r]}function NI(r){return yI[r]}function ka(r){return{fieldPath:r.canonicalString()}}function Pa(r){return Ge.fromServerFormat(r.fieldPath)}function t0(r){return r instanceof Ne?(function(i){if(i.op==="=="){if(Dv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NAN"}};if(Cv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Dv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NAN"}};if(Cv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(i.field),op:DI(i.op),value:i.value}}})(r):r instanceof Ri?(function(i){const a=i.getFilters().map((l=>t0(l)));return a.length===1?a[0]:{compositeFilter:{op:NI(i.op),filters:a}}})(r):ct(54877,{filter:r})}function OI(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function e0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function n0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Hr{constructor(t,i,a,l,c=ft.min(),d=ft.min(),p=Ke.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Hr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class VI{constructor(t){this.yt=t}}function MI(r){const t=RI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lm(t,t.limit,"L"):t}class UI{constructor(){this.Sn=new LI}addToCollectionParentIndex(t,i){return this.Sn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Jr.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Jr.min())}updateCollectionGroup(t,i,a){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class LI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Oe(Zt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Oe(Zt.comparator)).toArray()}}const jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(i0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class $a{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new $a(0)}static ar(){return new $a(-1)}}const Fv="LruGarbageCollector",kI=1048576;function Gv([r,t],[i,a]){const l=Dt(r,i);return l===0?Dt(t,a):l}class PI{constructor(t){this.Pr=t,this.buffer=new Oe(Gv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Gv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class xI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){nt(Fv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){so(i)?nt(Fv,"Ignoring IndexedDB error during garbage collection: ",i):await ro(i)}await this.Ar(3e5)}))}}class zI{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(hh.ce);const a=new PI(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(jv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,p,v,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),Ua()<=Ct.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function BI(r,t){return new zI(r,t)}class qI{constructor(){this.changes=new Hs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,ke.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class HI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class jI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&wl(a.mutation,l,Tn.empty(),te.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Nt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Nt()){const l=ks();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=yl();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=ks();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Nt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=er();const d=bl(),p=(function(){return bl()})();return i.forEach(((v,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof is)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),wl(A.mutation,y,A.mutation.getFieldMask(),te.now())):d.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new HI(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=bl();let l=new se(((d,p)=>d-p)),c=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=a.get(v)||Tn.empty();A=p.applyToLocalView(y,A),a.set(v,A);const S=(l.get(p.batchId)||Nt()).add(v);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,A=v.value,S=UT();A.forEach((O=>{if(!c.has(O)){const G=qT(i.get(O),a.get(O));G!==null&&S.set(O,G),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return Y.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return KR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):YR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Y.resolve(ks());let p=Dl,v=c;return d.next((y=>Y.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{v=v.insert(A,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Nt()))).next((A=>({batchId:p,changes:MT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new lt(i)).next((a=>{let l=yl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(t,c).next((p=>Y.forEach(p,(v=>{const y=(function(S,O){return new dh(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,ke.newInvalidDocument(A)))}));let p=yl();return d.forEach(((v,y)=>{const A=c.get(v);A!==void 0&&wl(A.mutation,y,Tn.empty(),te.now()),ph(i,y)&&(p=p.insert(v,y))})),p}))}}class FI{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return Y.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Sn(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:MI(l.bundledQuery),readTime:Sn(l.readTime)}})(i)),Y.resolve()}}class GI{constructor(){this.overlays=new se(lt.comparator),this.Lr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const a=ks();return Y.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),Y.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),Y.resolve()}getOverlaysForCollection(t,i,a){const l=ks(),c=i.length+1,d=new lt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new se(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=ks(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=ks(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return Y.resolve(p)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new cI(i,a));let c=this.Lr.get(i);c===void 0&&(c=Nt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class QI{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}class jm{constructor(){this.kr=new Oe(Le.Kr),this.qr=new Oe(Le.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Le(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new lt(new Zt([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new lt(new Zt([])),a=new Le(i,t),l=new Le(i,t+1);let c=Nt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return lt.comparator(t.key,i.key)||Dt(t.Hr,i.Hr)}static Ur(t,i){return Dt(t.Hr,i.Hr)||lt.comparator(t.key,i.key)}}class KI{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Oe(Le.Kr)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new uI(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Mm:this.Yn-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Oe(Dt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),Y.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;lt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new lt(c),0);let p=new Oe(Dt);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(v.Hr)),!0)}),d),Y.resolve(this.Yr(p))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ut(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return Y.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Le(i,0),l=this.Jr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class YI{constructor(t){this.ti=t,this.docs=(function(){return new se(lt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():ke.newInvalidDocument(i))}getEntries(t,i){let a=er();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():ke.newInvalidDocument(l))})),Y.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=er();const d=i.path,p=new lt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||SR(AR(A),a)<=0||(l.has(A.key)||ph(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,a,l){ct(9500)}ni(t,i){return Y.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new XI(this)}getSize(t){return Y.resolve(this.size)}}class XI extends qI{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),Y.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class JI{constructor(t){this.persistence=t,this.ri=new Hs((i=>km(i)),Pm),this.lastRemoteSnapshotVersion=ft.min(),this.highestTargetId=0,this.ii=0,this.si=new jm,this.targetCount=0,this.oi=$a._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),Y.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new $a(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.lr(i),Y.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Y.waitFor(c).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return Y.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),Y.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return Y.resolve(a)}containsKey(t,i){return Y.resolve(this.si.containsKey(i))}}class r0{constructor(t,i){this._i={},this.overlays={},this.ai=new hh(0),this.ui=!1,this.ui=!0,this.ci=new QI,this.referenceDelegate=t(this),this.li=new JI(this),this.indexManager=new UI,this.remoteDocumentCache=(function(l){return new YI(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new VI(i),this.Pi=new FI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new GI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new KI(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){nt("MemoryPersistence","Starting transaction:",t);const l=new ZI(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return Y.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class ZI extends wR{constructor(t){super(),this.currentSequenceNumber=t}}class Fm{constructor(t){this.persistence=t,this.Ri=new jm,this.Ai=null}static Vi(t){return new Fm(t)}get di(){if(this.Ai)return this.Ai;throw ct(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),Y.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.di,(a=>{const l=lt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,ft.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class ih{constructor(t,i){this.persistence=t,this.fi=new Hs((a=>CR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=BI(this,i)}static Vi(t,i){return new ih(t,i)}Ti(){}Ii(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return Y.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?Y.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((p=>{p||(a++,c.removeEntry(d,ft.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),Y.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}wr(t,i,a){return Y.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return Y.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Gm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Nt(),l=Nt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Gm(t,i.fromCache,a,l)}}class $I{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class WI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return FS()?8:RR(Ze())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new $I;return this.ys(t,i,d).next((p=>{if(c.result=p,this.As)return this.ws(t,i,d,p.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ua()<=Ct.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",La(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Ua()<=Ct.DEBUG&&nt("QueryEngine","Query:",La(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ua()<=Ct.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",La(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):Y.resolve())}gs(t,i){if(Mv(i))return Y.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=lm(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Nt(...c);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.bs(i,p);return this.Ss(i,y,d,v.readTime)?this.gs(t,lm(i,null,"F")):this.Ds(t,y,i,v)}))))})))))}ps(t,i,a,l){return Mv(i)||l.isEqual(ft.min())?Y.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?Y.resolve(null):(Ua()<=Ct.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),La(i)),this.Ds(t,d,i,TR(l,Dl)).next((p=>p)))}))}bs(t,i){let a=new Oe(OT(t));return i.forEach(((l,c)=>{ph(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Ua()<=Ct.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",La(i)),this.fs.getDocumentsMatchingQuery(t,i,Jr.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Qm="LocalStore",tC=3e8;class eC{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new se(Dt),this.Fs=new Hs((c=>km(c)),Pm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function nC(r,t,i,a){return new eC(r,t,i,a)}async function s0(r,t){const i=pt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Nt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function iC(r,t){const i=pt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,A){const S=y.batch,O=S.keys();let G=Y.resolve();return O.forEach((Z=>{G=G.next((()=>A.getEntry(v,Z))).next((et=>{const tt=y.docVersions.get(Z);Ut(tt!==null,48541),et.version.compareTo(tt)<0&&(S.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),A.addEntry(et)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(v,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Nt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function a0(r){const t=pt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function rC(r,t){const i=pt(r),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];t.targetChanges.forEach(((A,S)=>{const O=l.get(S);if(!O)return;p.push(i.li.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,S))));let G=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(Ke.EMPTY_BYTE_STRING,ft.min()).withLastLimboFreeSnapshotVersion(ft.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(S,G),(function(et,tt,dt){return et.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=tC?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(O,G,A)&&p.push(i.li.updateTargetData(c,G))}));let v=er(),y=Nt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(sC(c,d,t.documentUpdates).next((A=>{v=A.Bs,y=A.Ls}))),!a.isEqual(ft.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return Y.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function sC(r,t,i){let a=Nt(),l=Nt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=er();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(ft.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):nt(Qm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function aC(r,t){const i=pt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function oC(r,t){const i=pt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,Y.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Hr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function fm(r,t,i){const a=pt(r),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!so(d))throw d;nt(Qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Qv(r,t,i){const a=pt(r);let l=ft.min(),c=Nt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const S=pt(v),O=S.Fs.get(A);return O!==void 0?Y.resolve(S.vs.get(O)):S.li.getTargetData(y,A)})(a,d,Si(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:ft.min(),i?c:Nt()))).next((p=>(lC(a,JR(t),p),{documents:p,ks:c})))))}function lC(r,t,i){let a=r.Ms.get(t)||ft.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Ms.set(t,a)}class Kv{constructor(){this.activeTargetIds=nI()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class uC{constructor(){this.vo=new Kv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Kv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class cC{Mo(t){}shutdown(){}}const Yv="ConnectivityMonitor";class Xv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){nt(Yv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){nt(Yv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function dm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Gd="RestConnection",hC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class fC{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=dm(),p=this.Qo(t,i.toUriEncodedString());nt(Gd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(p),A=to(y);return this.zo(t,p,v,a,A).then((S=>(nt(Gd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Bs(Gd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+io})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=hC[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class dC{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Xe="WebChannelConnection",gl=(r,t,i)=>{r.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Fa extends fC{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Fa.c_){const t=lT();gl(t,oT.STAT_EVENT,(i=>{i.stat===nm.PROXY?nt(Xe,"STAT_EVENT: detected buffering proxy"):i.stat===nm.NOPROXY&&nt(Xe,"STAT_EVENT: detected no buffering proxy")})),Fa.c_=!0}}zo(t,i,a,l,c){const d=dm();return new Promise(((p,v)=>{const y=new sT;y.setWithCredentials(!0),y.listenOnce(aT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kc.NO_ERROR:const S=y.getResponseJson();nt(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case kc.TIMEOUT:nt(Xe,`RPC '${t}' ${d} timed out`),v(new rt(X.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const O=y.getStatus();if(nt(Xe,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const et=(function(dt){const Tt=dt.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Tt)>=0?Tt:X.UNKNOWN})(Z.status);v(new rt(et,Z.message))}else v(new rt(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new rt(X.UNAVAILABLE,"Connection failed."));break;default:ct(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{nt(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);nt(Xe,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=dm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");nt(Xe,`Creating RPC '${t}' stream ${l}: ${y}`,p);const A=d.createWebChannel(y,p);this.I_(A);let S=!1,O=!1;const G=new dC({Ho:Z=>{O?nt(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(S||(nt(Xe,`Opening RPC '${t}' stream ${l} transport.`),A.open(),S=!0),nt(Xe,`RPC '${t}' stream ${l} sending:`,Z),A.send(Z))},Jo:()=>A.close()});return gl(A,pl.EventType.OPEN,(()=>{O||(nt(Xe,`RPC '${t}' stream ${l} transport opened.`),G.i_())})),gl(A,pl.EventType.CLOSE,(()=>{O||(O=!0,nt(Xe,`RPC '${t}' stream ${l} transport closed`),G.o_(),this.E_(A))})),gl(A,pl.EventType.ERROR,(Z=>{O||(O=!0,Bs(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),G.o_(new rt(X.UNAVAILABLE,"The operation could not be completed")))})),gl(A,pl.EventType.MESSAGE,(Z=>{if(!O){const et=Z.data[0];Ut(!!et,16349);const tt=et,dt=tt?.error||tt[0]?.error;if(dt){nt(Xe,`RPC '${t}' stream ${l} received error:`,dt);const Tt=dt.status;let _t=(function(kt){const C=be[kt];if(C!==void 0)return GT(C)})(Tt),qt=dt.message;Tt==="NOT_FOUND"&&qt.includes("database")&&qt.includes("does not exist")&&qt.includes(this.databaseId.database)&&Bs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),_t===void 0&&(_t=X.INTERNAL,qt="Unknown error status: "+Tt+" with message "+dt.message),O=!0,G.o_(new rt(_t,qt)),A.close()}else nt(Xe,`RPC '${t}' stream ${l} received:`,et),G.__(et)}})),Fa.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return uT()}}function mC(r){return new Fa(r)}function Qd(){return typeof document<"u"?document:null}function Th(r){return new _I(r,!0)}Fa.c_=!1;class Km{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Jv="PersistentStream";class o0{constructor(t,i,a,l,c,d,p,v){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Km(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(tr(i.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new rt(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(Jv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(nt(Jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gC extends o0{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=AI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return ft.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ft.min():d.readTime?Sn(d.readTime):ft.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=om(v)?{documents:bI(c,v)}:{query:wI(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=YT(c,d.resumeToken);const y=um(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(ft.min())>0){p.readTime=eh(c,d.snapshotVersion.toTimestamp());const y=um(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=II(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.K_(i)}}class pC extends o0{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ut(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ut(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ut(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=SI(t.writeResults,t.commitTime),a=Sn(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=hm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>$T(this.serializer,a)))};this.K_(i)}}class yC{}class _C extends yC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,cm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(X.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,cm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function vC(r,t,i,a){return new _C(r,t,i,a)}class EC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(tr(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qs="RemoteStore";class TC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{js(this)&&(nt(qs,"Restarting streams for network reachability change."),await(async function(v){const y=pt(v);y.Ea.add(4),await Yl(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ah(y)})(this))}))})),this.Va=new EC(a,l)}}async function Ah(r){if(js(r))for(const t of r.Ra)await t(!0)}async function Yl(r){for(const t of r.Ra)await t(!1)}function l0(r,t){const i=pt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Zm(i)?Jm(i):ao(i).O_()&&Xm(i,t))}function Ym(r,t){const i=pt(r),a=ao(i);i.Ia.delete(t),a.O_()&&u0(i,t),i.Ia.size===0&&(a.O_()?a.L_():js(i)&&i.Va.set("Unknown"))}function Xm(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ft.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ao(r).Z_(t)}function u0(r,t){r.da.$e(t),ao(r).X_(t)}function Jm(r){r.da=new mI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ao(r).start(),r.Va.ua()}function Zm(r){return js(r)&&!ao(r).x_()&&r.Ia.size>0}function js(r){return pt(r).Ea.size===0}function c0(r){r.da=void 0}async function AC(r){r.Va.set("Online")}async function SC(r){r.Ia.forEach(((t,i)=>{Xm(r,t)}))}async function bC(r,t){c0(r),Zm(r)?(r.Va.ha(t),Jm(r)):r.Va.set("Unknown")}async function wC(r,t,i){if(r.Va.set("Online"),t instanceof KT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(a){nt(qs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await rh(r,a)}else if(t instanceof Bc?r.da.Xe(t):t instanceof QT?r.da.st(t):r.da.tt(t),!i.isEqual(ft.min()))try{const a=await a0(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(Ke.EMPTY_BYTE_STRING,A.snapshotVersion)),u0(c,v);const S=new Hr(A.target,v,y,A.sequenceNumber);Xm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){nt(qs,"Failed to raise snapshot:",a),await rh(r,a)}}async function rh(r,t,i){if(!so(t))throw t;r.Ea.add(1),await Yl(r),r.Va.set("Offline"),i||(i=()=>a0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{nt(qs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ah(r)}))}function h0(r,t){return t().catch((i=>rh(r,i,t)))}async function Sh(r){const t=pt(r),i=ts(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Mm;for(;RC(t);)try{const l=await aC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,IC(t,l)}catch(l){await rh(t,l)}f0(t)&&d0(t)}function RC(r){return js(r)&&r.Ta.length<10}function IC(r,t){r.Ta.push(t);const i=ts(r);i.O_()&&i.Y_&&i.ea(t.mutations)}function f0(r){return js(r)&&!ts(r).x_()&&r.Ta.length>0}function d0(r){ts(r).start()}async function CC(r){ts(r).ra()}async function DC(r){const t=ts(r);for(const i of r.Ta)t.ea(i.mutations)}async function NC(r,t,i){const a=r.Ta.shift(),l=Bm.from(a,t,i);await h0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Sh(r)}async function OC(r,t){t&&ts(r).Y_&&await(async function(a,l){if((function(d){return FT(d)&&d!==X.ABORTED})(l.code)){const c=a.Ta.shift();ts(a).B_(),await h0(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Sh(a)}})(r,t),f0(r)&&d0(r)}async function Zv(r,t){const i=pt(r);i.asyncQueue.verifyOperationInProgress(),nt(qs,"RemoteStore received new credentials");const a=js(i);i.Ea.add(3),await Yl(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function VC(r,t){const i=pt(r);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await Yl(i),i.Va.set("Unknown"))}function ao(r){return r.ma||(r.ma=(function(i,a,l){const c=pt(i);return c.sa(),new gC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:AC.bind(null,r),Yo:SC.bind(null,r),t_:bC.bind(null,r),J_:wC.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),Zm(r)?Jm(r):r.Va.set("Unknown")):(await r.ma.stop(),c0(r))}))),r.ma}function ts(r){return r.fa||(r.fa=(function(i,a,l){const c=pt(i);return c.sa(),new pC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:CC.bind(null,r),t_:OC.bind(null,r),ta:DC.bind(null,r),na:NC.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Sh(r)):(await r.fa.stop(),r.Ta.length>0&&(nt(qs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class $m{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new $m(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(r,t){if(tr("AsyncQueue",`${t}: ${r}`),so(r))return new rt(X.UNAVAILABLE,`${t}: ${r}`);throw r}class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||lt.comparator(i.key,a.key):(i,a)=>lt.comparator(i.key,a.key),this.keyedMap=yl(),this.sortedSet=new se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ga;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class $v{constructor(){this.ga=new se(lt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):ct(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Wa{constructor(t,i,a,l,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Wa(t,i,Ga.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class MC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class UC{constructor(){this.queries=Wv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=pt(i),c=l.queries;l.queries=Wv(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new rt(X.ABORTED,"Firestore shutting down"))}}function Wv(){return new Hs((r=>NT(r)),gh)}async function m0(r,t){const i=pt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new MC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Wm(d,`Initialization of query '${La(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&tg(i)}async function g0(r,t){const i=pt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function LC(r,t){const i=pt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&tg(i)}function kC(r,t,i){const a=pt(r),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function tg(r){r.Ca.forEach((t=>{t.next()}))}var mm,tE;(tE=mm||(mm={})).Ma="default",tE.Cache="cache";class p0{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Wa(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Wa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}class y0{constructor(t){this.key=t}}class _0{constructor(t){this.key=t}}class PC{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Nt(),this.mutatedKeys=Nt(),this.eu=OT(t),this.tu=new Ga(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new $v,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const O=l.get(A),G=ph(this.query,S)?S:null,Z=!!O&&this.mutatedKeys.has(O.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let tt=!1;O&&G?O.data.isEqual(G.data)?Z!==et&&(a.track({type:3,doc:G}),tt=!0):this.su(O,G)||(a.track({type:2,doc:G}),tt=!0,(v&&this.eu(G,v)>0||y&&this.eu(G,y)<0)&&(p=!0)):!O&&G?(a.track({type:0,doc:G}),tt=!0):O&&!G&&(a.track({type:1,doc:O}),tt=!0,(v||y)&&(p=!0)),tt&&(G?(d=d.add(G),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(G,Z){const et=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ct(20277,{Vt:tt})}};return et(G)-et(Z)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new Wa(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Nt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new _0(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new y0(a))})),i}cu(t){this.Za=t.ks,this.Ya=Nt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Wa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const eg="SyncEngine";class xC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class zC{constructor(t){this.key=t,this.hu=!1}}class BC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Hs((p=>NT(p)),gh),this.Iu=new Map,this.Eu=new Set,this.Ru=new se(lt.comparator),this.Au=new Map,this.Vu=new jm,this.du={},this.mu=new Map,this.fu=$a.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qC(r,t,i=!0){const a=b0(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await v0(a,t,i,!0),l}async function HC(r,t){const i=b0(r);await v0(i,t,!0,!1)}async function v0(r,t,i,a){const l=await oC(r.localStore,Si(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await jC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&l0(r.remoteStore,l),p}async function jC(r,t,i,a,l){r.pu=(S,O,G)=>(async function(et,tt,dt,Tt){let _t=tt.view.ru(dt);_t.Ss&&(_t=await Qv(et.localStore,tt.query,!1).then((({documents:C})=>tt.view.ru(C,_t))));const qt=Tt&&Tt.targetChanges.get(tt.targetId),ae=Tt&&Tt.targetMismatches.get(tt.targetId)!=null,kt=tt.view.applyChanges(_t,et.isPrimaryClient,qt,ae);return nE(et,tt.targetId,kt.au),kt.snapshot})(r,S,O,G);const c=await Qv(r.localStore,t,!0),d=new PC(t,c.ks),p=d.ru(c.documents),v=Kl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,v);nE(r,i,y.au);const A=new xC(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function FC(r,t,i){const a=pt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Ym(a.remoteStore,l.targetId),gm(a,l.targetId)})).catch(ro)):(gm(a,l.targetId),await fm(a.localStore,l.targetId,!0))}async function GC(r,t){const i=pt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ym(i.remoteStore,a.targetId))}async function QC(r,t,i){const a=WC(r);try{const l=await(function(d,p){const v=pt(d),y=te.now(),A=p.reduce(((G,Z)=>G.add(Z.key)),Nt());let S,O;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Z=er(),et=Nt();return v.xs.getEntries(G,A).next((tt=>{Z=tt,Z.forEach(((dt,Tt)=>{Tt.isValidDocument()||(et=et.add(dt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,Z))).next((tt=>{S=tt;const dt=[];for(const Tt of p){const _t=lI(Tt,S.get(Tt.key).overlayedDocument);_t!=null&&dt.push(new is(Tt.key,_t,ST(_t.value.mapValue),Qe.exists(!0)))}return v.mutationQueue.addMutationBatch(G,y,dt,p)})).next((tt=>{O=tt;const dt=tt.applyToLocalDocumentSet(S,et);return v.documentOverlayCache.saveOverlays(G,tt.batchId,dt)}))})).then((()=>({batchId:O.batchId,changes:MT(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let y=d.du[d.currentUser.toKey()];y||(y=new se(Dt)),y=y.insert(p,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Xl(a,l.changes),await Sh(a.remoteStore)}catch(l){const c=Wm(l,"Failed to persist write");i.reject(c)}}async function E0(r,t){const i=pt(r);try{const a=await rC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ut(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ut(d.hu,14607):l.removedDocuments.size>0&&(Ut(d.hu,42227),d.hu=!1))})),await Xl(i,a,t)}catch(a){await ro(a)}}function eE(r,t,i){const a=pt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=pt(d);v.onlineState=p;let y=!1;v.queries.forEach(((A,S)=>{for(const O of S.ba)O.va(p)&&(y=!0)})),y&&tg(v)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function KC(r,t,i){const a=pt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new se(lt.comparator);d=d.insert(c,ke.newNoDocument(c,ft.min()));const p=Nt().add(c),v=new Eh(ft.min(),new Map,new se(Dt),d,p);await E0(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(t),ng(a)}else await fm(a.localStore,t,!1).then((()=>gm(a,t,i))).catch(ro)}async function YC(r,t){const i=pt(r),a=t.batch.batchId;try{const l=await iC(i.localStore,t);A0(i,a,null),T0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xl(i,l)}catch(l){await ro(l)}}async function XC(r,t,i){const a=pt(r);try{const l=await(function(d,p){const v=pt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,p).next((S=>(Ut(S!==null,37113),A=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);A0(a,t,i),T0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xl(a,l)}catch(l){await ro(l)}}function T0(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function A0(r,t,i){const a=pt(r);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function gm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((a=>{r.Vu.containsKey(a)||S0(r,a)}))}function S0(r,t){r.Eu.delete(t.path.canonicalString());const i=r.Ru.get(t);i!==null&&(Ym(r.remoteStore,i),r.Ru=r.Ru.remove(t),r.Au.delete(i),ng(r))}function nE(r,t,i){for(const a of i)a instanceof y0?(r.Vu.addReference(a.key,t),JC(r,a)):a instanceof _0?(nt(eg,"Document no longer in limbo: "+a.key),r.Vu.removeReference(a.key,t),r.Vu.containsKey(a.key)||S0(r,a.key)):ct(19791,{wu:a})}function JC(r,t){const i=t.key,a=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(a)||(nt(eg,"New document in limbo: "+i),r.Eu.add(a),ng(r))}function ng(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new lt(Zt.fromString(t)),a=r.fu.next();r.Au.set(a,new zC(i)),r.Ru=r.Ru.insert(i,a),l0(r.remoteStore,new Hr(Si(mh(i.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function Xl(r,t,i){const a=pt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Gm.Es(v.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const A=pt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Y.forEach(y,(O=>Y.forEach(O.Ts,(G=>A.persistence.referenceDelegate.addReference(S,O.targetId,G))).next((()=>Y.forEach(O.Is,(G=>A.persistence.referenceDelegate.removeReference(S,O.targetId,G)))))))))}catch(S){if(!so(S))throw S;nt(Qm,"Failed to update sequence numbers: "+S)}for(const S of y){const O=S.targetId;if(!S.fromCache){const G=A.vs.get(O),Z=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(Z);A.vs=A.vs.insert(O,et)}}})(a.localStore,c))}async function ZC(r,t){const i=pt(r);if(!i.currentUser.isEqual(t)){nt(eg,"User change. New user:",t.toKey());const a=await s0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new rt(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xl(i,a.Ns)}}function $C(r,t){const i=pt(r),a=i.Au.get(t);if(a&&a.hu)return Nt().add(a.key);{let l=Nt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function b0(r){const t=pt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=E0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$C.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=KC.bind(null,t),t.Pu.J_=LC.bind(null,t.eventManager),t.Pu.yu=kC.bind(null,t.eventManager),t}function WC(r){const t=pt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=YC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XC.bind(null,t),t}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return nC(this.persistence,new WI,t.initialUser,this.serializer)}Cu(t){return new r0(Fm.Vi,this.serializer)}Du(t){return new uC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class t2 extends sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ut(this.persistence.referenceDelegate instanceof ih,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new xI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new r0((a=>ih.Vi(a,i)),this.serializer)}}class pm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>eE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZC.bind(null,this.syncEngine),await VC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new UC})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),a=mC(t.databaseInfo);return vC(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new TC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>eE(this.syncEngine,i,0)),(function(){return Xv.v()?new Xv:new cC})())}createSyncEngine(t,i){return(function(l,c,d,p,v,y,A){const S=new BC(l,c,d,p,v,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=pt(i);nt(qs,"RemoteStore shutting down."),a.Ea.add(5),await Yl(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pm.provider={build:()=>new pm};class w0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):tr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}let e2=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new rt(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(l,c){const d=pt(l),p={documents:c.map((S=>nh(d.serializer,S)))},v=await d.jo("BatchGetDocuments",d.serializer.databaseId,Zt.emptyPath(),p,c.length),y=new Map;v.forEach((S=>{const O=TI(d.serializer,S);y.set(O.key.toString(),O)}));const A=[];return c.forEach((S=>{const O=y.get(S.toString());Ut(!!O,55234,{key:S}),A.push(O)})),A})(this.datastore,t);return i.forEach((a=>this.recordVersion(a))),i}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(t.toString())}delete(t){this.write(new vh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((i=>{t.delete(i.key.toString())})),t.forEach(((i,a)=>{const l=lt.fromPath(a);this.mutations.push(new jT(l,this.precondition(l)))})),await(async function(a,l){const c=pt(a),d={writes:l.map((p=>$T(c.serializer,p)))};await c.Wo("Commit",c.serializer.databaseId,Zt.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw ct(50498,{Gu:t.constructor.name});i=ft.min()}const a=this.readVersions.get(t.key.toString());if(a){if(!i.isEqual(a))throw new rt(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(ft.min())?Qe.exists(!1):Qe.updateTime(i):Qe.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(ft.min()))throw new rt(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Qe.updateTime(i)}return Qe.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class n2{constructor(t,i,a,l,c){this.asyncQueue=t,this.datastore=i,this.options=a,this.updateFunction=l,this.deferred=c,this.zu=a.maxAttempts,this.M_=new Km(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new e2(this.datastore),i=this.Ju(t);i&&i.then((a=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(a)})).catch((l=>{this.Zu(l)}))))})).catch((a=>{this.Zu(a)}))}))}Ju(t){try{const i=this.updateFunction(t);return!Gl(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const i=t.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!FT(i)}return!1}}const es="FirestoreClient";class i2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{nt(es,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(nt(es,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Wm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Kd(r,t){r.asyncQueue.verifyOperationInProgress(),nt(es,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await s0(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function iE(r,t){r.asyncQueue.verifyOperationInProgress();const i=await r2(r);nt(es,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Zv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Zv(t.remoteStore,l))),r._onlineComponents=t}async function r2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){nt(es,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Bs("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new sh)}}else nt(es,"Using default OfflineComponentProvider"),await Kd(r,new t2(void 0));return r._offlineComponents}async function ig(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(nt(es,"Using user provided OnlineComponentProvider"),await iE(r,r._uninitializedComponentsProvider._online)):(nt(es,"Using default OnlineComponentProvider"),await iE(r,new pm))),r._onlineComponents}function s2(r){return ig(r).then((t=>t.syncEngine))}function a2(r){return ig(r).then((t=>t.datastore))}async function ym(r){const t=await ig(r),i=t.eventManager;return i.onListen=qC.bind(null,t.syncEngine),i.onUnlisten=FC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=HC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=GC.bind(null,t.syncEngine),i}function o2(r,t,i,a){const l=new w0(a),c=new p0(t,l,i);return r.asyncQueue.enqueueAndForget((async()=>m0(await ym(r),c))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>g0(await ym(r),c)))}}function l2(r,t,i={}){const a=new Xi;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,v,y){const A=new w0({next:O=>{A.Nu(),d.enqueueAndForget((()=>g0(c,S)));const G=O.docs.has(p);!G&&O.fromCache?y.reject(new rt(X.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&O.fromCache&&v&&v.source==="server"?y.reject(new rt(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),S=new p0(mh(p.path),A,{includeMetadataChanges:!0,Ka:!0});return m0(c,S)})(await ym(r),r.asyncQueue,t,i,a))),a.promise}function u2(r,t){const i=new Xi;return r.asyncQueue.enqueueAndForget((async()=>QC(await s2(r),t,i))),i.promise}function c2(r,t,i){const a=new Xi;return r.asyncQueue.enqueueAndForget((async()=>{const l=await a2(r);new n2(r.asyncQueue,l,i,t,a).ju()})),a.promise}function R0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const h2="ComponentProvider",rE=new Map;function f2(r,t,i,a,l){return new OR(r,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,R0(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const I0="firestore.googleapis.com",sE=!0;class aE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I0,this.ssl=sE}else this.host=t.host,this.ssl=t.ssl??sE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=i0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kI)throw new rt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ER("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new cR;switch(a.type){case"firstParty":return new mR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=rE.get(i);a&&(nt(h2,"Removing Datastore"),rE.delete(i),a.terminate())})(this),Promise.resolve()}}function d2(r,t,i,a={}){r=An(r,bh);const l=to(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(EE(`https://${p}`),TE("Firestore",!0)),c.host!==I0&&c.host!==p&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:a};if(!Xr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=Je.MOCK_USER;else{y=LS(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new rt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Je(S)}r._authCredentials=new hR(new hT(y,A))}}class wh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new wh(this.firestore,t,this._query)}}class ue{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ue(this.firestore,t,this._key)}toJSON(){return{type:ue._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fl(i,ue._jsonSchema))return new ue(t,a||null,new lt(Zt.fromString(i.referencePath)))}}ue._jsonSchemaVersion="firestore/documentReference/1.0",ue._jsonSchema={type:we("string",ue._jsonSchemaVersion),referencePath:we("string")};class Kr extends wh{constructor(t,i,a){super(t,i,mh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ue(this.firestore,null,new lt(t))}withConverter(t){return new Kr(this.firestore,t,this._path)}}function G2(r,t,...i){if(r=Pe(r),fT("collection","path",t),r instanceof bh){const a=Zt.fromString(t,...i);return Ev(a),new Kr(r,null,a)}{if(!(r instanceof ue||r instanceof Kr))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Zt.fromString(t,...i));return Ev(a),new Kr(r.firestore,null,a)}}function m2(r,t,...i){if(r=Pe(r),arguments.length===1&&(t=Om.newId()),fT("doc","path",t),r instanceof bh){const a=Zt.fromString(t,...i);return vv(a),new ue(r,null,new lt(a))}{if(!(r instanceof ue||r instanceof Kr))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Zt.fromString(t,...i));return vv(a),new ue(r.firestore,r instanceof Kr?r.converter:null,new lt(a))}}const oE="AsyncQueue";class lE{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Km(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&nt(oE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!so(t))throw t;nt(oE,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,tr("INTERNAL UNHANDLED ERROR: ",uE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=$m.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ct(47125,{Pc:uE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function uE(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class nr extends bh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new lE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lE(t),this._firestoreClient=void 0,await t}}}function Q2(r,t){const i=typeof r=="object"?r:bE(),a=typeof r=="string"?r:Zc,l=Tm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=MS("firestore");c&&d2(l,...c)}return l}function Rh(r){if(r._terminated)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||g2(r),r._firestoreClient}function g2(r){const t=r._freezeSettings(),i=f2(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new i2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class En{constructor(t){this._byteString=t}static fromBase64String(t){try{return new En(Ke.fromBase64String(t))}catch(i){throw new rt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new En(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,En._jsonSchema))return En.fromBase64String(t.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:we("string",En._jsonSchemaVersion),bytes:we("string")};class Ih{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new rt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class oo{constructor(t){this._methodName=t}}class bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new rt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new rt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:we("string",bi._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};class Zn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,Zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Zn(t.vectorValues);throw new rt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:we("string",Zn._jsonSchemaVersion),vectorValues:we("object")};const p2=/^__.*__$/;class y2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new is(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ql(t,this.data,i,this.fieldTransforms)}}class C0{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new is(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function D0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ct(40011,{dataSource:r})}}class Ch{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Ch({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return ah(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(D0(this.dataSource)&&p2.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class _2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Th(t)}createContext(t,i,a,l=!1){return new Ch({dataSource:t,methodName:i,targetDoc:a,path:Ge.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dh(r){const t=r._freezeSettings(),i=Th(r._databaseId);return new _2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function rg(r,t,i,a,l,c={}){const d=r.createContext(c.merge||c.mergeFields?2:0,t,i,l);lg("Data must be an object, but it was:",d,a);const p=V0(a,d);let v,y;if(c.merge)v=new Tn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const O=kl(t,S,i);if(!d.contains(O))throw new rt(X.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);L0(A,O)||A.push(O)}v=new Tn(A),y=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=d.fieldTransforms;return new y2(new en(p),v,y)}class Nh extends oo{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nh}}function v2(r,t,i){return new Ch({dataSource:3,targetDoc:t.settings.targetDoc,methodName:r._methodName,arrayElement:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class sg extends oo{_toFieldTransform(t){return new zm(t.path,new Ml)}isEqual(t){return t instanceof sg}}class ag extends oo{constructor(t,i){super(t),this.Ac=i}_toFieldTransform(t){const i=v2(this,t,!0),a=this.Ac.map((c=>Jl(c,i))),l=new Za(a);return new zm(t.path,l)}isEqual(t){return t instanceof ag&&Xr(this.Ac,t.Ac)}}class og extends oo{constructor(t,i){super(t),this.Vc=i}_toFieldTransform(t){const i=new Ll(t.serializer,kT(t.serializer,this.Vc));return new zm(t.path,i)}isEqual(t){return t instanceof og&&this.Vc===t.Vc}}function N0(r,t,i,a){const l=r.createContext(1,t,i);lg("Data must be an object, but it was:",l,a);const c=[],d=en.empty();ns(a,((v,y)=>{const A=U0(t,v,i);y=Pe(y);const S=l.childContextForFieldPath(A);if(y instanceof Nh)c.push(A);else{const O=Jl(y,S);O!=null&&(c.push(A),d.set(A,O))}}));const p=new Tn(c);return new C0(d,p,l.fieldTransforms)}function O0(r,t,i,a,l,c){const d=r.createContext(1,t,i),p=[kl(t,a,i)],v=[l];if(c.length%2!=0)throw new rt(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(kl(t,c[O])),v.push(c[O+1]);const y=[],A=en.empty();for(let O=p.length-1;O>=0;--O)if(!L0(y,p[O])){const G=p[O];let Z=v[O];Z=Pe(Z);const et=d.childContextForFieldPath(G);if(Z instanceof Nh)y.push(G);else{const tt=Jl(Z,et);tt!=null&&(y.push(G),A.set(G,tt))}}const S=new Tn(y);return new C0(A,S,d.fieldTransforms)}function Jl(r,t){if(M0(r=Pe(r)))return lg("Unsupported field value:",t,r),V0(r,t);if(r instanceof oo)return(function(a,l){if(!D0(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let v=Jl(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Pe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return kT(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=te.fromDate(a);return{timestampValue:eh(l.serializer,c)}}if(a instanceof te){const c=new te(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:eh(l.serializer,c)}}if(a instanceof bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof En)return{bytesValue:YT(l.serializer,a._byteString)};if(a instanceof ue){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Hm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Zn)return(function(d,p){const v=d instanceof Zn?d.toArray():d;return{mapValue:{fields:{[TT]:{stringValue:AT},[$c]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return xm(p.serializer,A)}))}}}}}})(a,l);if(n0(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Vm(a)}`)})(r,t)}function V0(r,t){const i={};return gT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ns(r,((a,l)=>{const c=Jl(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function M0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof bi||r instanceof En||r instanceof ue||r instanceof oo||r instanceof Zn||n0(r))}function lg(r,t,i){if(!M0(i)||!dT(i)){const a=Vm(i);throw a==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+a)}}function kl(r,t,i){if((t=Pe(t))instanceof Ih)return t._internalPath;if(typeof t=="string")return U0(r,t);throw ah("Field path arguments must be of type string or ",r,!1,void 0,i)}const E2=new RegExp("[~\\*/\\[\\]]");function U0(r,t,i){if(t.search(E2)>=0)throw ah(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ih(...t.split("."))._internalPath}catch{throw ah(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ah(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new rt(X.INVALID_ARGUMENT,p+r+v)}function L0(r,t){return r.some((i=>i.isEqual(t)))}class k0{convertValue(t,i="none"){switch(Wr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes($r(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw ct(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ns(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[$c].arrayValue?.values?.map((a=>me(a.doubleValue)));return new Zn(i)}convertGeoPoint(t){return new bi(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=fh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Nl(t));default:return null}}convertTimestamp(t){const i=Zr(t);return new te(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Zt.fromString(t);Ut(e0(a),9688,{name:t});const l=new Ol(a.get(1),a.get(3)),c=new lt(a.popFirst(5));return l.isEqual(i)||tr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class ug extends k0{constructor(t){super(),this.firestore=t}convertBytes(t){return new En(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ue(this.firestore,null,i)}}function K2(){return new sg("serverTimestamp")}function Y2(...r){return new ag("arrayUnion",r)}function X2(r){return new og("increment",r)}const cE="@firebase/firestore",hE="4.11.0";function fE(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class oh{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new T2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(kl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class T2 extends oh{data(){return super.data()}}function A2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function cg(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class S2 extends k0{constructor(t){super(),this.firestore=t}convertBytes(t){return new En(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ue(this.firestore,null,i)}}class za{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yr extends oh{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(kl("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Yr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:we("string",Yr._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class qc extends Yr{data(t={}){return super.data(t)}}class Qa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new za(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new qc(this._firestore,this._userDataWriter,a.key,a,new za(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new za(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new za(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:b2(p.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function b2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ct(61501,{type:r})}}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:we("string",Qa._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};const w2={maxAttempts:5};function vl(r,t){if((r=Pe(r)).firestore!==t)throw new rt(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class R2{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Dh(t)}get(t){const i=vl(t,this._firestore),a=new S2(this._firestore);return this._transaction.lookup([i._key]).then((l=>{if(!l||l.length!==1)return ct(24041);const c=l[0];if(c.isFoundDocument())return new oh(this._firestore,a,c.key,c,i.converter);if(c.isNoDocument())return new oh(this._firestore,a,i._key,null,i.converter);throw ct(18433,{doc:c})}))}set(t,i,a){const l=vl(t,this._firestore),c=cg(l.converter,i,a),d=rg(this._dataReader,"Transaction.set",l._key,c,l.converter!==null,a);return this._transaction.set(l._key,d),this}update(t,i,a,...l){const c=vl(t,this._firestore);let d;return d=typeof(i=Pe(i))=="string"||i instanceof Ih?O0(this._dataReader,"Transaction.update",c._key,i,a,l):N0(this._dataReader,"Transaction.update",c._key,i),this._transaction.update(c._key,d),this}delete(t){const i=vl(t,this._firestore);return this._transaction.delete(i._key),this}}class I2 extends R2{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=vl(t,this._firestore),a=new ug(this._firestore);return super.get(t).then((l=>new Yr(this._firestore,a,i._key,l._document,new za(!1,!1),i.converter)))}}function J2(r,t,i){r=An(r,nr);const a={...w2,...i};(function(d){if(d.maxAttempts<1)throw new rt(X.INVALID_ARGUMENT,"Max attempts must be at least 1")})(a);const l=Rh(r);return c2(l,(c=>t(new I2(r,c))),a)}function Z2(r){r=An(r,ue);const t=An(r.firestore,nr),i=Rh(t);return l2(i,r._key).then((a=>P0(t,r,a)))}function $2(r,t,i){r=An(r,ue);const a=An(r.firestore,nr),l=cg(r.converter,t,i),c=Dh(a);return Oh(a,[rg(c,"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Qe.none())])}function W2(r,t,i,...a){r=An(r,ue);const l=An(r.firestore,nr),c=Dh(l);let d;return d=typeof(t=Pe(t))=="string"||t instanceof Ih?O0(c,"updateDoc",r._key,t,i,a):N0(c,"updateDoc",r._key,t),Oh(l,[d.toMutation(r._key,Qe.exists(!0))])}function tD(r){return Oh(An(r.firestore,nr),[new vh(r._key,Qe.none())])}function eD(r,t){const i=An(r.firestore,nr),a=m2(r),l=cg(r.converter,t),c=Dh(r.firestore);return Oh(i,[rg(c,"addDoc",a._key,l,r.converter!==null,{}).toMutation(a._key,Qe.exists(!1))]).then((()=>a))}function nD(r,...t){r=Pe(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||fE(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(fE(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof ue)d=An(r.firestore,nr),p=mh(r._key.path),c={next:y=>{t[a]&&t[a](P0(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=An(r,wh);d=An(y.firestore,nr),p=y._query;const A=new ug(d);c={next:S=>{t[a]&&t[a](new Qa(d,A,y,S))},error:t[a+1],complete:t[a+2]},A2(r._query)}const v=Rh(d);return o2(v,p,l,c)}function Oh(r,t){const i=Rh(r);return u2(i,t)}function P0(r,t,i){const a=i.docs.get(t._key),l=new ug(r);return new Yr(r,l,t._key,a,new za(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){uR(eo),Ka(new Ps("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new nr(new fR(a.getProvider("auth-internal")),new gR(d,a.getProvider("app-check-internal")),VR(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Gr(cE,hE,t),Gr(cE,hE,"esm2020")})();const x0=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim();const C2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const D2=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase());const dE=r=>{const t=D2(r);return t.charAt(0).toUpperCase()+t.slice(1)};var N2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const O2=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const V2=Ba.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},v)=>Ba.createElement("svg",{ref:v,...N2,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:x0("lucide",l),...!c&&!O2(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Ba.createElement(y,A)),...Array.isArray(c)?c:[c]]));const hg=(r,t)=>{const i=Ba.forwardRef(({className:a,...l},c)=>Ba.createElement(V2,{ref:c,iconNode:t,className:x0(`lucide-${C2(dE(r))}`,`lucide-${r}`,a),...l}));return i.displayName=dE(r),i};const M2=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],iD=hg("hammer",M2);const U2=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rD=hg("sparkles",U2);const L2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sD=hg("x",L2);export{iD as H,P2 as R,rD as S,sD as X,Q2 as a,G2 as b,hg as c,m2 as d,q2 as e,X2 as f,H2 as g,$2 as h,$1 as i,k2 as j,eD as k,K2 as l,x2 as m,B2 as n,nD as o,Z2 as p,Y2 as q,Ba as r,z2 as s,tD as t,W2 as u,J2 as v};
